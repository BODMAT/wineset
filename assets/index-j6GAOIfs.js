var dO=Object.defineProperty;var K2=t=>{throw TypeError(t)};var hO=(t,e,n)=>e in t?dO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var kt=(t,e,n)=>hO(t,typeof e!="symbol"?e+"":e,n),z0=(t,e,n)=>e.has(t)||K2("Cannot "+n);var J=(t,e,n)=>(z0(t,e,"read from private field"),n?n.call(t):e.get(t)),et=(t,e,n)=>e.has(t)?K2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),je=(t,e,n,i)=>(z0(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),bt=(t,e,n)=>(z0(t,e,"access private method"),n);var am=(t,e,n,i)=>({set _(r){je(t,e,r,n)},get _(){return J(t,e,i)}});function fO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U0={exports:{}},Rh={},$0={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function pO(){if(Z2)return St;Z2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(ee){return ee===null||typeof ee!="object"?null:(ee=v&&ee[v]||ee["@@iterator"],typeof ee=="function"?ee:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,C={};function k(ee,ce,Ee){this.props=ee,this.context=ce,this.refs=C,this.updater=Ee||T}k.prototype.isReactComponent={},k.prototype.setState=function(ee,ce){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,ce,"setState")},k.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function R(){}R.prototype=k.prototype;function F(ee,ce,Ee){this.props=ee,this.context=ce,this.refs=C,this.updater=Ee||T}var D=F.prototype=new R;D.constructor=F,I(D,k.prototype),D.isPureReactComponent=!0;var Z=Array.isArray,H=Object.prototype.hasOwnProperty,Q={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function N(ee,ce,Ee){var De,Le={},Ce=null,Xe=null;if(ce!=null)for(De in ce.ref!==void 0&&(Xe=ce.ref),ce.key!==void 0&&(Ce=""+ce.key),ce)H.call(ce,De)&&!U.hasOwnProperty(De)&&(Le[De]=ce[De]);var Qe=arguments.length-2;if(Qe===1)Le.children=Ee;else if(1<Qe){for(var Tt=Array(Qe),Xt=0;Xt<Qe;Xt++)Tt[Xt]=arguments[Xt+2];Le.children=Tt}if(ee&&ee.defaultProps)for(De in Qe=ee.defaultProps,Qe)Le[De]===void 0&&(Le[De]=Qe[De]);return{$$typeof:t,type:ee,key:Ce,ref:Xe,props:Le,_owner:Q.current}}function V(ee,ce){return{$$typeof:t,type:ee.type,key:ce,ref:ee.ref,props:ee.props,_owner:ee._owner}}function z(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function G(ee){var ce={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(Ee){return ce[Ee]})}var q=/\/+/g;function $(ee,ce){return typeof ee=="object"&&ee!==null&&ee.key!=null?G(""+ee.key):ce.toString(36)}function xe(ee,ce,Ee,De,Le){var Ce=typeof ee;(Ce==="undefined"||Ce==="boolean")&&(ee=null);var Xe=!1;if(ee===null)Xe=!0;else switch(Ce){case"string":case"number":Xe=!0;break;case"object":switch(ee.$$typeof){case t:case e:Xe=!0}}if(Xe)return Xe=ee,Le=Le(Xe),ee=De===""?"."+$(Xe,0):De,Z(Le)?(Ee="",ee!=null&&(Ee=ee.replace(q,"$&/")+"/"),xe(Le,ce,Ee,"",function(Xt){return Xt})):Le!=null&&(z(Le)&&(Le=V(Le,Ee+(!Le.key||Xe&&Xe.key===Le.key?"":(""+Le.key).replace(q,"$&/")+"/")+ee)),ce.push(Le)),1;if(Xe=0,De=De===""?".":De+":",Z(ee))for(var Qe=0;Qe<ee.length;Qe++){Ce=ee[Qe];var Tt=De+$(Ce,Qe);Xe+=xe(Ce,ce,Ee,Tt,Le)}else if(Tt=x(ee),typeof Tt=="function")for(ee=Tt.call(ee),Qe=0;!(Ce=ee.next()).done;)Ce=Ce.value,Tt=De+$(Ce,Qe++),Xe+=xe(Ce,ce,Ee,Tt,Le);else if(Ce==="object")throw ce=String(ee),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return Xe}function Oe(ee,ce,Ee){if(ee==null)return ee;var De=[],Le=0;return xe(ee,De,"","",function(Ce){return ce.call(Ee,Ce,Le++)}),De}function Re(ee){if(ee._status===-1){var ce=ee._result;ce=ce(),ce.then(function(Ee){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=Ee)},function(Ee){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=Ee)}),ee._status===-1&&(ee._status=0,ee._result=ce)}if(ee._status===1)return ee._result.default;throw ee._result}var Pe={current:null},ie={transition:null},_e={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return St.Children={map:Oe,forEach:function(ee,ce,Ee){Oe(ee,function(){ce.apply(this,arguments)},Ee)},count:function(ee){var ce=0;return Oe(ee,function(){ce++}),ce},toArray:function(ee){return Oe(ee,function(ce){return ce})||[]},only:function(ee){if(!z(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},St.Component=k,St.Fragment=n,St.Profiler=r,St.PureComponent=F,St.StrictMode=i,St.Suspense=d,St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,St.act=ae,St.cloneElement=function(ee,ce,Ee){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var De=I({},ee.props),Le=ee.key,Ce=ee.ref,Xe=ee._owner;if(ce!=null){if(ce.ref!==void 0&&(Ce=ce.ref,Xe=Q.current),ce.key!==void 0&&(Le=""+ce.key),ee.type&&ee.type.defaultProps)var Qe=ee.type.defaultProps;for(Tt in ce)H.call(ce,Tt)&&!U.hasOwnProperty(Tt)&&(De[Tt]=ce[Tt]===void 0&&Qe!==void 0?Qe[Tt]:ce[Tt])}var Tt=arguments.length-2;if(Tt===1)De.children=Ee;else if(1<Tt){Qe=Array(Tt);for(var Xt=0;Xt<Tt;Xt++)Qe[Xt]=arguments[Xt+2];De.children=Qe}return{$$typeof:t,type:ee.type,key:Le,ref:Ce,props:De,_owner:Xe}},St.createContext=function(ee){return ee={$$typeof:l,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},St.createElement=N,St.createFactory=function(ee){var ce=N.bind(null,ee);return ce.type=ee,ce},St.createRef=function(){return{current:null}},St.forwardRef=function(ee){return{$$typeof:c,render:ee}},St.isValidElement=z,St.lazy=function(ee){return{$$typeof:m,_payload:{_status:-1,_result:ee},_init:Re}},St.memo=function(ee,ce){return{$$typeof:p,type:ee,compare:ce===void 0?null:ce}},St.startTransition=function(ee){var ce=ie.transition;ie.transition={};try{ee()}finally{ie.transition=ce}},St.unstable_act=ae,St.useCallback=function(ee,ce){return Pe.current.useCallback(ee,ce)},St.useContext=function(ee){return Pe.current.useContext(ee)},St.useDebugValue=function(){},St.useDeferredValue=function(ee){return Pe.current.useDeferredValue(ee)},St.useEffect=function(ee,ce){return Pe.current.useEffect(ee,ce)},St.useId=function(){return Pe.current.useId()},St.useImperativeHandle=function(ee,ce,Ee){return Pe.current.useImperativeHandle(ee,ce,Ee)},St.useInsertionEffect=function(ee,ce){return Pe.current.useInsertionEffect(ee,ce)},St.useLayoutEffect=function(ee,ce){return Pe.current.useLayoutEffect(ee,ce)},St.useMemo=function(ee,ce){return Pe.current.useMemo(ee,ce)},St.useReducer=function(ee,ce,Ee){return Pe.current.useReducer(ee,ce,Ee)},St.useRef=function(ee){return Pe.current.useRef(ee)},St.useState=function(ee){return Pe.current.useState(ee)},St.useSyncExternalStore=function(ee,ce,Ee){return Pe.current.useSyncExternalStore(ee,ce,Ee)},St.useTransition=function(){return Pe.current.useTransition()},St.version="18.3.1",St}var Q2;function rw(){return Q2||(Q2=1,$0.exports=pO()),$0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function mO(){if(Y2)return Rh;Y2=1;var t=rw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,v={},x=null,T=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)i.call(d,m)&&!s.hasOwnProperty(m)&&(v[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:c,key:x,ref:T,props:v,_owner:r.current}}return Rh.Fragment=n,Rh.jsx=l,Rh.jsxs=l,Rh}var X2;function gO(){return X2||(X2=1,U0.exports=mO()),U0.exports}var w=gO(),lm={},H0={exports:{}},vr={},W0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function vO(){return J2||(J2=1,function(t){function e(ie,_e){var ae=ie.length;ie.push(_e);e:for(;0<ae;){var ee=ae-1>>>1,ce=ie[ee];if(0<r(ce,_e))ie[ee]=_e,ie[ae]=ce,ae=ee;else break e}}function n(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var _e=ie[0],ae=ie.pop();if(ae!==_e){ie[0]=ae;e:for(var ee=0,ce=ie.length,Ee=ce>>>1;ee<Ee;){var De=2*(ee+1)-1,Le=ie[De],Ce=De+1,Xe=ie[Ce];if(0>r(Le,ae))Ce<ce&&0>r(Xe,Le)?(ie[ee]=Xe,ie[Ce]=ae,ee=Ce):(ie[ee]=Le,ie[De]=ae,ee=De);else if(Ce<ce&&0>r(Xe,ae))ie[ee]=Xe,ie[Ce]=ae,ee=Ce;else break e}}return _e}function r(ie,_e){var ae=ie.sortIndex-_e.sortIndex;return ae!==0?ae:ie.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,v=null,x=3,T=!1,I=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ie){for(var _e=n(p);_e!==null;){if(_e.callback===null)i(p);else if(_e.startTime<=ie)i(p),_e.sortIndex=_e.expirationTime,e(d,_e);else break;_e=n(p)}}function Z(ie){if(C=!1,D(ie),!I)if(n(d)!==null)I=!0,Re(H);else{var _e=n(p);_e!==null&&Pe(Z,_e.startTime-ie)}}function H(ie,_e){I=!1,C&&(C=!1,R(N),N=-1),T=!0;var ae=x;try{for(D(_e),v=n(d);v!==null&&(!(v.expirationTime>_e)||ie&&!G());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,x=v.priorityLevel;var ce=ee(v.expirationTime<=_e);_e=t.unstable_now(),typeof ce=="function"?v.callback=ce:v===n(d)&&i(d),D(_e)}else i(d);v=n(d)}if(v!==null)var Ee=!0;else{var De=n(p);De!==null&&Pe(Z,De.startTime-_e),Ee=!1}return Ee}finally{v=null,x=ae,T=!1}}var Q=!1,U=null,N=-1,V=5,z=-1;function G(){return!(t.unstable_now()-z<V)}function q(){if(U!==null){var ie=t.unstable_now();z=ie;var _e=!0;try{_e=U(!0,ie)}finally{_e?$():(Q=!1,U=null)}}else Q=!1}var $;if(typeof F=="function")$=function(){F(q)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Oe=xe.port2;xe.port1.onmessage=q,$=function(){Oe.postMessage(null)}}else $=function(){k(q,0)};function Re(ie){U=ie,Q||(Q=!0,$())}function Pe(ie,_e){N=k(function(){ie(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,Re(H))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var _e=3;break;default:_e=x}var ae=x;x=_e;try{return ie()}finally{x=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=x;x=ie;try{return _e()}finally{x=ae}},t.unstable_scheduleCallback=function(ie,_e,ae){var ee=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ee+ae:ee):ae=ee,ie){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ae+ce,ie={id:m++,callback:_e,priorityLevel:ie,startTime:ae,expirationTime:ce,sortIndex:-1},ae>ee?(ie.sortIndex=ae,e(p,ie),n(d)===null&&ie===n(p)&&(C?(R(N),N=-1):C=!0,Pe(Z,ae-ee))):(ie.sortIndex=ce,e(d,ie),I||T||(I=!0,Re(H))),ie},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(ie){var _e=x;return function(){var ae=x;x=_e;try{return ie.apply(this,arguments)}finally{x=ae}}}}(q0)),q0}var eb;function _O(){return eb||(eb=1,W0.exports=vO()),W0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function yO(){if(tb)return vr;tb=1;var t=rw(),e=_O();function n(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(r[o]=u,o=0;o<u.length;o++)i.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function x(o){return d.call(v,o)?!0:d.call(m,o)?!1:p.test(o)?v[o]=!0:(m[o]=!0,!1)}function T(o,u,f,y){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,u,f,y){if(u===null||typeof u>"u"||T(o,u,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function C(o,u,f,y,S,P,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=o,this.type=u,this.sanitizeURL=P,this.removeEmptyString=M}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];k[u]=new C(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function F(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(R,F);k[u]=new C(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(R,F);k[u]=new C(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(R,F);k[u]=new C(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function D(o,u,f,y){var S=k.hasOwnProperty(u)?k[u]:null;(S!==null?S.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(I(u,f,S,y)&&(f=null),y||S===null?x(u)&&(f===null?o.removeAttribute(u):o.setAttribute(u,""+f)):S.mustUseProperty?o[S.propertyName]=f===null?S.type===3?!1:"":f:(u=S.attributeName,y=S.attributeNamespace,f===null?o.removeAttribute(u):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,y?o.setAttributeNS(y,u,f):o.setAttribute(u,f))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),G=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function _e(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Object.assign,ee;function ce(o){if(ee===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+o}var Ee=!1;function De(o,u){if(!o||Ee)return"";Ee=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var y=he}Reflect.construct(o,[],u)}else{try{u.call()}catch(he){y=he}o.call(u.prototype)}else{try{throw Error()}catch(he){y=he}o()}}catch(he){if(he&&y&&typeof he.stack=="string"){for(var S=he.stack.split(`
`),P=y.stack.split(`
`),M=S.length-1,K=P.length-1;1<=M&&0<=K&&S[M]!==P[K];)K--;for(;1<=M&&0<=K;M--,K--)if(S[M]!==P[K]){if(M!==1||K!==1)do if(M--,K--,0>K||S[M]!==P[K]){var te=`
`+S[M].replace(" at new "," at ");return o.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",o.displayName)),te}while(1<=M&&0<=K);break}}}finally{Ee=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?ce(o):""}function Le(o){switch(o.tag){case 5:return ce(o.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return o=De(o.type,!1),o;case 11:return o=De(o.type.render,!1),o;case 1:return o=De(o.type,!0),o;default:return""}}function Ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case U:return"Fragment";case Q:return"Portal";case V:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case xe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case G:return(o.displayName||"Context")+".Consumer";case z:return(o._context.displayName||"Context")+".Provider";case q:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Oe:return u=o.displayName||null,u!==null?u:Ce(o.type)||"Memo";case Re:u=o._payload,o=o._init;try{return Ce(o(u))}catch{}}return null}function Xe(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(u);case 8:return u===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Tt(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Xt(o){var u=Tt(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,P=f.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return S.call(this)},set:function(M){y=""+M,P.call(this,M)}}),Object.defineProperty(o,u,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function jn(o){o._valueTracker||(o._valueTracker=Xt(o))}function ni(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),y="";return o&&(y=Tt(o)?o.checked?"true":"false":o.value),o=y,o!==f?(u.setValue(o),!0):!1}function ii(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Di(o,u){var f=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Ur(o,u){var f=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;f=Qe(u.value!=null?u.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Lo(o,u){u=u.checked,u!=null&&D(o,"checked",u,!1)}function Gs(o,u){Lo(o,u);var f=Qe(u.value),y=u.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?ue(o,u.type,f):u.hasOwnProperty("defaultValue")&&ue(o,u.type,Qe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function X(o,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,f||u===o.value||(o.value=u),o.defaultValue=u}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function ue(o,u,f){(u!=="number"||ii(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var pe=Array.isArray;function ke(o,u,f,y){if(o=o.options,u){u={};for(var S=0;S<f.length;S++)u["$"+f[S]]=!0;for(f=0;f<o.length;f++)S=u.hasOwnProperty("$"+o[f].value),o[f].selected!==S&&(o[f].selected=S),S&&y&&(o[f].defaultSelected=!0)}else{for(f=""+Qe(f),u=null,S=0;S<o.length;S++){if(o[S].value===f){o[S].selected=!0,y&&(o[S].defaultSelected=!0);return}u!==null||o[S].disabled||(u=o[S])}u!==null&&(u.selected=!0)}}function Ie(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Se(o,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(n(92));if(pe(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),f=u}o._wrapperState={initialValue:Qe(f)}}function We(o,u){var f=Qe(u.value),y=Qe(u.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),u.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function ft(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function vt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?vt(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var xn,Oo=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,y,S){MSApp.execUnsafeLocalFunction(function(){return o(u,f,y,S)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=xn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Vi(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(o){fs.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),Ji[u]=Ji[o]})});function ps(o,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||Ji.hasOwnProperty(o)&&Ji[o]?(""+u).trim():u+"px"}function ms(o,u){o=o.style;for(var f in u)if(u.hasOwnProperty(f)){var y=f.indexOf("--")===0,S=ps(f,u[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,S):o[f]=S}}var gs=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vu(o,u){if(u){if(gs[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function vs(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function $a(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Mo=null,ji=null,Pr=null;function Ha(o){if(o=na(o)){if(typeof Mo!="function")throw Error(n(280));var u=o.stateNode;u&&(u=jc(u),Mo(o.stateNode,o.type,u))}}function $r(o){ji?Pr?Pr.push(o):Pr=[o]:ji=o}function _u(){if(ji){var o=ji,u=Pr;if(Pr=ji=null,Ha(o),u)for(o=0;o<u.length;o++)Ha(u[o])}}function Do(o,u){return o(u)}function yu(){}var _s=!1;function Vo(o,u,f){if(_s)return o(u,f);_s=!0;try{return Do(o,u,f)}finally{_s=!1,(ji!==null||Pr!==null)&&(yu(),_u())}}function ln(o,u){var f=o.stateNode;if(f===null)return null;var y=jc(f);if(y===null)return null;f=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,u,typeof f));return f}var Wa=!1;if(c)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Wa=!1}function jo(o,u,f,y,S,P,M,K,te){var he=Array.prototype.slice.call(arguments,3);try{u.apply(f,he)}catch(we){this.onError(we)}}var Kn=!1,$e=null,er=!1,qa=null,wc={onError:function(o){Kn=!0,$e=o}};function Fo(o,u,f,y,S,P,M,K,te){Kn=!1,$e=null,jo.apply(wc,arguments)}function Ga(o,u,f,y,S,P,M,K,te){if(Fo.apply(this,arguments),Kn){if(Kn){var he=$e;Kn=!1,$e=null}else throw Error(n(198));er||(er=!0,qa=he)}}function tr(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function nr(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function ir(o){if(tr(o)!==o)throw Error(n(188))}function xc(o){var u=o.alternate;if(!u){if(u=tr(o),u===null)throw Error(n(188));return u!==o?null:o}for(var f=o,y=u;;){var S=f.return;if(S===null)break;var P=S.alternate;if(P===null){if(y=S.return,y!==null){f=y;continue}break}if(S.child===P.child){for(P=S.child;P;){if(P===f)return ir(S),o;if(P===y)return ir(S),u;P=P.sibling}throw Error(n(188))}if(f.return!==y.return)f=S,y=P;else{for(var M=!1,K=S.child;K;){if(K===f){M=!0,f=S,y=P;break}if(K===y){M=!0,y=S,f=P;break}K=K.sibling}if(!M){for(K=P.child;K;){if(K===f){M=!0,f=P,y=S;break}if(K===y){M=!0,y=P,f=S;break}K=K.sibling}if(!M)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:u}function wu(o){return o=xc(o),o!==null?Ka(o):null}function Ka(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Ka(o);if(u!==null)return u;o=o.sibling}return null}var Za=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,bc=e.unstable_shouldYield,Ya=e.unstable_requestPaint,Kt=e.unstable_now,Sc=e.unstable_getCurrentPriorityLevel,Bo=e.unstable_ImmediatePriority,Ks=e.unstable_UserBlockingPriority,rr=e.unstable_NormalPriority,zo=e.unstable_LowPriority,Zs=e.unstable_IdlePriority,Qs=null,vi=null;function Ys(o){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Qs,o,void 0,(o.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:ys,$t=Math.log,Uo=Math.LN2;function ys(o){return o>>>=0,o===0?32:31-($t(o)/Uo|0)|0}var Ir=64,Xs=4194304;function at(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ht(o,u){var f=o.pendingLanes;if(f===0)return 0;var y=0,S=o.suspendedLanes,P=o.pingedLanes,M=f&268435455;if(M!==0){var K=M&~S;K!==0?y=at(K):(P&=M,P!==0&&(y=at(P)))}else M=f&~S,M!==0?y=at(M):P!==0&&(y=at(P));if(y===0)return 0;if(u!==0&&u!==y&&(u&S)===0&&(S=y&-y,P=u&-u,S>=P||S===16&&(P&4194240)!==0))return u;if((y&4)!==0&&(y|=f&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=y;0<u;)f=31-lt(u),S=1<<f,y|=o[f],u&=~S;return y}function xu(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(o,u){for(var f=o.suspendedLanes,y=o.pingedLanes,S=o.expirationTimes,P=o.pendingLanes;0<P;){var M=31-lt(P),K=1<<M,te=S[M];te===-1?((K&f)===0||(K&y)!==0)&&(S[M]=xu(K,u)):te<=u&&(o.expiredLanes|=K),P&=~K}}function Jt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function $o(){var o=Ir;return Ir<<=1,(Ir&4194240)===0&&(Ir=64),o}function Ar(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function _i(o,u,f){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-lt(u),o[u]=f}function ut(o,u){var f=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var S=31-lt(f),P=1<<S;u[S]=0,y[S]=-1,o[S]=-1,f&=~P}}function yi(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var y=31-lt(f),S=1<<y;S&u|o[y]&u&&(o[y]|=u),f&=~S}}var wt=0;function or(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Xa,Hr,Ja,el,Ho,Wo=!1,ar=[],mn=null,lr=null,Fi=null,Js=new Map,Ke=new Map,bn=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bu(o,u){switch(o){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Js.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ke.delete(u.pointerId)}}function Zn(o,u,f,y,S,P){return o===null||o.nativeEvent!==P?(o={blockedOn:u,domEventName:f,eventSystemFlags:y,nativeEvent:P,targetContainers:[S]},u!==null&&(u=na(u),u!==null&&Hr(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),o)}function Su(o,u,f,y,S){switch(u){case"focusin":return mn=Zn(mn,o,u,f,y,S),!0;case"dragenter":return lr=Zn(lr,o,u,f,y,S),!0;case"mouseover":return Fi=Zn(Fi,o,u,f,y,S),!0;case"pointerover":var P=S.pointerId;return Js.set(P,Zn(Js.get(P)||null,o,u,f,y,S)),!0;case"gotpointercapture":return P=S.pointerId,Ke.set(P,Zn(Ke.get(P)||null,o,u,f,y,S)),!0}return!1}function tl(o){var u=ta(o.target);if(u!==null){var f=tr(u);if(f!==null){if(u=f.tag,u===13){if(u=nr(f),u!==null){o.blockedOn=u,Ho(o.priority,function(){Ja(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ri(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=Ko(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);No=y,f.target.dispatchEvent(y),No=null}else return u=na(f),u!==null&&Hr(u),o.blockedOn=f,!1;u.shift()}return!0}function ws(o,u,f){ri(o)&&f.delete(u)}function eo(){Wo=!1,mn!==null&&ri(mn)&&(mn=null),lr!==null&&ri(lr)&&(lr=null),Fi!==null&&ri(Fi)&&(Fi=null),Js.forEach(ws),Ke.forEach(ws)}function Wt(o,u){o.blockedOn===u&&(o.blockedOn=null,Wo||(Wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eo)))}function Fn(o){function u(S){return Wt(S,o)}if(0<ar.length){Wt(ar[0],o);for(var f=1;f<ar.length;f++){var y=ar[f];y.blockedOn===o&&(y.blockedOn=null)}}for(mn!==null&&Wt(mn,o),lr!==null&&Wt(lr,o),Fi!==null&&Wt(Fi,o),Js.forEach(u),Ke.forEach(u),f=0;f<bn.length;f++)y=bn[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<bn.length&&(f=bn[0],f.blockedOn===null);)tl(f),f.blockedOn===null&&bn.shift()}var Wr=Z.ReactCurrentBatchConfig,xs=!0;function en(o,u,f,y){var S=wt,P=Wr.transition;Wr.transition=null;try{wt=1,qo(o,u,f,y)}finally{wt=S,Wr.transition=P}}function Tc(o,u,f,y){var S=wt,P=Wr.transition;Wr.transition=null;try{wt=4,qo(o,u,f,y)}finally{wt=S,Wr.transition=P}}function qo(o,u,f,y){if(xs){var S=Ko(o,u,f,y);if(S===null)a(o,u,y,Go,f),bu(o,y);else if(Su(S,o,u,f,y))y.stopPropagation();else if(bu(o,y),u&4&&-1<Vt.indexOf(o)){for(;S!==null;){var P=na(S);if(P!==null&&Xa(P),P=Ko(o,u,f,y),P===null&&a(o,u,y,Go,f),P===S)break;S=P}S!==null&&y.stopPropagation()}else a(o,u,y,null,f)}}var Go=null;function Ko(o,u,f,y){if(Go=null,o=$a(y),o=ta(o),o!==null)if(u=tr(o),u===null)o=null;else if(f=u.tag,f===13){if(o=nr(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Go=o,null}function xt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sc()){case Bo:return 1;case Ks:return 4;case rr:case zo:return 16;case Zs:return 536870912;default:return 16}default:return 16}}var Bi=null,Qn=null,An=null;function nl(){if(An)return An;var o,u=Qn,f=u.length,y,S="value"in Bi?Bi.value:Bi.textContent,P=S.length;for(o=0;o<f&&u[o]===S[o];o++);var M=f-o;for(y=1;y<=M&&u[f-y]===S[P-y];y++);return An=S.slice(o,1<y?1-y:void 0)}function il(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ur(){return!0}function Tu(){return!1}function kn(o){function u(f,y,S,P,M){this._reactName=f,this._targetInst=S,this.type=y,this.nativeEvent=P,this.target=M,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(f=o[K],this[K]=f?f(P):P[K]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?ur:Tu,this.isPropagationStopped=Tu,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),u}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=kn(kr),cr=ae({},kr,{view:0,detail:0}),rh=kn(cr),si,bs,Ss,wi=ae({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ss&&(Ss&&o.type==="mousemove"?(si=o.screenX-Ss.screenX,bs=o.screenY-Ss.screenY):bs=si=0,Ss=o),si)},movementY:function(o){return"movementY"in o?o.movementY:bs}}),Zo=kn(wi),sl=ae({},wi,{dataTransfer:0}),ol=kn(sl),al=ae({},cr,{relatedTarget:0}),Qo=kn(al),Eu=ae({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=kn(Eu),Ec=ae({},kr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ll=kn(Ec),Pc=ae({},kr,{data:0}),ul=kn(Pc),Yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=qr[o])?!!u[o]:!1}function xi(){return Cc}var g=ae({},cr,{key:function(o){if(o.key){var u=Yo[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=il(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Rn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(o){return o.type==="keypress"?il(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?il(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E=kn(g),O=ae({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=kn(O),re=ae({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),fe=kn(re),Ae=ae({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nt=kn(Ae),gn=ae({},wi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Et=kn(gn),jt=[9,13,27,32],Qt=c&&"CompositionEvent"in window,dr=null;c&&"documentMode"in document&&(dr=document.documentMode);var un=c&&"TextEvent"in window&&!dr,Xo=c&&(!Qt||dr&&8<dr&&11>=dr),Rr=" ",dp=!1;function cl(o,u){switch(o){case"keyup":return jt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Es=!1;function Lv(o,u){switch(o){case"compositionend":return sh(u);case"keypress":return u.which!==32?null:(dp=!0,Rr);case"textInput":return o=u.data,o===Rr&&dp?null:o;default:return null}}function to(o,u){if(Es)return o==="compositionend"||!Qt&&cl(o,u)?(o=nl(),An=Qn=Bi=null,Es=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Xo&&u.locale!=="ko"?null:u.data;default:return null}}var Ic={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Ic[o.type]:u==="textarea"}function Ac(o,u,f,y){$r(y),u=_(u,"onChange"),0<u.length&&(f=new rl("onChange","change",null,f,y),o.push({event:f,listeners:u}))}var Pu=null,zi=null;function Ov(o){ph(o,0)}function Ps(o){var u=ia(o);if(ni(u))return o}function Nv(o,u){if(o==="change")return u}var Gr=!1;if(c){var dl;if(c){var kc="oninput"in document;if(!kc){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),kc=typeof Rc.oninput=="function"}dl=kc}else dl=!1;Gr=dl&&(!document.documentMode||9<document.documentMode)}function Cu(){Pu&&(Pu.detachEvent("onpropertychange",Lc),zi=Pu=null)}function Lc(o){if(o.propertyName==="value"&&Ps(zi)){var u=[];Ac(u,zi,o,$a(o)),Vo(Ov,u)}}function Oc(o,u,f){o==="focusin"?(Cu(),Pu=u,zi=f,Pu.attachEvent("onpropertychange",Lc)):o==="focusout"&&Cu()}function hl(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ps(zi)}function Nc(o,u){if(o==="click")return Ps(u)}function oh(o,u){if(o==="input"||o==="change")return Ps(u)}function fp(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Lr=typeof Object.is=="function"?Object.is:fp;function no(o,u){if(Lr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),y=Object.keys(u);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var S=f[y];if(!d.call(u,S)||!Lr(o[S],u[S]))return!1}return!0}function pp(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ah(o,u){var f=pp(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=u&&y>=u)return{node:f,offset:u-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=pp(f)}}function mp(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?mp(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function lh(){for(var o=window,u=ii();u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=ii(o.document)}return u}function uh(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function Kr(o){var u=lh(),f=o.focusedElem,y=o.selectionRange;if(u!==f&&f&&f.ownerDocument&&mp(f.ownerDocument.documentElement,f)){if(y!==null&&uh(f)){if(u=y.start,o=y.end,o===void 0&&(o=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(o,f.value.length);else if(o=(u=f.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var S=f.textContent.length,P=Math.min(y.start,S);y=y.end===void 0?P:Math.min(y.end,S),!o.extend&&P>y&&(S=y,y=P,P=S),S=ah(f,P);var M=ah(f,y);S&&M&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),o.removeAllRanges(),P>y?(o.addRange(u),o.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),o.addRange(u)))}}for(u=[],o=f;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)o=u[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Mc=c&&"documentMode"in document&&11>=document.documentMode,fl=null,pl=null,Iu=null,Dc=!1;function gp(o,u,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Dc||fl==null||fl!==ii(y)||(y=fl,"selectionStart"in y&&uh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Iu&&no(Iu,y)||(Iu=y,y=_(pl,"onSelect"),0<y.length&&(u=new rl("onSelect","select",null,u,f),o.push({event:u,listeners:y}),u.target=fl)))}function io(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var ml={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},ro={},ch={};c&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Au(o){if(ro[o])return ro[o];if(!ml[o])return o;var u=ml[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in ch)return ro[o]=u[f];return o}var vp=Au("animationend"),Zr=Au("animationiteration"),dh=Au("animationstart"),hh=Au("transitionend"),gl=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(o,u){gl.set(o,u),s(u,[o])}for(var Jo=0;Jo<_p.length;Jo++){var Vc=_p[Jo],yp=Vc.toLowerCase(),Mv=Vc[0].toUpperCase()+Vc.slice(1);Or(yp,"on"+Mv)}Or(vp,"onAnimationEnd"),Or(Zr,"onAnimationIteration"),Or(dh,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(hh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function fh(o,u,f){var y=o.type||"unknown-event";o.currentTarget=f,Ga(y,u,void 0,o),o.currentTarget=null}function ph(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],S=y.event;y=y.listeners;e:{var P=void 0;if(u)for(var M=y.length-1;0<=M;M--){var K=y[M],te=K.instance,he=K.currentTarget;if(K=K.listener,te!==P&&S.isPropagationStopped())break e;fh(S,K,he),P=te}else for(M=0;M<y.length;M++){if(K=y[M],te=K.instance,he=K.currentTarget,K=K.listener,te!==P&&S.isPropagationStopped())break e;fh(S,K,he),P=te}}}if(er)throw o=qa,er=!1,qa=null,o}function Zt(o,u){var f=u[xl];f===void 0&&(f=u[xl]=new Set);var y=o+"__bubble";f.has(y)||(xp(u,o,2,!1),f.add(y))}function mh(o,u,f){var y=0;u&&(y|=4),xp(f,o,y,u)}var ku="_reactListening"+Math.random().toString(36).slice(2);function _l(o){if(!o[ku]){o[ku]=!0,i.forEach(function(f){f!=="selectionchange"&&(wp.has(f)||mh(f,!1,o),mh(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[ku]||(u[ku]=!0,mh("selectionchange",!1,u))}}function xp(o,u,f,y){switch(xt(u)){case 1:var S=en;break;case 4:S=Tc;break;default:S=qo}f=S.bind(null,u,f,o),S=void 0,!Wa||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),y?S!==void 0?o.addEventListener(u,f,{capture:!0,passive:S}):o.addEventListener(u,f,!0):S!==void 0?o.addEventListener(u,f,{passive:S}):o.addEventListener(u,f,!1)}function a(o,u,f,y,S){var P=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var K=y.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(M===4)for(M=y.return;M!==null;){var te=M.tag;if((te===3||te===4)&&(te=M.stateNode.containerInfo,te===S||te.nodeType===8&&te.parentNode===S))return;M=M.return}for(;K!==null;){if(M=ta(K),M===null)return;if(te=M.tag,te===5||te===6){y=P=M;continue e}K=K.parentNode}}y=y.return}Vo(function(){var he=P,we=$a(f),be=[];e:{var ye=gl.get(o);if(ye!==void 0){var Ve=rl,Ue=o;switch(o){case"keypress":if(il(f)===0)break e;case"keydown":case"keyup":Ve=E;break;case"focusin":Ue="focus",Ve=Qo;break;case"focusout":Ue="blur",Ve=Qo;break;case"beforeblur":case"afterblur":Ve=Qo;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=fe;break;case vp:case Zr:case dh:Ve=Ts;break;case hh:Ve=Nt;break;case"scroll":Ve=rh;break;case"wheel":Ve=Et;break;case"copy":case"cut":case"paste":Ve=ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=W}var He=(u&4)!==0,Sn=!He&&o==="scroll",oe=He?ye!==null?ye+"Capture":null:ye;He=[];for(var ne=he,le;ne!==null;){le=ne;var Te=le.stateNode;if(le.tag===5&&Te!==null&&(le=Te,oe!==null&&(Te=ln(ne,oe),Te!=null&&He.push(h(ne,Te,le)))),Sn)break;ne=ne.return}0<He.length&&(ye=new Ve(ye,Ue,null,f,we),be.push({event:ye,listeners:He}))}}if((u&7)===0){e:{if(ye=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",ye&&f!==No&&(Ue=f.relatedTarget||f.fromElement)&&(ta(Ue)||Ue[Ft]))break e;if((Ve||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ve?(Ue=f.relatedTarget||f.toElement,Ve=he,Ue=Ue?ta(Ue):null,Ue!==null&&(Sn=tr(Ue),Ue!==Sn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Ve=null,Ue=he),Ve!==Ue)){if(He=Zo,Te="onMouseLeave",oe="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(He=W,Te="onPointerLeave",oe="onPointerEnter",ne="pointer"),Sn=Ve==null?ye:ia(Ve),le=Ue==null?ye:ia(Ue),ye=new He(Te,ne+"leave",Ve,f,we),ye.target=Sn,ye.relatedTarget=le,Te=null,ta(we)===he&&(He=new He(oe,ne+"enter",Ue,f,we),He.target=le,He.relatedTarget=Sn,Te=He),Sn=Te,Ve&&Ue)t:{for(He=Ve,oe=Ue,ne=0,le=He;le;le=b(le))ne++;for(le=0,Te=oe;Te;Te=b(Te))le++;for(;0<ne-le;)He=b(He),ne--;for(;0<le-ne;)oe=b(oe),le--;for(;ne--;){if(He===oe||oe!==null&&He===oe.alternate)break t;He=b(He),oe=b(oe)}He=null}else He=null;Ve!==null&&A(be,ye,Ve,He,!1),Ue!==null&&Sn!==null&&A(be,Sn,Ue,He,!0)}}e:{if(ye=he?ia(he):window,Ve=ye.nodeName&&ye.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&ye.type==="file")var qe=Nv;else if(hp(ye))if(Gr)qe=oh;else{qe=hl;var tt=Oc}else(Ve=ye.nodeName)&&Ve.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(qe=Nc);if(qe&&(qe=qe(o,he))){Ac(be,qe,f,we);break e}tt&&tt(o,ye,he),o==="focusout"&&(tt=ye._wrapperState)&&tt.controlled&&ye.type==="number"&&ue(ye,"number",ye.value)}switch(tt=he?ia(he):window,o){case"focusin":(hp(tt)||tt.contentEditable==="true")&&(fl=tt,pl=he,Iu=null);break;case"focusout":Iu=pl=fl=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,gp(be,f,we);break;case"selectionchange":if(Mc)break;case"keydown":case"keyup":gp(be,f,we)}var nt;if(Qt)e:{switch(o){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Es?cl(o,f)&&(dt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(dt="onCompositionStart");dt&&(Xo&&f.locale!=="ko"&&(Es||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Es&&(nt=nl()):(Bi=we,Qn="value"in Bi?Bi.value:Bi.textContent,Es=!0)),tt=_(he,dt),0<tt.length&&(dt=new ul(dt,o,null,f,we),be.push({event:dt,listeners:tt}),nt?dt.data=nt:(nt=sh(f),nt!==null&&(dt.data=nt)))),(nt=un?Lv(o,f):to(o,f))&&(he=_(he,"onBeforeInput"),0<he.length&&(we=new ul("onBeforeInput","beforeinput",null,f,we),be.push({event:we,listeners:he}),we.data=nt))}ph(be,u)})}function h(o,u,f){return{instance:o,listener:u,currentTarget:f}}function _(o,u){for(var f=u+"Capture",y=[];o!==null;){var S=o,P=S.stateNode;S.tag===5&&P!==null&&(S=P,P=ln(o,f),P!=null&&y.unshift(h(o,P,S)),P=ln(o,u),P!=null&&y.push(h(o,P,S))),o=o.return}return y}function b(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function A(o,u,f,y,S){for(var P=u._reactName,M=[];f!==null&&f!==y;){var K=f,te=K.alternate,he=K.stateNode;if(te!==null&&te===y)break;K.tag===5&&he!==null&&(K=he,S?(te=ln(f,P),te!=null&&M.unshift(h(f,te,K))):S||(te=ln(f,P),te!=null&&M.push(h(f,te,K)))),f=f.return}M.length!==0&&o.push({event:u,listeners:M})}var j=/\r\n?/g,Y=/\u0000|\uFFFD/g;function se(o){return(typeof o=="string"?o:""+o).replace(j,`
`).replace(Y,"")}function de(o,u,f){if(u=se(u),se(o)!==u&&f)throw Error(n(425))}function ve(){}var Me=null,Je=null;function _t(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Bn=typeof setTimeout=="function"?setTimeout:void 0,Ln=typeof clearTimeout=="function"?clearTimeout:void 0,Ui=typeof Promise=="function"?Promise:void 0,bi=typeof queueMicrotask=="function"?queueMicrotask:typeof Ui<"u"?function(o){return Ui.resolve(null).then(o).catch(yl)}:Bn;function yl(o){setTimeout(function(){throw o})}function gh(o,u){var f=u,y=0;do{var S=f.nextSibling;if(o.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(y===0){o.removeChild(S),Fn(u);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=S}while(f);Fn(u)}function so(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function bp(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return o;u--}else f==="/$"&&u++}o=o.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Qr="__reactFiber$"+ea,wl="__reactProps$"+ea,Ft="__reactContainer$"+ea,xl="__reactEvents$"+ea,Dv="__reactListeners$"+ea,Vv="__reactHandles$"+ea;function ta(o){var u=o[Qr];if(u)return u;for(var f=o.parentNode;f;){if(u=f[Ft]||f[Qr]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=bp(o);o!==null;){if(f=o[Qr])return f;o=bp(o)}return u}o=f,f=o.parentNode}return null}function na(o){return o=o[Qr]||o[Ft],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ia(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function jc(o){return o[wl]||null}var jv=[],Fc=-1;function bl(o){return{current:o}}function sn(o){0>Fc||(o.current=jv[Fc],jv[Fc]=null,Fc--)}function tn(o,u){Fc++,jv[Fc]=o.current,o.current=u}var Sl={},Si=bl(Sl),hr=bl(!1),Ru=Sl;function Bc(o,u){var f=o.type.contextTypes;if(!f)return Sl;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var S={},P;for(P in f)S[P]=u[P];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=S),S}function fr(o){return o=o.childContextTypes,o!=null}function Sp(){sn(hr),sn(Si)}function g1(o,u,f){if(Si.current!==Sl)throw Error(n(168));tn(Si,u),tn(hr,f)}function v1(o,u,f){var y=o.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var S in y)if(!(S in u))throw Error(n(108,Xe(o)||"Unknown",S));return ae({},f,y)}function Tp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Sl,Ru=Si.current,tn(Si,o),tn(hr,hr.current),!0}function _1(o,u,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=v1(o,u,Ru),y.__reactInternalMemoizedMergedChildContext=o,sn(hr),sn(Si),tn(Si,o)):sn(hr),tn(hr,f)}var ra=null,Ep=!1,Fv=!1;function y1(o){ra===null?ra=[o]:ra.push(o)}function kL(o){Ep=!0,y1(o)}function Tl(){if(!Fv&&ra!==null){Fv=!0;var o=0,u=wt;try{var f=ra;for(wt=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}ra=null,Ep=!1}catch(S){throw ra!==null&&(ra=ra.slice(o+1)),Za(Bo,Tl),S}finally{wt=u,Fv=!1}}return null}var zc=[],Uc=0,Pp=null,Cp=0,Yr=[],Xr=0,Lu=null,sa=1,oa="";function Ou(o,u){zc[Uc++]=Cp,zc[Uc++]=Pp,Pp=o,Cp=u}function w1(o,u,f){Yr[Xr++]=sa,Yr[Xr++]=oa,Yr[Xr++]=Lu,Lu=o;var y=sa;o=oa;var S=32-lt(y)-1;y&=~(1<<S),f+=1;var P=32-lt(u)+S;if(30<P){var M=S-S%5;P=(y&(1<<M)-1).toString(32),y>>=M,S-=M,sa=1<<32-lt(u)+S|f<<S|y,oa=P+o}else sa=1<<P|f<<S|y,oa=o}function Bv(o){o.return!==null&&(Ou(o,1),w1(o,1,0))}function zv(o){for(;o===Pp;)Pp=zc[--Uc],zc[Uc]=null,Cp=zc[--Uc],zc[Uc]=null;for(;o===Lu;)Lu=Yr[--Xr],Yr[Xr]=null,oa=Yr[--Xr],Yr[Xr]=null,sa=Yr[--Xr],Yr[Xr]=null}var Nr=null,Mr=null,an=!1,Cs=null;function x1(o,u){var f=ns(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=o,u=o.deletions,u===null?(o.deletions=[f],o.flags|=16):u.push(f)}function b1(o,u){switch(o.tag){case 5:var f=o.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Nr=o,Mr=so(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Nr=o,Mr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Lu!==null?{id:sa,overflow:oa}:null,o.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=ns(18,null,null,0),f.stateNode=u,f.return=o,o.child=f,Nr=o,Mr=null,!0):!1;default:return!1}}function Uv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function $v(o){if(an){var u=Mr;if(u){var f=u;if(!b1(o,u)){if(Uv(o))throw Error(n(418));u=so(f.nextSibling);var y=Nr;u&&b1(o,u)?x1(y,f):(o.flags=o.flags&-4097|2,an=!1,Nr=o)}}else{if(Uv(o))throw Error(n(418));o.flags=o.flags&-4097|2,an=!1,Nr=o}}}function S1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Nr=o}function Ip(o){if(o!==Nr)return!1;if(!an)return S1(o),an=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!_t(o.type,o.memoizedProps)),u&&(u=Mr)){if(Uv(o))throw T1(),Error(n(418));for(;u;)x1(o,u),u=so(u.nextSibling)}if(S1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(u===0){Mr=so(o.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}o=o.nextSibling}Mr=null}}else Mr=Nr?so(o.stateNode.nextSibling):null;return!0}function T1(){for(var o=Mr;o;)o=so(o.nextSibling)}function $c(){Mr=Nr=null,an=!1}function Hv(o){Cs===null?Cs=[o]:Cs.push(o)}var RL=Z.ReactCurrentBatchConfig;function vh(o,u,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var S=y,P=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(M){var K=S.refs;M===null?delete K[P]:K[P]=M},u._stringRef=P,u)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Ap(o,u){throw o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function E1(o){var u=o._init;return u(o._payload)}function P1(o){function u(oe,ne){if(o){var le=oe.deletions;le===null?(oe.deletions=[ne],oe.flags|=16):le.push(ne)}}function f(oe,ne){if(!o)return null;for(;ne!==null;)u(oe,ne),ne=ne.sibling;return null}function y(oe,ne){for(oe=new Map;ne!==null;)ne.key!==null?oe.set(ne.key,ne):oe.set(ne.index,ne),ne=ne.sibling;return oe}function S(oe,ne){return oe=Ll(oe,ne),oe.index=0,oe.sibling=null,oe}function P(oe,ne,le){return oe.index=le,o?(le=oe.alternate,le!==null?(le=le.index,le<ne?(oe.flags|=2,ne):le):(oe.flags|=2,ne)):(oe.flags|=1048576,ne)}function M(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,ne,le,Te){return ne===null||ne.tag!==6?(ne=M0(le,oe.mode,Te),ne.return=oe,ne):(ne=S(ne,le),ne.return=oe,ne)}function te(oe,ne,le,Te){var qe=le.type;return qe===U?we(oe,ne,le.props.children,Te,le.key):ne!==null&&(ne.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Re&&E1(qe)===ne.type)?(Te=S(ne,le.props),Te.ref=vh(oe,ne,le),Te.return=oe,Te):(Te=Jp(le.type,le.key,le.props,null,oe.mode,Te),Te.ref=vh(oe,ne,le),Te.return=oe,Te)}function he(oe,ne,le,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=D0(le,oe.mode,Te),ne.return=oe,ne):(ne=S(ne,le.children||[]),ne.return=oe,ne)}function we(oe,ne,le,Te,qe){return ne===null||ne.tag!==7?(ne=zu(le,oe.mode,Te,qe),ne.return=oe,ne):(ne=S(ne,le),ne.return=oe,ne)}function be(oe,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=M0(""+ne,oe.mode,le),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case H:return le=Jp(ne.type,ne.key,ne.props,null,oe.mode,le),le.ref=vh(oe,null,ne),le.return=oe,le;case Q:return ne=D0(ne,oe.mode,le),ne.return=oe,ne;case Re:var Te=ne._init;return be(oe,Te(ne._payload),le)}if(pe(ne)||_e(ne))return ne=zu(ne,oe.mode,le,null),ne.return=oe,ne;Ap(oe,ne)}return null}function ye(oe,ne,le,Te){var qe=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return qe!==null?null:K(oe,ne,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case H:return le.key===qe?te(oe,ne,le,Te):null;case Q:return le.key===qe?he(oe,ne,le,Te):null;case Re:return qe=le._init,ye(oe,ne,qe(le._payload),Te)}if(pe(le)||_e(le))return qe!==null?null:we(oe,ne,le,Te,null);Ap(oe,le)}return null}function Ve(oe,ne,le,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return oe=oe.get(le)||null,K(ne,oe,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case H:return oe=oe.get(Te.key===null?le:Te.key)||null,te(ne,oe,Te,qe);case Q:return oe=oe.get(Te.key===null?le:Te.key)||null,he(ne,oe,Te,qe);case Re:var tt=Te._init;return Ve(oe,ne,le,tt(Te._payload),qe)}if(pe(Te)||_e(Te))return oe=oe.get(le)||null,we(ne,oe,Te,qe,null);Ap(ne,Te)}return null}function Ue(oe,ne,le,Te){for(var qe=null,tt=null,nt=ne,dt=ne=0,Jn=null;nt!==null&&dt<le.length;dt++){nt.index>dt?(Jn=nt,nt=null):Jn=nt.sibling;var Ot=ye(oe,nt,le[dt],Te);if(Ot===null){nt===null&&(nt=Jn);break}o&&nt&&Ot.alternate===null&&u(oe,nt),ne=P(Ot,ne,dt),tt===null?qe=Ot:tt.sibling=Ot,tt=Ot,nt=Jn}if(dt===le.length)return f(oe,nt),an&&Ou(oe,dt),qe;if(nt===null){for(;dt<le.length;dt++)nt=be(oe,le[dt],Te),nt!==null&&(ne=P(nt,ne,dt),tt===null?qe=nt:tt.sibling=nt,tt=nt);return an&&Ou(oe,dt),qe}for(nt=y(oe,nt);dt<le.length;dt++)Jn=Ve(nt,oe,dt,le[dt],Te),Jn!==null&&(o&&Jn.alternate!==null&&nt.delete(Jn.key===null?dt:Jn.key),ne=P(Jn,ne,dt),tt===null?qe=Jn:tt.sibling=Jn,tt=Jn);return o&&nt.forEach(function(Ol){return u(oe,Ol)}),an&&Ou(oe,dt),qe}function He(oe,ne,le,Te){var qe=_e(le);if(typeof qe!="function")throw Error(n(150));if(le=qe.call(le),le==null)throw Error(n(151));for(var tt=qe=null,nt=ne,dt=ne=0,Jn=null,Ot=le.next();nt!==null&&!Ot.done;dt++,Ot=le.next()){nt.index>dt?(Jn=nt,nt=null):Jn=nt.sibling;var Ol=ye(oe,nt,Ot.value,Te);if(Ol===null){nt===null&&(nt=Jn);break}o&&nt&&Ol.alternate===null&&u(oe,nt),ne=P(Ol,ne,dt),tt===null?qe=Ol:tt.sibling=Ol,tt=Ol,nt=Jn}if(Ot.done)return f(oe,nt),an&&Ou(oe,dt),qe;if(nt===null){for(;!Ot.done;dt++,Ot=le.next())Ot=be(oe,Ot.value,Te),Ot!==null&&(ne=P(Ot,ne,dt),tt===null?qe=Ot:tt.sibling=Ot,tt=Ot);return an&&Ou(oe,dt),qe}for(nt=y(oe,nt);!Ot.done;dt++,Ot=le.next())Ot=Ve(nt,oe,dt,Ot.value,Te),Ot!==null&&(o&&Ot.alternate!==null&&nt.delete(Ot.key===null?dt:Ot.key),ne=P(Ot,ne,dt),tt===null?qe=Ot:tt.sibling=Ot,tt=Ot);return o&&nt.forEach(function(cO){return u(oe,cO)}),an&&Ou(oe,dt),qe}function Sn(oe,ne,le,Te){if(typeof le=="object"&&le!==null&&le.type===U&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case H:e:{for(var qe=le.key,tt=ne;tt!==null;){if(tt.key===qe){if(qe=le.type,qe===U){if(tt.tag===7){f(oe,tt.sibling),ne=S(tt,le.props.children),ne.return=oe,oe=ne;break e}}else if(tt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Re&&E1(qe)===tt.type){f(oe,tt.sibling),ne=S(tt,le.props),ne.ref=vh(oe,tt,le),ne.return=oe,oe=ne;break e}f(oe,tt);break}else u(oe,tt);tt=tt.sibling}le.type===U?(ne=zu(le.props.children,oe.mode,Te,le.key),ne.return=oe,oe=ne):(Te=Jp(le.type,le.key,le.props,null,oe.mode,Te),Te.ref=vh(oe,ne,le),Te.return=oe,oe=Te)}return M(oe);case Q:e:{for(tt=le.key;ne!==null;){if(ne.key===tt)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){f(oe,ne.sibling),ne=S(ne,le.children||[]),ne.return=oe,oe=ne;break e}else{f(oe,ne);break}else u(oe,ne);ne=ne.sibling}ne=D0(le,oe.mode,Te),ne.return=oe,oe=ne}return M(oe);case Re:return tt=le._init,Sn(oe,ne,tt(le._payload),Te)}if(pe(le))return Ue(oe,ne,le,Te);if(_e(le))return He(oe,ne,le,Te);Ap(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ne!==null&&ne.tag===6?(f(oe,ne.sibling),ne=S(ne,le),ne.return=oe,oe=ne):(f(oe,ne),ne=M0(le,oe.mode,Te),ne.return=oe,oe=ne),M(oe)):f(oe,ne)}return Sn}var Hc=P1(!0),C1=P1(!1),kp=bl(null),Rp=null,Wc=null,Wv=null;function qv(){Wv=Wc=Rp=null}function Gv(o){var u=kp.current;sn(kp),o._currentValue=u}function Kv(o,u,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===f)break;o=o.return}}function qc(o,u){Rp=o,Wv=Wc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(pr=!0),o.firstContext=null)}function Jr(o){var u=o._currentValue;if(Wv!==o)if(o={context:o,memoizedValue:u,next:null},Wc===null){if(Rp===null)throw Error(n(308));Wc=o,Rp.dependencies={lanes:0,firstContext:o}}else Wc=Wc.next=o;return u}var Nu=null;function Zv(o){Nu===null?Nu=[o]:Nu.push(o)}function I1(o,u,f,y){var S=u.interleaved;return S===null?(f.next=f,Zv(u)):(f.next=S.next,S.next=f),u.interleaved=f,aa(o,y)}function aa(o,u){o.lanes|=u;var f=o.alternate;for(f!==null&&(f.lanes|=u),f=o,o=o.return;o!==null;)o.childLanes|=u,f=o.alternate,f!==null&&(f.childLanes|=u),f=o,o=o.return;return f.tag===3?f.stateNode:null}var El=!1;function Qv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function la(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Pl(o,u,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Lt&2)!==0){var S=y.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),y.pending=u,aa(o,f)}return S=y.interleaved,S===null?(u.next=u,Zv(y)):(u.next=S.next,S.next=u),y.interleaved=u,aa(o,f)}function Lp(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var y=u.lanes;y&=o.pendingLanes,f|=y,u.lanes=f,yi(o,f)}}function k1(o,u){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var S=null,P=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};P===null?S=P=M:P=P.next=M,f=f.next}while(f!==null);P===null?S=P=u:P=P.next=u}else S=P=u;f={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:P,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}function Op(o,u,f,y){var S=o.updateQueue;El=!1;var P=S.firstBaseUpdate,M=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var te=K,he=te.next;te.next=null,M===null?P=he:M.next=he,M=te;var we=o.alternate;we!==null&&(we=we.updateQueue,K=we.lastBaseUpdate,K!==M&&(K===null?we.firstBaseUpdate=he:K.next=he,we.lastBaseUpdate=te))}if(P!==null){var be=S.baseState;M=0,we=he=te=null,K=P;do{var ye=K.lane,Ve=K.eventTime;if((y&ye)===ye){we!==null&&(we=we.next={eventTime:Ve,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ue=o,He=K;switch(ye=u,Ve=f,He.tag){case 1:if(Ue=He.payload,typeof Ue=="function"){be=Ue.call(Ve,be,ye);break e}be=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=He.payload,ye=typeof Ue=="function"?Ue.call(Ve,be,ye):Ue,ye==null)break e;be=ae({},be,ye);break e;case 2:El=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,ye=S.effects,ye===null?S.effects=[K]:ye.push(K))}else Ve={eventTime:Ve,lane:ye,tag:K.tag,payload:K.payload,callback:K.callback,next:null},we===null?(he=we=Ve,te=be):we=we.next=Ve,M|=ye;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;ye=K,K=ye.next,ye.next=null,S.lastBaseUpdate=ye,S.shared.pending=null}}while(!0);if(we===null&&(te=be),S.baseState=te,S.firstBaseUpdate=he,S.lastBaseUpdate=we,u=S.shared.interleaved,u!==null){S=u;do M|=S.lane,S=S.next;while(S!==u)}else P===null&&(S.shared.lanes=0);Vu|=M,o.lanes=M,o.memoizedState=be}}function R1(o,u,f){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var y=o[u],S=y.callback;if(S!==null){if(y.callback=null,y=f,typeof S!="function")throw Error(n(191,S));S.call(y)}}}var _h={},oo=bl(_h),yh=bl(_h),wh=bl(_h);function Mu(o){if(o===_h)throw Error(n(174));return o}function Yv(o,u){switch(tn(wh,u),tn(yh,o),tn(oo,_h),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:yt(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=yt(u,o)}sn(oo),tn(oo,u)}function Gc(){sn(oo),sn(yh),sn(wh)}function L1(o){Mu(wh.current);var u=Mu(oo.current),f=yt(u,o.type);u!==f&&(tn(yh,o),tn(oo,f))}function Xv(o){yh.current===o&&(sn(oo),sn(yh))}var cn=bl(0);function Np(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Jv=[];function e0(){for(var o=0;o<Jv.length;o++)Jv[o]._workInProgressVersionPrimary=null;Jv.length=0}var Mp=Z.ReactCurrentDispatcher,t0=Z.ReactCurrentBatchConfig,Du=0,dn=null,zn=null,Yn=null,Dp=!1,xh=!1,bh=0,LL=0;function Ti(){throw Error(n(321))}function n0(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Lr(o[f],u[f]))return!1;return!0}function i0(o,u,f,y,S,P){if(Du=P,dn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Mp.current=o===null||o.memoizedState===null?DL:VL,o=f(y,S),xh){P=0;do{if(xh=!1,bh=0,25<=P)throw Error(n(301));P+=1,Yn=zn=null,u.updateQueue=null,Mp.current=jL,o=f(y,S)}while(xh)}if(Mp.current=Fp,u=zn!==null&&zn.next!==null,Du=0,Yn=zn=dn=null,Dp=!1,u)throw Error(n(300));return o}function r0(){var o=bh!==0;return bh=0,o}function ao(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?dn.memoizedState=Yn=o:Yn=Yn.next=o,Yn}function es(){if(zn===null){var o=dn.alternate;o=o!==null?o.memoizedState:null}else o=zn.next;var u=Yn===null?dn.memoizedState:Yn.next;if(u!==null)Yn=u,zn=o;else{if(o===null)throw Error(n(310));zn=o,o={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Yn===null?dn.memoizedState=Yn=o:Yn=Yn.next=o}return Yn}function Sh(o,u){return typeof u=="function"?u(o):u}function s0(o){var u=es(),f=u.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=zn,S=y.baseQueue,P=f.pending;if(P!==null){if(S!==null){var M=S.next;S.next=P.next,P.next=M}y.baseQueue=S=P,f.pending=null}if(S!==null){P=S.next,y=y.baseState;var K=M=null,te=null,he=P;do{var we=he.lane;if((Du&we)===we)te!==null&&(te=te.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),y=he.hasEagerState?he.eagerState:o(y,he.action);else{var be={lane:we,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};te===null?(K=te=be,M=y):te=te.next=be,dn.lanes|=we,Vu|=we}he=he.next}while(he!==null&&he!==P);te===null?M=y:te.next=K,Lr(y,u.memoizedState)||(pr=!0),u.memoizedState=y,u.baseState=M,u.baseQueue=te,f.lastRenderedState=y}if(o=f.interleaved,o!==null){S=o;do P=S.lane,dn.lanes|=P,Vu|=P,S=S.next;while(S!==o)}else S===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function o0(o){var u=es(),f=u.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,S=f.pending,P=u.memoizedState;if(S!==null){f.pending=null;var M=S=S.next;do P=o(P,M.action),M=M.next;while(M!==S);Lr(P,u.memoizedState)||(pr=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),f.lastRenderedState=P}return[P,y]}function O1(){}function N1(o,u){var f=dn,y=es(),S=u(),P=!Lr(y.memoizedState,S);if(P&&(y.memoizedState=S,pr=!0),y=y.queue,a0(V1.bind(null,f,y,o),[o]),y.getSnapshot!==u||P||Yn!==null&&Yn.memoizedState.tag&1){if(f.flags|=2048,Th(9,D1.bind(null,f,y,S,u),void 0,null),Xn===null)throw Error(n(349));(Du&30)!==0||M1(f,u,S)}return S}function M1(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=dn.updateQueue,u===null?(u={lastEffect:null,stores:null},dn.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function D1(o,u,f,y){u.value=f,u.getSnapshot=y,j1(u)&&F1(o)}function V1(o,u,f){return f(function(){j1(u)&&F1(o)})}function j1(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Lr(o,f)}catch{return!0}}function F1(o){var u=aa(o,1);u!==null&&Rs(u,o,1,-1)}function B1(o){var u=ao();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:o},u.queue=o,o=o.dispatch=ML.bind(null,dn,o),[u.memoizedState,o]}function Th(o,u,f,y){return o={tag:o,create:u,destroy:f,deps:y,next:null},u=dn.updateQueue,u===null?(u={lastEffect:null,stores:null},dn.updateQueue=u,u.lastEffect=o.next=o):(f=u.lastEffect,f===null?u.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,u.lastEffect=o)),o}function z1(){return es().memoizedState}function Vp(o,u,f,y){var S=ao();dn.flags|=o,S.memoizedState=Th(1|u,f,void 0,y===void 0?null:y)}function jp(o,u,f,y){var S=es();y=y===void 0?null:y;var P=void 0;if(zn!==null){var M=zn.memoizedState;if(P=M.destroy,y!==null&&n0(y,M.deps)){S.memoizedState=Th(u,f,P,y);return}}dn.flags|=o,S.memoizedState=Th(1|u,f,P,y)}function U1(o,u){return Vp(8390656,8,o,u)}function a0(o,u){return jp(2048,8,o,u)}function $1(o,u){return jp(4,2,o,u)}function H1(o,u){return jp(4,4,o,u)}function W1(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function q1(o,u,f){return f=f!=null?f.concat([o]):null,jp(4,4,W1.bind(null,u,o),f)}function l0(){}function G1(o,u){var f=es();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&n0(u,y[1])?y[0]:(f.memoizedState=[o,u],o)}function K1(o,u){var f=es();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&n0(u,y[1])?y[0]:(o=o(),f.memoizedState=[o,u],o)}function Z1(o,u,f){return(Du&21)===0?(o.baseState&&(o.baseState=!1,pr=!0),o.memoizedState=f):(Lr(f,u)||(f=$o(),dn.lanes|=f,Vu|=f,o.baseState=!0),u)}function OL(o,u){var f=wt;wt=f!==0&&4>f?f:4,o(!0);var y=t0.transition;t0.transition={};try{o(!1),u()}finally{wt=f,t0.transition=y}}function Q1(){return es().memoizedState}function NL(o,u,f){var y=kl(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},Y1(o))X1(u,f);else if(f=I1(o,u,f,y),f!==null){var S=Hi();Rs(f,o,y,S),J1(f,u,y)}}function ML(o,u,f){var y=kl(o),S={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(Y1(o))X1(u,S);else{var P=o.alternate;if(o.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var M=u.lastRenderedState,K=P(M,f);if(S.hasEagerState=!0,S.eagerState=K,Lr(K,M)){var te=u.interleaved;te===null?(S.next=S,Zv(u)):(S.next=te.next,te.next=S),u.interleaved=S;return}}catch{}finally{}f=I1(o,u,S,y),f!==null&&(S=Hi(),Rs(f,o,y,S),J1(f,u,y))}}function Y1(o){var u=o.alternate;return o===dn||u!==null&&u===dn}function X1(o,u){xh=Dp=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function J1(o,u,f){if((f&4194240)!==0){var y=u.lanes;y&=o.pendingLanes,f|=y,u.lanes=f,yi(o,f)}}var Fp={readContext:Jr,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},DL={readContext:Jr,useCallback:function(o,u){return ao().memoizedState=[o,u===void 0?null:u],o},useContext:Jr,useEffect:U1,useImperativeHandle:function(o,u,f){return f=f!=null?f.concat([o]):null,Vp(4194308,4,W1.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Vp(4194308,4,o,u)},useInsertionEffect:function(o,u){return Vp(4,2,o,u)},useMemo:function(o,u){var f=ao();return u=u===void 0?null:u,o=o(),f.memoizedState=[o,u],o},useReducer:function(o,u,f){var y=ao();return u=f!==void 0?f(u):u,y.memoizedState=y.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},y.queue=o,o=o.dispatch=NL.bind(null,dn,o),[y.memoizedState,o]},useRef:function(o){var u=ao();return o={current:o},u.memoizedState=o},useState:B1,useDebugValue:l0,useDeferredValue:function(o){return ao().memoizedState=o},useTransition:function(){var o=B1(!1),u=o[0];return o=OL.bind(null,o[1]),ao().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,f){var y=dn,S=ao();if(an){if(f===void 0)throw Error(n(407));f=f()}else{if(f=u(),Xn===null)throw Error(n(349));(Du&30)!==0||M1(y,u,f)}S.memoizedState=f;var P={value:f,getSnapshot:u};return S.queue=P,U1(V1.bind(null,y,P,o),[o]),y.flags|=2048,Th(9,D1.bind(null,y,P,f,u),void 0,null),f},useId:function(){var o=ao(),u=Xn.identifierPrefix;if(an){var f=oa,y=sa;f=(y&~(1<<32-lt(y)-1)).toString(32)+f,u=":"+u+"R"+f,f=bh++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=LL++,u=":"+u+"r"+f.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},VL={readContext:Jr,useCallback:G1,useContext:Jr,useEffect:a0,useImperativeHandle:q1,useInsertionEffect:$1,useLayoutEffect:H1,useMemo:K1,useReducer:s0,useRef:z1,useState:function(){return s0(Sh)},useDebugValue:l0,useDeferredValue:function(o){var u=es();return Z1(u,zn.memoizedState,o)},useTransition:function(){var o=s0(Sh)[0],u=es().memoizedState;return[o,u]},useMutableSource:O1,useSyncExternalStore:N1,useId:Q1,unstable_isNewReconciler:!1},jL={readContext:Jr,useCallback:G1,useContext:Jr,useEffect:a0,useImperativeHandle:q1,useInsertionEffect:$1,useLayoutEffect:H1,useMemo:K1,useReducer:o0,useRef:z1,useState:function(){return o0(Sh)},useDebugValue:l0,useDeferredValue:function(o){var u=es();return zn===null?u.memoizedState=o:Z1(u,zn.memoizedState,o)},useTransition:function(){var o=o0(Sh)[0],u=es().memoizedState;return[o,u]},useMutableSource:O1,useSyncExternalStore:N1,useId:Q1,unstable_isNewReconciler:!1};function Is(o,u){if(o&&o.defaultProps){u=ae({},u),o=o.defaultProps;for(var f in o)u[f]===void 0&&(u[f]=o[f]);return u}return u}function u0(o,u,f,y){u=o.memoizedState,f=f(y,u),f=f==null?u:ae({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Bp={isMounted:function(o){return(o=o._reactInternals)?tr(o)===o:!1},enqueueSetState:function(o,u,f){o=o._reactInternals;var y=Hi(),S=kl(o),P=la(y,S);P.payload=u,f!=null&&(P.callback=f),u=Pl(o,P,S),u!==null&&(Rs(u,o,S,y),Lp(u,o,S))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var y=Hi(),S=kl(o),P=la(y,S);P.tag=1,P.payload=u,f!=null&&(P.callback=f),u=Pl(o,P,S),u!==null&&(Rs(u,o,S,y),Lp(u,o,S))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=Hi(),y=kl(o),S=la(f,y);S.tag=2,u!=null&&(S.callback=u),u=Pl(o,S,y),u!==null&&(Rs(u,o,y,f),Lp(u,o,y))}};function e2(o,u,f,y,S,P,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,P,M):u.prototype&&u.prototype.isPureReactComponent?!no(f,y)||!no(S,P):!0}function t2(o,u,f){var y=!1,S=Sl,P=u.contextType;return typeof P=="object"&&P!==null?P=Jr(P):(S=fr(u)?Ru:Si.current,y=u.contextTypes,P=(y=y!=null)?Bc(o,S):Sl),u=new u(f,P),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bp,o.stateNode=u,u._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=P),u}function n2(o,u,f,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,y),u.state!==o&&Bp.enqueueReplaceState(u,u.state,null)}function c0(o,u,f,y){var S=o.stateNode;S.props=f,S.state=o.memoizedState,S.refs={},Qv(o);var P=u.contextType;typeof P=="object"&&P!==null?S.context=Jr(P):(P=fr(u)?Ru:Si.current,S.context=Bc(o,P)),S.state=o.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(u0(o,u,P,f),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Bp.enqueueReplaceState(S,S.state,null),Op(o,f,S,y),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function Kc(o,u){try{var f="",y=u;do f+=Le(y),y=y.return;while(y);var S=f}catch(P){S=`
Error generating stack: `+P.message+`
`+P.stack}return{value:o,source:u,stack:S,digest:null}}function d0(o,u,f){return{value:o,source:null,stack:f??null,digest:u??null}}function h0(o,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var FL=typeof WeakMap=="function"?WeakMap:Map;function i2(o,u,f){f=la(-1,f),f.tag=3,f.payload={element:null};var y=u.value;return f.callback=function(){Gp||(Gp=!0,C0=y),h0(o,u)},f}function r2(o,u,f){f=la(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var S=u.value;f.payload=function(){return y(S)},f.callback=function(){h0(o,u)}}var P=o.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(f.callback=function(){h0(o,u),typeof y!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),f}function s2(o,u,f){var y=o.pingCache;if(y===null){y=o.pingCache=new FL;var S=new Set;y.set(u,S)}else S=y.get(u),S===void 0&&(S=new Set,y.set(u,S));S.has(f)||(S.add(f),o=JL.bind(null,o,u,f),u.then(o,o))}function o2(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function a2(o,u,f,y,S){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=la(-1,1),u.tag=2,Pl(f,u,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var BL=Z.ReactCurrentOwner,pr=!1;function $i(o,u,f,y){u.child=o===null?C1(u,null,f,y):Hc(u,o.child,f,y)}function l2(o,u,f,y,S){f=f.render;var P=u.ref;return qc(u,S),y=i0(o,u,f,y,P,S),f=r0(),o!==null&&!pr?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~S,ua(o,u,S)):(an&&f&&Bv(u),u.flags|=1,$i(o,u,y,S),u.child)}function u2(o,u,f,y,S){if(o===null){var P=f.type;return typeof P=="function"&&!N0(P)&&P.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=P,c2(o,u,P,y,S)):(o=Jp(f.type,null,y,u,u.mode,S),o.ref=u.ref,o.return=u,u.child=o)}if(P=o.child,(o.lanes&S)===0){var M=P.memoizedProps;if(f=f.compare,f=f!==null?f:no,f(M,y)&&o.ref===u.ref)return ua(o,u,S)}return u.flags|=1,o=Ll(P,y),o.ref=u.ref,o.return=u,u.child=o}function c2(o,u,f,y,S){if(o!==null){var P=o.memoizedProps;if(no(P,y)&&o.ref===u.ref)if(pr=!1,u.pendingProps=y=P,(o.lanes&S)!==0)(o.flags&131072)!==0&&(pr=!0);else return u.lanes=o.lanes,ua(o,u,S)}return f0(o,u,f,y,S)}function d2(o,u,f){var y=u.pendingProps,S=y.children,P=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(Qc,Dr),Dr|=f;else{if((f&1073741824)===0)return o=P!==null?P.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,tn(Qc,Dr),Dr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=P!==null?P.baseLanes:f,tn(Qc,Dr),Dr|=y}else P!==null?(y=P.baseLanes|f,u.memoizedState=null):y=f,tn(Qc,Dr),Dr|=y;return $i(o,u,S,f),u.child}function h2(o,u){var f=u.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function f0(o,u,f,y,S){var P=fr(f)?Ru:Si.current;return P=Bc(u,P),qc(u,S),f=i0(o,u,f,y,P,S),y=r0(),o!==null&&!pr?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~S,ua(o,u,S)):(an&&y&&Bv(u),u.flags|=1,$i(o,u,f,S),u.child)}function f2(o,u,f,y,S){if(fr(f)){var P=!0;Tp(u)}else P=!1;if(qc(u,S),u.stateNode===null)Up(o,u),t2(u,f,y),c0(u,f,y,S),y=!0;else if(o===null){var M=u.stateNode,K=u.memoizedProps;M.props=K;var te=M.context,he=f.contextType;typeof he=="object"&&he!==null?he=Jr(he):(he=fr(f)?Ru:Si.current,he=Bc(u,he));var we=f.getDerivedStateFromProps,be=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function";be||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==y||te!==he)&&n2(u,M,y,he),El=!1;var ye=u.memoizedState;M.state=ye,Op(u,y,M,S),te=u.memoizedState,K!==y||ye!==te||hr.current||El?(typeof we=="function"&&(u0(u,f,we,y),te=u.memoizedState),(K=El||e2(u,f,K,y,ye,te,he))?(be||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=te),M.props=y,M.state=te,M.context=he,y=K):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{M=u.stateNode,A1(o,u),K=u.memoizedProps,he=u.type===u.elementType?K:Is(u.type,K),M.props=he,be=u.pendingProps,ye=M.context,te=f.contextType,typeof te=="object"&&te!==null?te=Jr(te):(te=fr(f)?Ru:Si.current,te=Bc(u,te));var Ve=f.getDerivedStateFromProps;(we=typeof Ve=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==be||ye!==te)&&n2(u,M,y,te),El=!1,ye=u.memoizedState,M.state=ye,Op(u,y,M,S);var Ue=u.memoizedState;K!==be||ye!==Ue||hr.current||El?(typeof Ve=="function"&&(u0(u,f,Ve,y),Ue=u.memoizedState),(he=El||e2(u,f,he,y,ye,Ue,te)||!1)?(we||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Ue,te),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Ue,te)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||K===o.memoizedProps&&ye===o.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ye===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ue),M.props=y,M.state=Ue,M.context=te,y=he):(typeof M.componentDidUpdate!="function"||K===o.memoizedProps&&ye===o.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ye===o.memoizedState||(u.flags|=1024),y=!1)}return p0(o,u,f,y,P,S)}function p0(o,u,f,y,S,P){h2(o,u);var M=(u.flags&128)!==0;if(!y&&!M)return S&&_1(u,f,!1),ua(o,u,P);y=u.stateNode,BL.current=u;var K=M&&typeof f.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,o!==null&&M?(u.child=Hc(u,o.child,null,P),u.child=Hc(u,null,K,P)):$i(o,u,K,P),u.memoizedState=y.state,S&&_1(u,f,!0),u.child}function p2(o){var u=o.stateNode;u.pendingContext?g1(o,u.pendingContext,u.pendingContext!==u.context):u.context&&g1(o,u.context,!1),Yv(o,u.containerInfo)}function m2(o,u,f,y,S){return $c(),Hv(S),u.flags|=256,$i(o,u,f,y),u.child}var m0={dehydrated:null,treeContext:null,retryLane:0};function g0(o){return{baseLanes:o,cachePool:null,transitions:null}}function g2(o,u,f){var y=u.pendingProps,S=cn.current,P=!1,M=(u.flags&128)!==0,K;if((K=M)||(K=o!==null&&o.memoizedState===null?!1:(S&2)!==0),K?(P=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),tn(cn,S&1),o===null)return $v(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=y.children,o=y.fallback,P?(y=u.mode,P=u.child,M={mode:"hidden",children:M},(y&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=M):P=em(M,y,0,null),o=zu(o,y,f,null),P.return=u,o.return=u,P.sibling=o,u.child=P,u.child.memoizedState=g0(f),u.memoizedState=m0,o):v0(u,M));if(S=o.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return zL(o,u,M,y,K,S,f);if(P){P=y.fallback,M=u.mode,S=o.child,K=S.sibling;var te={mode:"hidden",children:y.children};return(M&1)===0&&u.child!==S?(y=u.child,y.childLanes=0,y.pendingProps=te,u.deletions=null):(y=Ll(S,te),y.subtreeFlags=S.subtreeFlags&14680064),K!==null?P=Ll(K,P):(P=zu(P,M,f,null),P.flags|=2),P.return=u,y.return=u,y.sibling=P,u.child=y,y=P,P=u.child,M=o.child.memoizedState,M=M===null?g0(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},P.memoizedState=M,P.childLanes=o.childLanes&~f,u.memoizedState=m0,y}return P=o.child,o=P.sibling,y=Ll(P,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=f),y.return=u,y.sibling=null,o!==null&&(f=u.deletions,f===null?(u.deletions=[o],u.flags|=16):f.push(o)),u.child=y,u.memoizedState=null,y}function v0(o,u){return u=em({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function zp(o,u,f,y){return y!==null&&Hv(y),Hc(u,o.child,null,f),o=v0(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function zL(o,u,f,y,S,P,M){if(f)return u.flags&256?(u.flags&=-257,y=d0(Error(n(422))),zp(o,u,M,y)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(P=y.fallback,S=u.mode,y=em({mode:"visible",children:y.children},S,0,null),P=zu(P,S,M,null),P.flags|=2,y.return=u,P.return=u,y.sibling=P,u.child=y,(u.mode&1)!==0&&Hc(u,o.child,null,M),u.child.memoizedState=g0(M),u.memoizedState=m0,P);if((u.mode&1)===0)return zp(o,u,M,null);if(S.data==="$!"){if(y=S.nextSibling&&S.nextSibling.dataset,y)var K=y.dgst;return y=K,P=Error(n(419)),y=d0(P,y,void 0),zp(o,u,M,y)}if(K=(M&o.childLanes)!==0,pr||K){if(y=Xn,y!==null){switch(M&-M){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(y.suspendedLanes|M))!==0?0:S,S!==0&&S!==P.retryLane&&(P.retryLane=S,aa(o,S),Rs(y,o,S,-1))}return O0(),y=d0(Error(n(421))),zp(o,u,M,y)}return S.data==="$?"?(u.flags|=128,u.child=o.child,u=eO.bind(null,o),S._reactRetry=u,null):(o=P.treeContext,Mr=so(S.nextSibling),Nr=u,an=!0,Cs=null,o!==null&&(Yr[Xr++]=sa,Yr[Xr++]=oa,Yr[Xr++]=Lu,sa=o.id,oa=o.overflow,Lu=u),u=v0(u,y.children),u.flags|=4096,u)}function v2(o,u,f){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),Kv(o.return,u,f)}function _0(o,u,f,y,S){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:S}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=y,P.tail=f,P.tailMode=S)}function _2(o,u,f){var y=u.pendingProps,S=y.revealOrder,P=y.tail;if($i(o,u,y.children,f),y=cn.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&v2(o,f,u);else if(o.tag===19)v2(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(tn(cn,y),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(f=u.child,S=null;f!==null;)o=f.alternate,o!==null&&Np(o)===null&&(S=f),f=f.sibling;f=S,f===null?(S=u.child,u.child=null):(S=f.sibling,f.sibling=null),_0(u,!1,S,f,P);break;case"backwards":for(f=null,S=u.child,u.child=null;S!==null;){if(o=S.alternate,o!==null&&Np(o)===null){u.child=S;break}o=S.sibling,S.sibling=f,f=S,S=o}_0(u,!0,f,null,P);break;case"together":_0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Up(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function ua(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Vu|=u.lanes,(f&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,f=Ll(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Ll(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function UL(o,u,f){switch(u.tag){case 3:p2(u),$c();break;case 5:L1(u);break;case 1:fr(u.type)&&Tp(u);break;case 4:Yv(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,S=u.memoizedProps.value;tn(kp,y._currentValue),y._currentValue=S;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(tn(cn,cn.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?g2(o,u,f):(tn(cn,cn.current&1),o=ua(o,u,f),o!==null?o.sibling:null);tn(cn,cn.current&1);break;case 19:if(y=(f&u.childLanes)!==0,(o.flags&128)!==0){if(y)return _2(o,u,f);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),tn(cn,cn.current),y)break;return null;case 22:case 23:return u.lanes=0,d2(o,u,f)}return ua(o,u,f)}var y2,y0,w2,x2;y2=function(o,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},y0=function(){},w2=function(o,u,f,y){var S=o.memoizedProps;if(S!==y){o=u.stateNode,Mu(oo.current);var P=null;switch(f){case"input":S=Di(o,S),y=Di(o,y),P=[];break;case"select":S=ae({},S,{value:void 0}),y=ae({},y,{value:void 0}),P=[];break;case"textarea":S=Ie(o,S),y=Ie(o,y),P=[];break;default:typeof S.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=ve)}vu(f,y);var M;f=null;for(he in S)if(!y.hasOwnProperty(he)&&S.hasOwnProperty(he)&&S[he]!=null)if(he==="style"){var K=S[he];for(M in K)K.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(r.hasOwnProperty(he)?P||(P=[]):(P=P||[]).push(he,null));for(he in y){var te=y[he];if(K=S!=null?S[he]:void 0,y.hasOwnProperty(he)&&te!==K&&(te!=null||K!=null))if(he==="style")if(K){for(M in K)!K.hasOwnProperty(M)||te&&te.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in te)te.hasOwnProperty(M)&&K[M]!==te[M]&&(f||(f={}),f[M]=te[M])}else f||(P||(P=[]),P.push(he,f)),f=te;else he==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,K=K?K.__html:void 0,te!=null&&K!==te&&(P=P||[]).push(he,te)):he==="children"?typeof te!="string"&&typeof te!="number"||(P=P||[]).push(he,""+te):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(r.hasOwnProperty(he)?(te!=null&&he==="onScroll"&&Zt("scroll",o),P||K===te||(P=[])):(P=P||[]).push(he,te))}f&&(P=P||[]).push("style",f);var he=P;(u.updateQueue=he)&&(u.flags|=4)}},x2=function(o,u,f,y){f!==y&&(u.flags|=4)};function Eh(o,u){if(!an)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ei(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(u)for(var S=o.child;S!==null;)f|=S.lanes|S.childLanes,y|=S.subtreeFlags&14680064,y|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)f|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=y,o.childLanes=f,u}function $L(o,u,f){var y=u.pendingProps;switch(zv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(u),null;case 1:return fr(u.type)&&Sp(),Ei(u),null;case 3:return y=u.stateNode,Gc(),sn(hr),sn(Si),e0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Ip(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Cs!==null&&(k0(Cs),Cs=null))),y0(o,u),Ei(u),null;case 5:Xv(u);var S=Mu(wh.current);if(f=u.type,o!==null&&u.stateNode!=null)w2(o,u,f,y,S),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Ei(u),null}if(o=Mu(oo.current),Ip(u)){y=u.stateNode,f=u.type;var P=u.memoizedProps;switch(y[Qr]=u,y[wl]=P,o=(u.mode&1)!==0,f){case"dialog":Zt("cancel",y),Zt("close",y);break;case"iframe":case"object":case"embed":Zt("load",y);break;case"video":case"audio":for(S=0;S<vl.length;S++)Zt(vl[S],y);break;case"source":Zt("error",y);break;case"img":case"image":case"link":Zt("error",y),Zt("load",y);break;case"details":Zt("toggle",y);break;case"input":Ur(y,P),Zt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!P.multiple},Zt("invalid",y);break;case"textarea":Se(y,P),Zt("invalid",y)}vu(f,P),S=null;for(var M in P)if(P.hasOwnProperty(M)){var K=P[M];M==="children"?typeof K=="string"?y.textContent!==K&&(P.suppressHydrationWarning!==!0&&de(y.textContent,K,o),S=["children",K]):typeof K=="number"&&y.textContent!==""+K&&(P.suppressHydrationWarning!==!0&&de(y.textContent,K,o),S=["children",""+K]):r.hasOwnProperty(M)&&K!=null&&M==="onScroll"&&Zt("scroll",y)}switch(f){case"input":jn(y),X(y,P,!0);break;case"textarea":jn(y),ft(y);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(y.onclick=ve)}y=S,u.updateQueue=y,y!==null&&(u.flags|=4)}else{M=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=vt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=M.createElement(f,{is:y.is}):(o=M.createElement(f),f==="select"&&(M=o,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):o=M.createElementNS(o,f),o[Qr]=u,o[wl]=y,y2(o,u,!1,!1),u.stateNode=o;e:{switch(M=vs(f,y),f){case"dialog":Zt("cancel",o),Zt("close",o),S=y;break;case"iframe":case"object":case"embed":Zt("load",o),S=y;break;case"video":case"audio":for(S=0;S<vl.length;S++)Zt(vl[S],o);S=y;break;case"source":Zt("error",o),S=y;break;case"img":case"image":case"link":Zt("error",o),Zt("load",o),S=y;break;case"details":Zt("toggle",o),S=y;break;case"input":Ur(o,y),S=Di(o,y),Zt("invalid",o);break;case"option":S=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},S=ae({},y,{value:void 0}),Zt("invalid",o);break;case"textarea":Se(o,y),S=Ie(o,y),Zt("invalid",o);break;default:S=y}vu(f,S),K=S;for(P in K)if(K.hasOwnProperty(P)){var te=K[P];P==="style"?ms(o,te):P==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&Oo(o,te)):P==="children"?typeof te=="string"?(f!=="textarea"||te!=="")&&Vi(o,te):typeof te=="number"&&Vi(o,""+te):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(r.hasOwnProperty(P)?te!=null&&P==="onScroll"&&Zt("scroll",o):te!=null&&D(o,P,te,M))}switch(f){case"input":jn(o),X(o,y,!1);break;case"textarea":jn(o),ft(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Qe(y.value));break;case"select":o.multiple=!!y.multiple,P=y.value,P!=null?ke(o,!!y.multiple,P,!1):y.defaultValue!=null&&ke(o,!!y.multiple,y.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=ve)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ei(u),null;case 6:if(o&&u.stateNode!=null)x2(o,u,o.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(f=Mu(wh.current),Mu(oo.current),Ip(u)){if(y=u.stateNode,f=u.memoizedProps,y[Qr]=u,(P=y.nodeValue!==f)&&(o=Nr,o!==null))switch(o.tag){case 3:de(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&de(y.nodeValue,f,(o.mode&1)!==0)}P&&(u.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[Qr]=u,u.stateNode=y}return Ei(u),null;case 13:if(sn(cn),y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(an&&Mr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)T1(),$c(),u.flags|=98560,P=!1;else if(P=Ip(u),y!==null&&y.dehydrated!==null){if(o===null){if(!P)throw Error(n(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[Qr]=u}else $c(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ei(u),P=!1}else Cs!==null&&(k0(Cs),Cs=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(cn.current&1)!==0?Un===0&&(Un=3):O0())),u.updateQueue!==null&&(u.flags|=4),Ei(u),null);case 4:return Gc(),y0(o,u),o===null&&_l(u.stateNode.containerInfo),Ei(u),null;case 10:return Gv(u.type._context),Ei(u),null;case 17:return fr(u.type)&&Sp(),Ei(u),null;case 19:if(sn(cn),P=u.memoizedState,P===null)return Ei(u),null;if(y=(u.flags&128)!==0,M=P.rendering,M===null)if(y)Eh(P,!1);else{if(Un!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(M=Np(o),M!==null){for(u.flags|=128,Eh(P,!1),y=M.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=f,f=u.child;f!==null;)P=f,o=y,P.flags&=14680066,M=P.alternate,M===null?(P.childLanes=0,P.lanes=o,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=M.childLanes,P.lanes=M.lanes,P.child=M.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=M.memoizedProps,P.memoizedState=M.memoizedState,P.updateQueue=M.updateQueue,P.type=M.type,o=M.dependencies,P.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return tn(cn,cn.current&1|2),u.child}o=o.sibling}P.tail!==null&&Kt()>Yc&&(u.flags|=128,y=!0,Eh(P,!1),u.lanes=4194304)}else{if(!y)if(o=Np(M),o!==null){if(u.flags|=128,y=!0,f=o.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),Eh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!M.alternate&&!an)return Ei(u),null}else 2*Kt()-P.renderingStartTime>Yc&&f!==1073741824&&(u.flags|=128,y=!0,Eh(P,!1),u.lanes=4194304);P.isBackwards?(M.sibling=u.child,u.child=M):(f=P.last,f!==null?f.sibling=M:u.child=M,P.last=M)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=Kt(),u.sibling=null,f=cn.current,tn(cn,y?f&1|2:f&1),u):(Ei(u),null);case 22:case 23:return L0(),y=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(Dr&1073741824)!==0&&(Ei(u),u.subtreeFlags&6&&(u.flags|=8192)):Ei(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function HL(o,u){switch(zv(u),u.tag){case 1:return fr(u.type)&&Sp(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Gc(),sn(hr),sn(Si),e0(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Xv(u),null;case 13:if(sn(cn),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));$c()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return sn(cn),null;case 4:return Gc(),null;case 10:return Gv(u.type._context),null;case 22:case 23:return L0(),null;case 24:return null;default:return null}}var $p=!1,Pi=!1,WL=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Zc(o,u){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){vn(o,u,y)}else f.current=null}function w0(o,u,f){try{f()}catch(y){vn(o,u,y)}}var b2=!1;function qL(o,u){if(Me=xs,o=lh(),uh(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var S=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{f.nodeType,P.nodeType}catch{f=null;break e}var M=0,K=-1,te=-1,he=0,we=0,be=o,ye=null;t:for(;;){for(var Ve;be!==f||S!==0&&be.nodeType!==3||(K=M+S),be!==P||y!==0&&be.nodeType!==3||(te=M+y),be.nodeType===3&&(M+=be.nodeValue.length),(Ve=be.firstChild)!==null;)ye=be,be=Ve;for(;;){if(be===o)break t;if(ye===f&&++he===S&&(K=M),ye===P&&++we===y&&(te=M),(Ve=be.nextSibling)!==null)break;be=ye,ye=be.parentNode}be=Ve}f=K===-1||te===-1?null:{start:K,end:te}}else f=null}f=f||{start:0,end:0}}else f=null;for(Je={focusedElem:o,selectionRange:f},xs=!1,ze=u;ze!==null;)if(u=ze,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,ze=o;else for(;ze!==null;){u=ze;try{var Ue=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var He=Ue.memoizedProps,Sn=Ue.memoizedState,oe=u.stateNode,ne=oe.getSnapshotBeforeUpdate(u.elementType===u.type?He:Is(u.type,He),Sn);oe.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var le=u.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){vn(u,u.return,Te)}if(o=u.sibling,o!==null){o.return=u.return,ze=o;break}ze=u.return}return Ue=b2,b2=!1,Ue}function Ph(o,u,f){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&o)===o){var P=S.destroy;S.destroy=void 0,P!==void 0&&w0(u,f,P)}S=S.next}while(S!==y)}}function Hp(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==u)}}function x0(o){var u=o.ref;if(u!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof u=="function"?u(o):u.current=o}}function S2(o){var u=o.alternate;u!==null&&(o.alternate=null,S2(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Qr],delete u[wl],delete u[xl],delete u[Dv],delete u[Vv])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function T2(o){return o.tag===5||o.tag===3||o.tag===4}function E2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||T2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function b0(o,u,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(o,u):f.insertBefore(o,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(o,f)):(u=f,u.appendChild(o)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=ve));else if(y!==4&&(o=o.child,o!==null))for(b0(o,u,f),o=o.sibling;o!==null;)b0(o,u,f),o=o.sibling}function S0(o,u,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(S0(o,u,f),o=o.sibling;o!==null;)S0(o,u,f),o=o.sibling}var oi=null,As=!1;function Cl(o,u,f){for(f=f.child;f!==null;)P2(o,u,f),f=f.sibling}function P2(o,u,f){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Qs,f)}catch{}switch(f.tag){case 5:Pi||Zc(f,u);case 6:var y=oi,S=As;oi=null,Cl(o,u,f),oi=y,As=S,oi!==null&&(As?(o=oi,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):oi.removeChild(f.stateNode));break;case 18:oi!==null&&(As?(o=oi,f=f.stateNode,o.nodeType===8?gh(o.parentNode,f):o.nodeType===1&&gh(o,f),Fn(o)):gh(oi,f.stateNode));break;case 4:y=oi,S=As,oi=f.stateNode.containerInfo,As=!0,Cl(o,u,f),oi=y,As=S;break;case 0:case 11:case 14:case 15:if(!Pi&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){S=y=y.next;do{var P=S,M=P.destroy;P=P.tag,M!==void 0&&((P&2)!==0||(P&4)!==0)&&w0(f,u,M),S=S.next}while(S!==y)}Cl(o,u,f);break;case 1:if(!Pi&&(Zc(f,u),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(K){vn(f,u,K)}Cl(o,u,f);break;case 21:Cl(o,u,f);break;case 22:f.mode&1?(Pi=(y=Pi)||f.memoizedState!==null,Cl(o,u,f),Pi=y):Cl(o,u,f);break;default:Cl(o,u,f)}}function C2(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new WL),u.forEach(function(y){var S=tO.bind(null,o,y);f.has(y)||(f.add(y),y.then(S,S))})}}function ks(o,u){var f=u.deletions;if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];try{var P=o,M=u,K=M;e:for(;K!==null;){switch(K.tag){case 5:oi=K.stateNode,As=!1;break e;case 3:oi=K.stateNode.containerInfo,As=!0;break e;case 4:oi=K.stateNode.containerInfo,As=!0;break e}K=K.return}if(oi===null)throw Error(n(160));P2(P,M,S),oi=null,As=!1;var te=S.alternate;te!==null&&(te.return=null),S.return=null}catch(he){vn(S,u,he)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)I2(u,o),u=u.sibling}function I2(o,u){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ks(u,o),lo(o),y&4){try{Ph(3,o,o.return),Hp(3,o)}catch(He){vn(o,o.return,He)}try{Ph(5,o,o.return)}catch(He){vn(o,o.return,He)}}break;case 1:ks(u,o),lo(o),y&512&&f!==null&&Zc(f,f.return);break;case 5:if(ks(u,o),lo(o),y&512&&f!==null&&Zc(f,f.return),o.flags&32){var S=o.stateNode;try{Vi(S,"")}catch(He){vn(o,o.return,He)}}if(y&4&&(S=o.stateNode,S!=null)){var P=o.memoizedProps,M=f!==null?f.memoizedProps:P,K=o.type,te=o.updateQueue;if(o.updateQueue=null,te!==null)try{K==="input"&&P.type==="radio"&&P.name!=null&&Lo(S,P),vs(K,M);var he=vs(K,P);for(M=0;M<te.length;M+=2){var we=te[M],be=te[M+1];we==="style"?ms(S,be):we==="dangerouslySetInnerHTML"?Oo(S,be):we==="children"?Vi(S,be):D(S,we,be,he)}switch(K){case"input":Gs(S,P);break;case"textarea":We(S,P);break;case"select":var ye=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!P.multiple;var Ve=P.value;Ve!=null?ke(S,!!P.multiple,Ve,!1):ye!==!!P.multiple&&(P.defaultValue!=null?ke(S,!!P.multiple,P.defaultValue,!0):ke(S,!!P.multiple,P.multiple?[]:"",!1))}S[wl]=P}catch(He){vn(o,o.return,He)}}break;case 6:if(ks(u,o),lo(o),y&4){if(o.stateNode===null)throw Error(n(162));S=o.stateNode,P=o.memoizedProps;try{S.nodeValue=P}catch(He){vn(o,o.return,He)}}break;case 3:if(ks(u,o),lo(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Fn(u.containerInfo)}catch(He){vn(o,o.return,He)}break;case 4:ks(u,o),lo(o);break;case 13:ks(u,o),lo(o),S=o.child,S.flags&8192&&(P=S.memoizedState!==null,S.stateNode.isHidden=P,!P||S.alternate!==null&&S.alternate.memoizedState!==null||(P0=Kt())),y&4&&C2(o);break;case 22:if(we=f!==null&&f.memoizedState!==null,o.mode&1?(Pi=(he=Pi)||we,ks(u,o),Pi=he):ks(u,o),lo(o),y&8192){if(he=o.memoizedState!==null,(o.stateNode.isHidden=he)&&!we&&(o.mode&1)!==0)for(ze=o,we=o.child;we!==null;){for(be=ze=we;ze!==null;){switch(ye=ze,Ve=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ph(4,ye,ye.return);break;case 1:Zc(ye,ye.return);var Ue=ye.stateNode;if(typeof Ue.componentWillUnmount=="function"){y=ye,f=ye.return;try{u=y,Ue.props=u.memoizedProps,Ue.state=u.memoizedState,Ue.componentWillUnmount()}catch(He){vn(y,f,He)}}break;case 5:Zc(ye,ye.return);break;case 22:if(ye.memoizedState!==null){R2(be);continue}}Ve!==null?(Ve.return=ye,ze=Ve):R2(be)}we=we.sibling}e:for(we=null,be=o;;){if(be.tag===5){if(we===null){we=be;try{S=be.stateNode,he?(P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(K=be.stateNode,te=be.memoizedProps.style,M=te!=null&&te.hasOwnProperty("display")?te.display:null,K.style.display=ps("display",M))}catch(He){vn(o,o.return,He)}}}else if(be.tag===6){if(we===null)try{be.stateNode.nodeValue=he?"":be.memoizedProps}catch(He){vn(o,o.return,He)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===o)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===o)break e;for(;be.sibling===null;){if(be.return===null||be.return===o)break e;we===be&&(we=null),be=be.return}we===be&&(we=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:ks(u,o),lo(o),y&4&&C2(o);break;case 21:break;default:ks(u,o),lo(o)}}function lo(o){var u=o.flags;if(u&2){try{e:{for(var f=o.return;f!==null;){if(T2(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var S=y.stateNode;y.flags&32&&(Vi(S,""),y.flags&=-33);var P=E2(o);S0(o,P,S);break;case 3:case 4:var M=y.stateNode.containerInfo,K=E2(o);b0(o,K,M);break;default:throw Error(n(161))}}catch(te){vn(o,o.return,te)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function GL(o,u,f){ze=o,A2(o)}function A2(o,u,f){for(var y=(o.mode&1)!==0;ze!==null;){var S=ze,P=S.child;if(S.tag===22&&y){var M=S.memoizedState!==null||$p;if(!M){var K=S.alternate,te=K!==null&&K.memoizedState!==null||Pi;K=$p;var he=Pi;if($p=M,(Pi=te)&&!he)for(ze=S;ze!==null;)M=ze,te=M.child,M.tag===22&&M.memoizedState!==null?L2(S):te!==null?(te.return=M,ze=te):L2(S);for(;P!==null;)ze=P,A2(P),P=P.sibling;ze=S,$p=K,Pi=he}k2(o)}else(S.subtreeFlags&8772)!==0&&P!==null?(P.return=S,ze=P):k2(o)}}function k2(o){for(;ze!==null;){var u=ze;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Pi||Hp(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Pi)if(f===null)y.componentDidMount();else{var S=u.elementType===u.type?f.memoizedProps:Is(u.type,f.memoizedProps);y.componentDidUpdate(S,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&R1(u,P,y);break;case 3:var M=u.updateQueue;if(M!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}R1(u,M,f)}break;case 5:var K=u.stateNode;if(f===null&&u.flags&4){f=K;var te=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&f.focus();break;case"img":te.src&&(f.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var he=u.alternate;if(he!==null){var we=he.memoizedState;if(we!==null){var be=we.dehydrated;be!==null&&Fn(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pi||u.flags&512&&x0(u)}catch(ye){vn(u,u.return,ye)}}if(u===o){ze=null;break}if(f=u.sibling,f!==null){f.return=u.return,ze=f;break}ze=u.return}}function R2(o){for(;ze!==null;){var u=ze;if(u===o){ze=null;break}var f=u.sibling;if(f!==null){f.return=u.return,ze=f;break}ze=u.return}}function L2(o){for(;ze!==null;){var u=ze;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Hp(4,u)}catch(te){vn(u,f,te)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var S=u.return;try{y.componentDidMount()}catch(te){vn(u,S,te)}}var P=u.return;try{x0(u)}catch(te){vn(u,P,te)}break;case 5:var M=u.return;try{x0(u)}catch(te){vn(u,M,te)}}}catch(te){vn(u,u.return,te)}if(u===o){ze=null;break}var K=u.sibling;if(K!==null){K.return=u.return,ze=K;break}ze=u.return}}var KL=Math.ceil,Wp=Z.ReactCurrentDispatcher,T0=Z.ReactCurrentOwner,ts=Z.ReactCurrentBatchConfig,Lt=0,Xn=null,On=null,ai=0,Dr=0,Qc=bl(0),Un=0,Ch=null,Vu=0,qp=0,E0=0,Ih=null,mr=null,P0=0,Yc=1/0,ca=null,Gp=!1,C0=null,Il=null,Kp=!1,Al=null,Zp=0,Ah=0,I0=null,Qp=-1,Yp=0;function Hi(){return(Lt&6)!==0?Kt():Qp!==-1?Qp:Qp=Kt()}function kl(o){return(o.mode&1)===0?1:(Lt&2)!==0&&ai!==0?ai&-ai:RL.transition!==null?(Yp===0&&(Yp=$o()),Yp):(o=wt,o!==0||(o=window.event,o=o===void 0?16:xt(o.type)),o)}function Rs(o,u,f,y){if(50<Ah)throw Ah=0,I0=null,Error(n(185));_i(o,f,y),((Lt&2)===0||o!==Xn)&&(o===Xn&&((Lt&2)===0&&(qp|=f),Un===4&&Rl(o,ai)),gr(o,y),f===1&&Lt===0&&(u.mode&1)===0&&(Yc=Kt()+500,Ep&&Tl()))}function gr(o,u){var f=o.callbackNode;sr(o,u);var y=Ht(o,o===Xn?ai:0);if(y===0)f!==null&&Qa(f),o.callbackNode=null,o.callbackPriority=0;else if(u=y&-y,o.callbackPriority!==u){if(f!=null&&Qa(f),u===1)o.tag===0?kL(N2.bind(null,o)):y1(N2.bind(null,o)),bi(function(){(Lt&6)===0&&Tl()}),f=null;else{switch(or(y)){case 1:f=Bo;break;case 4:f=Ks;break;case 16:f=rr;break;case 536870912:f=Zs;break;default:f=rr}f=U2(f,O2.bind(null,o))}o.callbackPriority=u,o.callbackNode=f}}function O2(o,u){if(Qp=-1,Yp=0,(Lt&6)!==0)throw Error(n(327));var f=o.callbackNode;if(Xc()&&o.callbackNode!==f)return null;var y=Ht(o,o===Xn?ai:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||u)u=Xp(o,y);else{u=y;var S=Lt;Lt|=2;var P=D2();(Xn!==o||ai!==u)&&(ca=null,Yc=Kt()+500,Fu(o,u));do try{YL();break}catch(K){M2(o,K)}while(!0);qv(),Wp.current=P,Lt=S,On!==null?u=0:(Xn=null,ai=0,u=Un)}if(u!==0){if(u===2&&(S=Jt(o),S!==0&&(y=S,u=A0(o,S))),u===1)throw f=Ch,Fu(o,0),Rl(o,y),gr(o,Kt()),f;if(u===6)Rl(o,y);else{if(S=o.current.alternate,(y&30)===0&&!ZL(S)&&(u=Xp(o,y),u===2&&(P=Jt(o),P!==0&&(y=P,u=A0(o,P))),u===1))throw f=Ch,Fu(o,0),Rl(o,y),gr(o,Kt()),f;switch(o.finishedWork=S,o.finishedLanes=y,u){case 0:case 1:throw Error(n(345));case 2:Bu(o,mr,ca);break;case 3:if(Rl(o,y),(y&130023424)===y&&(u=P0+500-Kt(),10<u)){if(Ht(o,0)!==0)break;if(S=o.suspendedLanes,(S&y)!==y){Hi(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=Bn(Bu.bind(null,o,mr,ca),u);break}Bu(o,mr,ca);break;case 4:if(Rl(o,y),(y&4194240)===y)break;for(u=o.eventTimes,S=-1;0<y;){var M=31-lt(y);P=1<<M,M=u[M],M>S&&(S=M),y&=~P}if(y=S,y=Kt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*KL(y/1960))-y,10<y){o.timeoutHandle=Bn(Bu.bind(null,o,mr,ca),y);break}Bu(o,mr,ca);break;case 5:Bu(o,mr,ca);break;default:throw Error(n(329))}}}return gr(o,Kt()),o.callbackNode===f?O2.bind(null,o):null}function A0(o,u){var f=Ih;return o.current.memoizedState.isDehydrated&&(Fu(o,u).flags|=256),o=Xp(o,u),o!==2&&(u=mr,mr=f,u!==null&&k0(u)),o}function k0(o){mr===null?mr=o:mr.push.apply(mr,o)}function ZL(o){for(var u=o;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var S=f[y],P=S.getSnapshot;S=S.value;try{if(!Lr(P(),S))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Rl(o,u){for(u&=~E0,u&=~qp,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var f=31-lt(u),y=1<<f;o[f]=-1,u&=~y}}function N2(o){if((Lt&6)!==0)throw Error(n(327));Xc();var u=Ht(o,0);if((u&1)===0)return gr(o,Kt()),null;var f=Xp(o,u);if(o.tag!==0&&f===2){var y=Jt(o);y!==0&&(u=y,f=A0(o,y))}if(f===1)throw f=Ch,Fu(o,0),Rl(o,u),gr(o,Kt()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Bu(o,mr,ca),gr(o,Kt()),null}function R0(o,u){var f=Lt;Lt|=1;try{return o(u)}finally{Lt=f,Lt===0&&(Yc=Kt()+500,Ep&&Tl())}}function ju(o){Al!==null&&Al.tag===0&&(Lt&6)===0&&Xc();var u=Lt;Lt|=1;var f=ts.transition,y=wt;try{if(ts.transition=null,wt=1,o)return o()}finally{wt=y,ts.transition=f,Lt=u,(Lt&6)===0&&Tl()}}function L0(){Dr=Qc.current,sn(Qc)}function Fu(o,u){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Ln(f)),On!==null)for(f=On.return;f!==null;){var y=f;switch(zv(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Sp();break;case 3:Gc(),sn(hr),sn(Si),e0();break;case 5:Xv(y);break;case 4:Gc();break;case 13:sn(cn);break;case 19:sn(cn);break;case 10:Gv(y.type._context);break;case 22:case 23:L0()}f=f.return}if(Xn=o,On=o=Ll(o.current,null),ai=Dr=u,Un=0,Ch=null,E0=qp=Vu=0,mr=Ih=null,Nu!==null){for(u=0;u<Nu.length;u++)if(f=Nu[u],y=f.interleaved,y!==null){f.interleaved=null;var S=y.next,P=f.pending;if(P!==null){var M=P.next;P.next=S,y.next=M}f.pending=y}Nu=null}return o}function M2(o,u){do{var f=On;try{if(qv(),Mp.current=Fp,Dp){for(var y=dn.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}Dp=!1}if(Du=0,Yn=zn=dn=null,xh=!1,bh=0,T0.current=null,f===null||f.return===null){Un=1,Ch=u,On=null;break}e:{var P=o,M=f.return,K=f,te=u;if(u=ai,K.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var he=te,we=K,be=we.tag;if((we.mode&1)===0&&(be===0||be===11||be===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ve=o2(M);if(Ve!==null){Ve.flags&=-257,a2(Ve,M,K,P,u),Ve.mode&1&&s2(P,he,u),u=Ve,te=he;var Ue=u.updateQueue;if(Ue===null){var He=new Set;He.add(te),u.updateQueue=He}else Ue.add(te);break e}else{if((u&1)===0){s2(P,he,u),O0();break e}te=Error(n(426))}}else if(an&&K.mode&1){var Sn=o2(M);if(Sn!==null){(Sn.flags&65536)===0&&(Sn.flags|=256),a2(Sn,M,K,P,u),Hv(Kc(te,K));break e}}P=te=Kc(te,K),Un!==4&&(Un=2),Ih===null?Ih=[P]:Ih.push(P),P=M;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var oe=i2(P,te,u);k1(P,oe);break e;case 1:K=te;var ne=P.type,le=P.stateNode;if((P.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Il===null||!Il.has(le)))){P.flags|=65536,u&=-u,P.lanes|=u;var Te=r2(P,K,u);k1(P,Te);break e}}P=P.return}while(P!==null)}j2(f)}catch(qe){u=qe,On===f&&f!==null&&(On=f=f.return);continue}break}while(!0)}function D2(){var o=Wp.current;return Wp.current=Fp,o===null?Fp:o}function O0(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||(Vu&268435455)===0&&(qp&268435455)===0||Rl(Xn,ai)}function Xp(o,u){var f=Lt;Lt|=2;var y=D2();(Xn!==o||ai!==u)&&(ca=null,Fu(o,u));do try{QL();break}catch(S){M2(o,S)}while(!0);if(qv(),Lt=f,Wp.current=y,On!==null)throw Error(n(261));return Xn=null,ai=0,Un}function QL(){for(;On!==null;)V2(On)}function YL(){for(;On!==null&&!bc();)V2(On)}function V2(o){var u=z2(o.alternate,o,Dr);o.memoizedProps=o.pendingProps,u===null?j2(o):On=u,T0.current=null}function j2(o){var u=o;do{var f=u.alternate;if(o=u.return,(u.flags&32768)===0){if(f=$L(f,u,Dr),f!==null){On=f;return}}else{if(f=HL(f,u),f!==null){f.flags&=32767,On=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Un=6,On=null;return}}if(u=u.sibling,u!==null){On=u;return}On=u=o}while(u!==null);Un===0&&(Un=5)}function Bu(o,u,f){var y=wt,S=ts.transition;try{ts.transition=null,wt=1,XL(o,u,f,y)}finally{ts.transition=S,wt=y}return null}function XL(o,u,f,y){do Xc();while(Al!==null);if((Lt&6)!==0)throw Error(n(327));f=o.finishedWork;var S=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var P=f.lanes|f.childLanes;if(ut(o,P),o===Xn&&(On=Xn=null,ai=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Kp||(Kp=!0,U2(rr,function(){return Xc(),null})),P=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||P){P=ts.transition,ts.transition=null;var M=wt;wt=1;var K=Lt;Lt|=4,T0.current=null,qL(o,f),I2(f,o),Kr(Je),xs=!!Me,Je=Me=null,o.current=f,GL(f),Ya(),Lt=K,wt=M,ts.transition=P}else o.current=f;if(Kp&&(Kp=!1,Al=o,Zp=S),P=o.pendingLanes,P===0&&(Il=null),Ys(f.stateNode),gr(o,Kt()),u!==null)for(y=o.onRecoverableError,f=0;f<u.length;f++)S=u[f],y(S.value,{componentStack:S.stack,digest:S.digest});if(Gp)throw Gp=!1,o=C0,C0=null,o;return(Zp&1)!==0&&o.tag!==0&&Xc(),P=o.pendingLanes,(P&1)!==0?o===I0?Ah++:(Ah=0,I0=o):Ah=0,Tl(),null}function Xc(){if(Al!==null){var o=or(Zp),u=ts.transition,f=wt;try{if(ts.transition=null,wt=16>o?16:o,Al===null)var y=!1;else{if(o=Al,Al=null,Zp=0,(Lt&6)!==0)throw Error(n(331));var S=Lt;for(Lt|=4,ze=o.current;ze!==null;){var P=ze,M=P.child;if((ze.flags&16)!==0){var K=P.deletions;if(K!==null){for(var te=0;te<K.length;te++){var he=K[te];for(ze=he;ze!==null;){var we=ze;switch(we.tag){case 0:case 11:case 15:Ph(8,we,P)}var be=we.child;if(be!==null)be.return=we,ze=be;else for(;ze!==null;){we=ze;var ye=we.sibling,Ve=we.return;if(S2(we),we===he){ze=null;break}if(ye!==null){ye.return=Ve,ze=ye;break}ze=Ve}}}var Ue=P.alternate;if(Ue!==null){var He=Ue.child;if(He!==null){Ue.child=null;do{var Sn=He.sibling;He.sibling=null,He=Sn}while(He!==null)}}ze=P}}if((P.subtreeFlags&2064)!==0&&M!==null)M.return=P,ze=M;else e:for(;ze!==null;){if(P=ze,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Ph(9,P,P.return)}var oe=P.sibling;if(oe!==null){oe.return=P.return,ze=oe;break e}ze=P.return}}var ne=o.current;for(ze=ne;ze!==null;){M=ze;var le=M.child;if((M.subtreeFlags&2064)!==0&&le!==null)le.return=M,ze=le;else e:for(M=ne;ze!==null;){if(K=ze,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Hp(9,K)}}catch(qe){vn(K,K.return,qe)}if(K===M){ze=null;break e}var Te=K.sibling;if(Te!==null){Te.return=K.return,ze=Te;break e}ze=K.return}}if(Lt=S,Tl(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Qs,o)}catch{}y=!0}return y}finally{wt=f,ts.transition=u}}return!1}function F2(o,u,f){u=Kc(f,u),u=i2(o,u,1),o=Pl(o,u,1),u=Hi(),o!==null&&(_i(o,1,u),gr(o,u))}function vn(o,u,f){if(o.tag===3)F2(o,o,f);else for(;u!==null;){if(u.tag===3){F2(u,o,f);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Il===null||!Il.has(y))){o=Kc(f,o),o=r2(u,o,1),u=Pl(u,o,1),o=Hi(),u!==null&&(_i(u,1,o),gr(u,o));break}}u=u.return}}function JL(o,u,f){var y=o.pingCache;y!==null&&y.delete(u),u=Hi(),o.pingedLanes|=o.suspendedLanes&f,Xn===o&&(ai&f)===f&&(Un===4||Un===3&&(ai&130023424)===ai&&500>Kt()-P0?Fu(o,0):E0|=f),gr(o,u)}function B2(o,u){u===0&&((o.mode&1)===0?u=1:(u=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var f=Hi();o=aa(o,u),o!==null&&(_i(o,u,f),gr(o,f))}function eO(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),B2(o,f)}function tO(o,u){var f=0;switch(o.tag){case 13:var y=o.stateNode,S=o.memoizedState;S!==null&&(f=S.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(u),B2(o,f)}var z2;z2=function(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps||hr.current)pr=!0;else{if((o.lanes&f)===0&&(u.flags&128)===0)return pr=!1,UL(o,u,f);pr=(o.flags&131072)!==0}else pr=!1,an&&(u.flags&1048576)!==0&&w1(u,Cp,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Up(o,u),o=u.pendingProps;var S=Bc(u,Si.current);qc(u,f),S=i0(null,u,y,o,S,f);var P=r0();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,fr(y)?(P=!0,Tp(u)):P=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Qv(u),S.updater=Bp,u.stateNode=S,S._reactInternals=u,c0(u,y,o,f),u=p0(null,u,y,!0,P,f)):(u.tag=0,an&&P&&Bv(u),$i(null,u,S,f),u=u.child),u;case 16:y=u.elementType;e:{switch(Up(o,u),o=u.pendingProps,S=y._init,y=S(y._payload),u.type=y,S=u.tag=iO(y),o=Is(y,o),S){case 0:u=f0(null,u,y,o,f);break e;case 1:u=f2(null,u,y,o,f);break e;case 11:u=l2(null,u,y,o,f);break e;case 14:u=u2(null,u,y,Is(y.type,o),f);break e}throw Error(n(306,y,""))}return u;case 0:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Is(y,S),f0(o,u,y,S,f);case 1:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Is(y,S),f2(o,u,y,S,f);case 3:e:{if(p2(u),o===null)throw Error(n(387));y=u.pendingProps,P=u.memoizedState,S=P.element,A1(o,u),Op(u,y,null,f);var M=u.memoizedState;if(y=M.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){S=Kc(Error(n(423)),u),u=m2(o,u,y,f,S);break e}else if(y!==S){S=Kc(Error(n(424)),u),u=m2(o,u,y,f,S);break e}else for(Mr=so(u.stateNode.containerInfo.firstChild),Nr=u,an=!0,Cs=null,f=C1(u,null,y,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($c(),y===S){u=ua(o,u,f);break e}$i(o,u,y,f)}u=u.child}return u;case 5:return L1(u),o===null&&$v(u),y=u.type,S=u.pendingProps,P=o!==null?o.memoizedProps:null,M=S.children,_t(y,S)?M=null:P!==null&&_t(y,P)&&(u.flags|=32),h2(o,u),$i(o,u,M,f),u.child;case 6:return o===null&&$v(u),null;case 13:return g2(o,u,f);case 4:return Yv(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=Hc(u,null,y,f):$i(o,u,y,f),u.child;case 11:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Is(y,S),l2(o,u,y,S,f);case 7:return $i(o,u,u.pendingProps,f),u.child;case 8:return $i(o,u,u.pendingProps.children,f),u.child;case 12:return $i(o,u,u.pendingProps.children,f),u.child;case 10:e:{if(y=u.type._context,S=u.pendingProps,P=u.memoizedProps,M=S.value,tn(kp,y._currentValue),y._currentValue=M,P!==null)if(Lr(P.value,M)){if(P.children===S.children&&!hr.current){u=ua(o,u,f);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var K=P.dependencies;if(K!==null){M=P.child;for(var te=K.firstContext;te!==null;){if(te.context===y){if(P.tag===1){te=la(-1,f&-f),te.tag=2;var he=P.updateQueue;if(he!==null){he=he.shared;var we=he.pending;we===null?te.next=te:(te.next=we.next,we.next=te),he.pending=te}}P.lanes|=f,te=P.alternate,te!==null&&(te.lanes|=f),Kv(P.return,f,u),K.lanes|=f;break}te=te.next}}else if(P.tag===10)M=P.type===u.type?null:P.child;else if(P.tag===18){if(M=P.return,M===null)throw Error(n(341));M.lanes|=f,K=M.alternate,K!==null&&(K.lanes|=f),Kv(M,f,u),M=P.sibling}else M=P.child;if(M!==null)M.return=P;else for(M=P;M!==null;){if(M===u){M=null;break}if(P=M.sibling,P!==null){P.return=M.return,M=P;break}M=M.return}P=M}$i(o,u,S.children,f),u=u.child}return u;case 9:return S=u.type,y=u.pendingProps.children,qc(u,f),S=Jr(S),y=y(S),u.flags|=1,$i(o,u,y,f),u.child;case 14:return y=u.type,S=Is(y,u.pendingProps),S=Is(y.type,S),u2(o,u,y,S,f);case 15:return c2(o,u,u.type,u.pendingProps,f);case 17:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Is(y,S),Up(o,u),u.tag=1,fr(y)?(o=!0,Tp(u)):o=!1,qc(u,f),t2(u,y,S),c0(u,y,S,f),p0(null,u,y,!0,o,f);case 19:return _2(o,u,f);case 22:return d2(o,u,f)}throw Error(n(156,u.tag))};function U2(o,u){return Za(o,u)}function nO(o,u,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(o,u,f,y){return new nO(o,u,f,y)}function N0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function iO(o){if(typeof o=="function")return N0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===q)return 11;if(o===Oe)return 14}return 2}function Ll(o,u){var f=o.alternate;return f===null?(f=ns(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Jp(o,u,f,y,S,P){var M=2;if(y=o,typeof o=="function")N0(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case U:return zu(f.children,S,P,u);case N:M=8,S|=8;break;case V:return o=ns(12,f,u,S|2),o.elementType=V,o.lanes=P,o;case $:return o=ns(13,f,u,S),o.elementType=$,o.lanes=P,o;case xe:return o=ns(19,f,u,S),o.elementType=xe,o.lanes=P,o;case Pe:return em(f,S,P,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:M=10;break e;case G:M=9;break e;case q:M=11;break e;case Oe:M=14;break e;case Re:M=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return u=ns(M,f,u,S),u.elementType=o,u.type=y,u.lanes=P,u}function zu(o,u,f,y){return o=ns(7,o,y,u),o.lanes=f,o}function em(o,u,f,y){return o=ns(22,o,y,u),o.elementType=Pe,o.lanes=f,o.stateNode={isHidden:!1},o}function M0(o,u,f){return o=ns(6,o,null,u),o.lanes=f,o}function D0(o,u,f){return u=ns(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function rO(o,u,f,y,S){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ar(0),this.expirationTimes=Ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.identifierPrefix=y,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function V0(o,u,f,y,S,P,M,K,te){return o=new rO(o,u,f,K,te),u===1?(u=1,P===!0&&(u|=8)):u=0,P=ns(3,null,null,u),o.current=P,P.stateNode=o,P.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(P),o}function sO(o,u,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:y==null?null:""+y,children:o,containerInfo:u,implementation:f}}function $2(o){if(!o)return Sl;o=o._reactInternals;e:{if(tr(o)!==o||o.tag!==1)throw Error(n(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(fr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(fr(f))return v1(o,f,u)}return u}function H2(o,u,f,y,S,P,M,K,te){return o=V0(f,y,!0,o,S,P,M,K,te),o.context=$2(null),f=o.current,y=Hi(),S=kl(f),P=la(y,S),P.callback=u??null,Pl(f,P,S),o.current.lanes=S,_i(o,S,y),gr(o,y),o}function tm(o,u,f,y){var S=u.current,P=Hi(),M=kl(S);return f=$2(f),u.context===null?u.context=f:u.pendingContext=f,u=la(P,M),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Pl(S,u,M),o!==null&&(Rs(o,S,M,P),Lp(o,S,M)),M}function nm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function W2(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function j0(o,u){W2(o,u),(o=o.alternate)&&W2(o,u)}function oO(){return null}var q2=typeof reportError=="function"?reportError:function(o){console.error(o)};function F0(o){this._internalRoot=o}im.prototype.render=F0.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));tm(o,u,null,null)},im.prototype.unmount=F0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;ju(function(){tm(null,o,null,null)}),u[Ft]=null}};function im(o){this._internalRoot=o}im.prototype.unstable_scheduleHydration=function(o){if(o){var u=el();o={blockedOn:null,target:o,priority:u};for(var f=0;f<bn.length&&u!==0&&u<bn[f].priority;f++);bn.splice(f,0,o),f===0&&tl(o)}};function B0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function rm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function G2(){}function aO(o,u,f,y,S){if(S){if(typeof y=="function"){var P=y;y=function(){var he=nm(M);P.call(he)}}var M=H2(u,y,o,0,null,!1,!1,"",G2);return o._reactRootContainer=M,o[Ft]=M.current,_l(o.nodeType===8?o.parentNode:o),ju(),M}for(;S=o.lastChild;)o.removeChild(S);if(typeof y=="function"){var K=y;y=function(){var he=nm(te);K.call(he)}}var te=V0(o,0,!1,null,null,!1,!1,"",G2);return o._reactRootContainer=te,o[Ft]=te.current,_l(o.nodeType===8?o.parentNode:o),ju(function(){tm(u,te,f,y)}),te}function sm(o,u,f,y,S){var P=f._reactRootContainer;if(P){var M=P;if(typeof S=="function"){var K=S;S=function(){var te=nm(M);K.call(te)}}tm(u,M,o,S)}else M=aO(f,u,o,S,y);return nm(M)}Xa=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var f=at(u.pendingLanes);f!==0&&(yi(u,f|1),gr(u,Kt()),(Lt&6)===0&&(Yc=Kt()+500,Tl()))}break;case 13:ju(function(){var y=aa(o,1);if(y!==null){var S=Hi();Rs(y,o,1,S)}}),j0(o,1)}},Hr=function(o){if(o.tag===13){var u=aa(o,134217728);if(u!==null){var f=Hi();Rs(u,o,134217728,f)}j0(o,134217728)}},Ja=function(o){if(o.tag===13){var u=kl(o),f=aa(o,u);if(f!==null){var y=Hi();Rs(f,o,u,y)}j0(o,u)}},el=function(){return wt},Ho=function(o,u){var f=wt;try{return wt=o,u()}finally{wt=f}},Mo=function(o,u,f){switch(u){case"input":if(Gs(o,f),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var y=f[u];if(y!==o&&y.form===o.form){var S=jc(y);if(!S)throw Error(n(90));ni(y),Gs(y,S)}}}break;case"textarea":We(o,f);break;case"select":u=f.value,u!=null&&ke(o,!!f.multiple,u,!1)}},Do=R0,yu=ju;var lO={usingClientEntryPoint:!1,Events:[na,ia,jc,$r,_u,R0]},kh={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uO={bundleType:kh.bundleType,version:kh.version,rendererPackageName:kh.rendererPackageName,rendererConfig:kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=wu(o),o===null?null:o.stateNode},findFiberByHostInstance:kh.findFiberByHostInstance||oO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{Qs=om.inject(uO),vi=om}catch{}}return vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lO,vr.createPortal=function(o,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B0(u))throw Error(n(200));return sO(o,u,null,f)},vr.createRoot=function(o,u){if(!B0(o))throw Error(n(299));var f=!1,y="",S=q2;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=V0(o,1,!1,null,null,f,!1,y,S),o[Ft]=u.current,_l(o.nodeType===8?o.parentNode:o),new F0(u)},vr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=wu(u),o=o===null?null:o.stateNode,o},vr.flushSync=function(o){return ju(o)},vr.hydrate=function(o,u,f){if(!rm(u))throw Error(n(200));return sm(null,o,u,!0,f)},vr.hydrateRoot=function(o,u,f){if(!B0(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,S=!1,P="",M=q2;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(P=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),u=H2(u,null,o,1,f??null,S,!1,P,M),o[Ft]=u.current,_l(o),y)for(o=0;o<y.length;o++)f=y[o],S=f._getVersion,S=S(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,S]:u.mutableSourceEagerHydrationData.push(f,S);return new im(u)},vr.render=function(o,u,f){if(!rm(u))throw Error(n(200));return sm(null,o,u,!1,f)},vr.unmountComponentAtNode=function(o){if(!rm(o))throw Error(n(40));return o._reactRootContainer?(ju(function(){sm(null,null,o,!1,function(){o._reactRootContainer=null,o[Ft]=null})}),!0):!1},vr.unstable_batchedUpdates=R0,vr.unstable_renderSubtreeIntoContainer=function(o,u,f,y){if(!rm(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return sm(o,u,f,!1,y)},vr.version="18.3.1-next-f1338f8080-20240426",vr}var nb;function vP(){if(nb)return H0.exports;nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),H0.exports=yO(),H0.exports}var ib;function wO(){if(ib)return lm;ib=1;var t=vP();return lm.createRoot=t.createRoot,lm.hydrateRoot=t.hydrateRoot,lm}var xO=wO(),B=rw();const ot=iw(B),rb=fO({__proto__:null,default:ot},[B]);var Lh={},sb;function bO(){if(sb)return Lh;sb=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.parse=l,Lh.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,T){const I=new s,C=x.length;if(C<2)return I;const k=(T==null?void 0:T.decode)||m;let R=0;do{const F=x.indexOf("=",R);if(F===-1)break;const D=x.indexOf(";",R),Z=D===-1?C:D;if(F>Z){R=x.lastIndexOf(";",F-1)+1;continue}const H=c(x,R,F),Q=d(x,F,H),U=x.slice(H,Q);if(I[U]===void 0){let N=c(x,F+1,Z),V=d(x,Z,N);const z=k(x.slice(N,V));I[U]=z}R=Z+1}while(R<C);return I}function c(x,T,I){do{const C=x.charCodeAt(T);if(C!==32&&C!==9)return T}while(++T<I);return I}function d(x,T,I){for(;T>I;){const C=x.charCodeAt(--T);if(C!==32&&C!==9)return T+1}return I}function p(x,T,I){const C=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const k=C(T);if(!e.test(k))throw new TypeError(`argument val is invalid: ${T}`);let R=x+"="+k;if(!I)return R;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);R+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);R+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);R+="; Path="+I.path}if(I.expires){if(!v(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);R+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(R+="; HttpOnly"),I.secure&&(R+="; Secure"),I.partitioned&&(R+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return R}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return r.call(x)==="[object Date]"}return Lh}bO();var ob="popstate";function SO(t={}){function e(i,r){let{pathname:s,search:l,hash:c}=i.location;return B_("",{pathname:s,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:lf(r)}return EO(e,n,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TO(){return Math.random().toString(36).substring(2,10)}function ab(t,e){return{usr:t.state,key:t.key,idx:e}}function B_(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$d(e):e,state:n,key:e&&e.key||i||TO()}}function lf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function EO(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let k=m(),R=k==null?null:k-p;p=k,d&&d({action:c,location:C.location,delta:R})}function x(k,R){c="PUSH";let F=B_(C.location,k,R);p=m()+1;let D=ab(F,p),Z=C.createHref(F);try{l.pushState(D,"",Z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(Z)}s&&d&&d({action:c,location:C.location,delta:1})}function T(k,R){c="REPLACE";let F=B_(C.location,k,R);p=m();let D=ab(F,p),Z=C.createHref(F);l.replaceState(D,"",Z),s&&d&&d({action:c,location:C.location,delta:0})}function I(k){let R=r.location.origin!=="null"?r.location.origin:r.location.href,F=typeof k=="string"?k:lf(k);return F=F.replace(/ $/,"%20"),fn(R,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,R)}let C={get action(){return c},get location(){return t(r,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(ob,v),d=k,()=>{r.removeEventListener(ob,v),d=null}},createHref(k){return e(r,k)},createURL:I,encodeLocation(k){let R=I(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:T,go(k){return l.go(k)}};return C}function _P(t,e,n="/"){return PO(t,e,n,!1)}function PO(t,e,n,i){let r=typeof e=="string"?$d(e):e,s=Ra(r.pathname||"/",n);if(s==null)return null;let l=yP(t);CO(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=jO(s);c=DO(l[d],p,i)}return c}function yP(t,e=[],n=[],i=""){let r=(s,l,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(fn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=Ta([i,d.relativePath]),m=n.concat(d);s.children&&s.children.length>0&&(fn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yP(s.children,e,m,p)),!(s.path==null&&!s.index)&&e.push({path:p,score:NO(p,s.index),routesMeta:m})};return t.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))r(s,l);else for(let d of wP(s.path))r(s,l,d)}),e}function wP(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=wP(i.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),r&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function CO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var IO=/^:[\w-]+$/,AO=3,kO=2,RO=1,LO=10,OO=-2,lb=t=>t==="*";function NO(t,e){let n=t.split("/"),i=n.length;return n.some(lb)&&(i+=OO),e&&(i+=kO),n.filter(r=>!lb(r)).reduce((r,s)=>r+(IO.test(s)?AO:s===""?RO:LO),i)}function MO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function DO(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],p=c===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",v=Jm({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),x=d.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=Jm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:Ta([s,v.pathname]),pathnameBase:UO(Ta([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=Ta([s,v.pathnameBase]))}return l}function Jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=VO(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},x)=>{if(m==="*"){let I=c[x]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=c[x];return v&&!T?p[m]=void 0:p[m]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:t}}function VO(t,e=!1,n=!0){Co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function jO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Co(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ra(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function FO(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?$d(t):t;return{pathname:n?n.startsWith("/")?n:BO(n,e):e,search:$O(i),hash:HO(r)}}function BO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function G0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xP(t){let e=zO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function bP(t,e,n,i=!1){let r;typeof t=="string"?r=$d(t):(r={...t},fn(!r.pathname||!r.pathname.includes("?"),G0("?","pathname","search",r)),fn(!r.pathname||!r.pathname.includes("#"),G0("#","pathname","hash",r)),fn(!r.search||!r.search.includes("#"),G0("#","search","hash",r)));let s=t===""||r.pathname==="",l=s?"/":r.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;r.pathname=x.join("/")}c=v>=0?e[v]:"/"}let d=FO(r,c),p=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Ta=t=>t.join("/").replace(/\/\/+/g,"/"),UO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$O=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var SP=["POST","PUT","PATCH","DELETE"];new Set(SP);var qO=["GET",...SP];new Set(qO);var Hd=B.createContext(null);Hd.displayName="DataRouter";var $g=B.createContext(null);$g.displayName="DataRouterState";var TP=B.createContext({isTransitioning:!1});TP.displayName="ViewTransition";var GO=B.createContext(new Map);GO.displayName="Fetchers";var KO=B.createContext(null);KO.displayName="Await";var ko=B.createContext(null);ko.displayName="Navigation";var Mf=B.createContext(null);Mf.displayName="Location";var qs=B.createContext({outlet:null,matches:[],isDataRoute:!1});qs.displayName="Route";var sw=B.createContext(null);sw.displayName="RouteError";function ZO(t,{relative:e}={}){fn(Df(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=B.useContext(ko),{hash:r,pathname:s,search:l}=jf(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Ta([n,s])),i.createHref({pathname:c,search:l,hash:r})}function Df(){return B.useContext(Mf)!=null}function ja(){return fn(Df(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Mf).location}var EP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PP(t){B.useContext(ko).static||B.useLayoutEffect(t)}function Vf(){let{isDataRoute:t}=B.useContext(qs);return t?dN():QO()}function QO(){fn(Df(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Hd),{basename:e,navigator:n}=B.useContext(ko),{matches:i}=B.useContext(qs),{pathname:r}=ja(),s=JSON.stringify(xP(i)),l=B.useRef(!1);return PP(()=>{l.current=!0}),B.useCallback((d,p={})=>{if(Co(l.current,EP),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=bP(d,JSON.parse(s),r,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ta([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,s,r,t])}var YO=B.createContext(null);function XO(t){let e=B.useContext(qs).outlet;return e&&B.createElement(YO.Provider,{value:t},e)}function JO(){let{matches:t}=B.useContext(qs),e=t[t.length-1];return e?e.params:{}}function jf(t,{relative:e}={}){let{matches:n}=B.useContext(qs),{pathname:i}=ja(),r=JSON.stringify(xP(n));return B.useMemo(()=>bP(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function eN(t,e){return CP(t,e)}function CP(t,e,n,i){var F;fn(Df(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=B.useContext(ko),{matches:l}=B.useContext(qs),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let D=v&&v.path||"";IP(p,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=ja(),T;if(e){let D=typeof e=="string"?$d(e):e;fn(m==="/"||((F=D.pathname)==null?void 0:F.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),T=D}else T=x;let I=T.pathname||"/",C=I;if(m!=="/"){let D=m.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=!s&&n&&n.matches&&n.matches.length>0?n.matches:_P(t,{pathname:C});Co(v||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Co(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=sN(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Ta([m,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:Ta([m,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,n,i);return e&&R?B.createElement(Mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},R):R}function tN(){let t=cN(),e=WO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:s},"ErrorBoundary")," or"," ",B.createElement("code",{style:s},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:r},n):null,l)}var nN=B.createElement(tN,null),iN=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(qs.Provider,{value:this.props.routeContext},B.createElement(sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rN({routeContext:t,match:e,children:n}){let i=B.useContext(Hd);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(qs.Provider,{value:t},n)}function sN(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let d=r.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);fn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<r.length;d++){let p=r[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:v}=n,x=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((d,p,m)=>{let v,x=!1,T=null,I=null;n&&(v=s&&p.route.id?s[p.route.id]:void 0,T=p.route.errorElement||nN,l&&(c<0&&m===0?(IP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):c===m&&(x=!0,I=p.route.hydrateFallbackElement||null)));let C=e.concat(r.slice(0,m+1)),k=()=>{let R;return v?R=T:x?R=I:p.route.Component?R=B.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=d,B.createElement(rN,{match:p,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:R})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?B.createElement(iN,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}function ow(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(t){let e=B.useContext(Hd);return fn(e,ow(t)),e}function aN(t){let e=B.useContext($g);return fn(e,ow(t)),e}function lN(t){let e=B.useContext(qs);return fn(e,ow(t)),e}function aw(t){let e=lN(t),n=e.matches[e.matches.length-1];return fn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uN(){return aw("useRouteId")}function cN(){var i;let t=B.useContext(sw),e=aN("useRouteError"),n=aw("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function dN(){let{router:t}=oN("useNavigate"),e=aw("useNavigate"),n=B.useRef(!1);return PP(()=>{n.current=!0}),B.useCallback(async(r,s={})=>{Co(n.current,EP),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var ub={};function IP(t,e,n){!e&&!ub[t]&&(ub[t]=!0,Co(!1,n))}B.memo(hN);function hN({routes:t,future:e,state:n}){return CP(t,void 0,n,e)}function fN(t){return XO(t.context)}function nn(t){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){fn(!Df(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:r,static:s,future:{}}),[l,r,s]);typeof n=="string"&&(n=$d(n));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:x="default"}=n,T=B.useMemo(()=>{let I=Ra(d,l);return I==null?null:{location:{pathname:I,search:p,hash:m,state:v,key:x},navigationType:i}},[l,d,p,m,v,x,i]);return Co(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:B.createElement(ko.Provider,{value:c},B.createElement(Mf.Provider,{children:e,value:T}))}function mN({children:t,location:e}){return eN(z_(t),e)}function z_(t,e=[]){let n=[];return B.Children.forEach(t,(i,r)=>{if(!B.isValidElement(i))return;let s=[...e,r];if(i.type===B.Fragment){n.push.apply(n,z_(i.props.children,s));return}fn(i.type===nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=z_(i.props.children,s)),n.push(l)}),n}var km="get",Rm="application/x-www-form-urlencoded";function Hg(t){return t!=null&&typeof t.tagName=="string"}function gN(t){return Hg(t)&&t.tagName.toLowerCase()==="button"}function vN(t){return Hg(t)&&t.tagName.toLowerCase()==="form"}function _N(t){return Hg(t)&&t.tagName.toLowerCase()==="input"}function yN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wN(t,e){return t.button===0&&(!e||e==="_self")&&!yN(t)}var um=null;function xN(){if(um===null)try{new FormData(document.createElement("form"),0),um=!1}catch{um=!0}return um}var bN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function K0(t){return t!=null&&!bN.has(t)?(Co(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rm}"`),null):t}function SN(t,e){let n,i,r,s,l;if(vN(t)){let c=t.getAttribute("action");i=c?Ra(c,e):null,n=t.getAttribute("method")||km,r=K0(t.getAttribute("enctype"))||Rm,s=new FormData(t)}else if(gN(t)||_N(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(i=d?Ra(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||km,r=K0(t.getAttribute("formenctype"))||K0(c.getAttribute("enctype"))||Rm,s=new FormData(c,t),!xN()){let{name:p,type:m,value:v}=t;if(m==="image"){let x=p?`${p}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else p&&s.append(p,v)}}else{if(Hg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=km,i=null,r=Rm,l=t}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:l}}function lw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function TN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PN(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await TN(s,n);return l.links?l.links():[]}return[]}));return kN(i.flat(1).filter(EN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function cb(t,e,n,i,r,s){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,c=(d,p)=>{var m;return n[p].pathname!==d.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):s==="data"?e.filter((d,p)=>{var v;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function CN(t,e,{includeHydrateFallback:n}={}){return IN(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function IN(t){return[...new Set(t)]}function AN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function kN(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(AN(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}var RN=new Set([100,101,204,205]);function LN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ra(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function AP(){let t=B.useContext(Hd);return lw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ON(){let t=B.useContext($g);return lw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uw=B.createContext(void 0);uw.displayName="FrameworkContext";function kP(){let t=B.useContext(uw);return lw(t,"You must render this element inside a <HydratedRouter> element"),t}function NN(t,e){let n=B.useContext(uw),[i,r]=B.useState(!1),[s,l]=B.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,x=B.useRef(null);B.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=R=>{R.forEach(F=>{l(F.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),B.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let T=()=>{r(!0)},I=()=>{r(!1),l(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:Oh(c,T),onBlur:Oh(d,I),onMouseEnter:Oh(p,T),onMouseLeave:Oh(m,I),onTouchStart:Oh(v,T)}]:[!1,x,{}]}function Oh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MN({page:t,...e}){let{router:n}=AP(),i=B.useMemo(()=>_P(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?B.createElement(VN,{page:t,matches:i,...e}):null}function DN(t){let{manifest:e,routeModules:n}=kP(),[i,r]=B.useState([]);return B.useEffect(()=>{let s=!1;return PN(t,e,n).then(l=>{s||r(l)}),()=>{s=!0}},[t,e,n]),i}function VN({page:t,matches:e,...n}){let i=ja(),{manifest:r,routeModules:s}=kP(),{basename:l}=AP(),{loaderData:c,matches:d}=ON(),p=B.useMemo(()=>cb(t,e,d,r,i,"data"),[t,e,d,r,i]),m=B.useMemo(()=>cb(t,e,d,r,i,"assets"),[t,e,d,r,i]),v=B.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,C=!1;if(e.forEach(R=>{var D;let F=r.routes[R.route.id];!F||!F.hasLoader||(!p.some(Z=>Z.route.id===R.route.id)&&R.route.id in c&&((D=s[R.route.id])!=null&&D.shouldRevalidate)||F.hasClientLoader?C=!0:I.add(R.route.id))}),I.size===0)return[];let k=LN(t,l);return C&&I.size>0&&k.searchParams.set("_routes",e.filter(R=>I.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[l,c,i,r,p,e,t,s]),x=B.useMemo(()=>CN(m,r),[m,r]),T=DN(m);return B.createElement(B.Fragment,null,v.map(I=>B.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),x.map(I=>B.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),T.map(({key:I,link:C})=>B.createElement("link",{key:I,...C})))}function jN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RP&&(window.__reactRouterVersion="7.5.2")}catch{}function FN({basename:t,children:e,window:n}){let i=B.useRef();i.current==null&&(i.current=SO({window:n,v5Compat:!0}));let r=i.current,[s,l]=B.useState({action:r.action,location:r.location}),c=B.useCallback(d=>{B.startTransition(()=>l(d))},[l]);return B.useLayoutEffect(()=>r.listen(c),[r,c]),B.createElement(pN,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var LP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=B.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:v,...x},T){let{basename:I}=B.useContext(ko),C=typeof p=="string"&&LP.test(p),k,R=!1;if(typeof p=="string"&&C&&(k=p,RP))try{let V=new URL(window.location.href),z=p.startsWith("//")?new URL(V.protocol+p):new URL(p),G=Ra(z.pathname,I);z.origin===V.origin&&G!=null?p=G+z.search+z.hash:R=!0}catch{Co(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=ZO(p,{relative:r}),[D,Z,H]=NN(i,x),Q=$N(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:r,viewTransition:v});function U(V){e&&e(V),V.defaultPrevented||Q(V)}let N=B.createElement("a",{...x,...H,href:k||F,onClick:R||s?e:U,ref:jN(T,Z),target:d,"data-discover":!C&&n==="render"?"true":void 0});return D&&!C?B.createElement(B.Fragment,null,N,B.createElement(MN,{page:F})):N});Gt.displayName="Link";var BN=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:c,children:d,...p},m){let v=jf(l,{relative:p.relative}),x=ja(),T=B.useContext($g),{navigator:I,basename:C}=B.useContext(ko),k=T!=null&&KN(v)&&c===!0,R=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,F=x.pathname,D=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(F=F.toLowerCase(),D=D?D.toLowerCase():null,R=R.toLowerCase()),D&&C&&(D=Ra(D,C)||D);const Z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let H=F===R||!r&&F.startsWith(R)&&F.charAt(Z)==="/",Q=D!=null&&(D===R||!r&&D.startsWith(R)&&D.charAt(R.length)==="/"),U={isActive:H,isPending:Q,isTransitioning:k},N=H?e:void 0,V;typeof i=="function"?V=i(U):V=[i,H?"active":null,Q?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(U):s;return B.createElement(Gt,{...p,"aria-current":N,className:V,ref:m,style:z,to:l,viewTransition:c},typeof d=="function"?d(U):d)});BN.displayName="NavLink";var zN=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:l=km,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...x},T)=>{let I=qN(),C=GN(c,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&LP.test(c),F=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let Z=D.nativeEvent.submitter,H=(Z==null?void 0:Z.getAttribute("formmethod"))||l;I(Z||D.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:r,state:s,relative:p,preventScrollReset:m,viewTransition:v})};return B.createElement("form",{ref:T,method:k,action:C,onSubmit:i?d:F,...x,"data-discover":!R&&t==="render"?"true":void 0})});zN.displayName="Form";function UN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OP(t){let e=B.useContext(Hd);return fn(e,UN(t)),e}function $N(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:l}={}){let c=Vf(),d=ja(),p=jf(t,{relative:s});return B.useCallback(m=>{if(wN(m,e)){m.preventDefault();let v=n!==void 0?n:lf(d)===lf(p);c(t,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:l})}},[d,c,p,n,i,e,t,r,s,l])}var HN=0,WN=()=>`__${String(++HN)}__`;function qN(){let{router:t}=OP("useSubmit"),{basename:e}=B.useContext(ko),n=uN();return B.useCallback(async(i,r={})=>{let{action:s,method:l,encType:c,formData:d,body:p}=SN(i,e);if(r.navigate===!1){let m=r.fetcherKey||WN();await t.fetch(m,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function GN(t,{relative:e}={}){let{basename:n}=B.useContext(ko),i=B.useContext(qs);fn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...jf(t||".",{relative:e})},l=ja();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ta([n,s.pathname])),lf(s)}function KN(t,e={}){let n=B.useContext(TP);fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OP("useViewTransitionState"),r=jf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ra(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Ra(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Jm(r.pathname,l)!=null||Jm(r.pathname,s)!=null}new TextEncoder;[...RN];var NP=vP();const ZN=iw(NP),MP=B.createContext({});function QN(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const cw=B.createContext(null),DP=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YN(t=!0){const e=B.useContext(cw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=B.useId();B.useEffect(()=>{if(t)return r(s)},[t]);const l=B.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,l]:[!0]}const dw=typeof window<"u",XN=dw?B.useLayoutEffect:B.useEffect,Fr=t=>t;let VP=Fr;function hw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ea=t=>t*1e3,Pa=t=>t/1e3,JN={useManualTiming:!1},cm=["read","resolveKeyframes","update","preRender","render","postRender"],db={value:null};function e3(t,e){let n=new Set,i=new Set,r=!1,s=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function p(v){l.has(v)&&(m.schedule(v),t()),d++,v(c)}const m={schedule:(v,x=!1,T=!1)=>{const C=T&&r?n:i;return x&&l.add(v),C.has(v)||C.add(v),v},cancel:v=>{i.delete(v),l.delete(v)},process:v=>{if(c=v,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(p),e&&db.value&&db.value.frameloop[e].push(d),d=0,n.clear(),r=!1,s&&(s=!1,m.process(v))}};return m}const t3=40;function jP(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=cm.reduce((R,F)=>(R[F]=e3(s,e?F:void 0),R),{}),{read:c,resolveKeyframes:d,update:p,preRender:m,render:v,postRender:x}=l,T=()=>{const R=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,t3),1),r.timestamp=R,r.isProcessing=!0,c.process(r),d.process(r),p.process(r),m.process(r),v.process(r),x.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(T))},I=()=>{n=!0,i=!0,r.isProcessing||t(T)};return{schedule:cm.reduce((R,F)=>{const D=l[F];return R[F]=(Z,H=!1,Q=!1)=>(n||I(),D.schedule(Z,H,Q)),R},{}),cancel:R=>{for(let F=0;F<cm.length;F++)l[cm[F]].cancel(R)},state:r,steps:l}}const{schedule:rn,cancel:su,state:di,steps:Z0}=jP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0),FP=B.createContext({strict:!1}),hb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ld={};for(const t in hb)Ld[t]={isEnabled:e=>hb[t].some(n=>!!e[n])};function n3(t){for(const e in t)Ld[e]={...Ld[e],...t[e]}}const i3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||i3.has(t)}let BP=t=>!eg(t);function r3(t){t&&(BP=e=>e.startsWith("on")?!eg(e):t(e))}try{r3(require("@emotion/is-prop-valid").default)}catch{}function s3(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(BP(r)||n===!0&&eg(r)||!e&&!eg(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function o3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Wg=B.createContext({});function qg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uf(t){return typeof t=="string"||Array.isArray(t)}const fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pw=["initial",...fw];function Gg(t){return qg(t.animate)||pw.some(e=>uf(t[e]))}function zP(t){return!!(Gg(t)||t.variants)}function a3(t,e){if(Gg(t)){const{initial:n,animate:i}=t;return{initial:n===!1||uf(n)?n:void 0,animate:uf(i)?i:void 0}}return t.inherit!==!1?e:{}}function l3(t){const{initial:e,animate:n}=a3(t,B.useContext(Wg));return B.useMemo(()=>({initial:e,animate:n}),[fb(e),fb(n)])}function fb(t){return Array.isArray(t)?t.join(" "):t}const u3=Symbol.for("motionComponentSymbol");function sd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function c3(t,e,n){return B.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):sd(n)&&(n.current=i))},[e])}const mw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d3="framerAppearId",UP="data-"+mw(d3),{schedule:gw}=jP(queueMicrotask,!1),$P=B.createContext({});function h3(t,e,n,i,r){var s,l;const{visualElement:c}=B.useContext(Wg),d=B.useContext(FP),p=B.useContext(cw),m=B.useContext(DP).reducedMotion,v=B.useRef(null);i=i||d.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const x=v.current,T=B.useContext($P);x&&!x.projection&&r&&(x.type==="html"||x.type==="svg")&&f3(v.current,n,r,T);const I=B.useRef(!1);B.useInsertionEffect(()=>{x&&I.current&&x.update(n,p)});const C=n[UP],k=B.useRef(!!C&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return XN(()=>{x&&(I.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),gw.render(x.render),k.current&&x.animationState&&x.animationState.animateChanges())}),B.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,C)}),k.current=!1))}),x}function f3(t,e,n,i){const{layoutId:r,layout:s,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:HP(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!l||c&&sd(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:p})}function HP(t){if(t)return t.options.allowProjection!==!1?t.projection:HP(t.parent)}function p3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,l;t&&n3(t);function c(p,m){let v;const x={...B.useContext(DP),...p,layoutId:m3(p)},{isStatic:T}=x,I=l3(p),C=i(p,T);if(!T&&dw){g3();const k=v3(x);v=k.MeasureLayout,I.visualElement=h3(r,C,x,e,k.ProjectionNode)}return w.jsxs(Wg.Provider,{value:I,children:[v&&I.visualElement?w.jsx(v,{visualElement:I.visualElement,...x}):null,n(r,p,c3(C,I.visualElement,m),C,T,I.visualElement)]})}c.displayName=`motion.${typeof r=="string"?r:`create(${(l=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&l!==void 0?l:""})`}`;const d=B.forwardRef(c);return d[u3]=r,d}function m3({layoutId:t}){const e=B.useContext(MP).id;return e&&t!==void 0?e+"-"+t:t}function g3(t,e){B.useContext(FP).strict}function v3(t){const{drag:e,layout:n}=Ld;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const WP=t=>e=>typeof e=="string"&&e.startsWith(t),vw=WP("--"),_3=WP("var(--"),_w=t=>_3(t)?y3.test(t.split("/*")[0].trim()):!1,y3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cf={};function w3(t){for(const e in t)cf[e]=t[e],vw(e)&&(cf[e].isCSSVariable=!0)}const Wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(Wd);function qP(t,{layout:e,layoutId:n}){return mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cf[t]||t==="opacity")}const Oi=t=>!!(t&&t.getVelocity),GP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,La=(t,e,n)=>n>e?e:n<t?t:n,qd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},df={...qd,transform:t=>La(0,1,t)},dm={...qd,default:1},Ff=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ml=Ff("deg"),wo=Ff("%"),rt=Ff("px"),x3=Ff("vh"),b3=Ff("vw"),pb={...wo,parse:t=>wo.parse(t)/100,transform:t=>wo.transform(t*100)},S3={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt},T3={rotate:Ml,rotateX:Ml,rotateY:Ml,rotateZ:Ml,scale:dm,scaleX:dm,scaleY:dm,scaleZ:dm,skew:Ml,skewX:Ml,skewY:Ml,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:df,originX:pb,originY:pb,originZ:rt},mb={...qd,transform:Math.round},yw={...S3,...T3,zIndex:mb,size:rt,fillOpacity:df,strokeOpacity:df,numOctaves:mb},E3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P3=Wd.length;function C3(t,e,n){let i="",r=!0;for(let s=0;s<P3;s++){const l=Wd[s],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const p=GP(c,yw[l]);if(!d){r=!1;const m=E3[l]||l;i+=`${m}(${p}) `}n&&(e[l]=p)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ww(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let l=!1,c=!1;for(const d in e){const p=e[d];if(mc.has(d)){l=!0;continue}else if(vw(d)){r[d]=p;continue}else{const m=GP(p,yw[d]);d.startsWith("origin")?(c=!0,s[d]=m):i[d]=m}}if(e.transform||(l||n?i.transform=C3(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=s;i.transformOrigin=`${d} ${p} ${m}`}}const xw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KP(t,e,n){for(const i in e)!Oi(e[i])&&!qP(i,n)&&(t[i]=e[i])}function I3({transformTemplate:t},e){return B.useMemo(()=>{const n=xw();return ww(n,e,t),Object.assign({},n.vars,n.style)},[e])}function A3(t,e){const n=t.style||{},i={};return KP(i,n,t),Object.assign(i,I3(t,e)),i}function k3(t,e){const n={},i=A3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const R3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bw(t){return typeof t!="string"||t.includes("-")?!1:!!(R3.indexOf(t)>-1||/[A-Z]/u.test(t))}const L3={offset:"stroke-dashoffset",array:"stroke-dasharray"},O3={offset:"strokeDashoffset",array:"strokeDasharray"};function N3(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?L3:O3;t[s.offset]=rt.transform(-i);const l=rt.transform(e),c=rt.transform(n);t[s.array]=`${l} ${c}`}function gb(t,e,n){return typeof t=="string"?t:rt.transform(e+n*t)}function M3(t,e,n){const i=gb(e,t.x,t.width),r=gb(n,t.y,t.height);return`${i} ${r}`}function Sw(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},m,v){if(ww(t,p,v),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T,dimensions:I}=t;x.transform&&(I&&(T.transform=x.transform),delete x.transform),I&&(r!==void 0||s!==void 0||T.transform)&&(T.transformOrigin=M3(I,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),l!==void 0&&N3(x,l,c,d,!1)}const ZP=()=>({...xw(),attrs:{}}),Tw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function D3(t,e,n,i){const r=B.useMemo(()=>{const s=ZP();return Sw(s,e,Tw(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};KP(s,t.style,t),r.style={...s,...r.style}}return r}function V3(t=!1){return(n,i,r,{latestValues:s},l)=>{const d=(bw(n)?D3:k3)(i,s,l,n),p=s3(i,typeof n=="string",t),m=n!==B.Fragment?{...p,...d,ref:r}:{},{children:v}=i,x=B.useMemo(()=>Oi(v)?v.get():v,[v]);return B.createElement(n,{...m,children:x})}}function vb(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Ew(t,e,n,i){if(typeof e=="function"){const[r,s]=vb(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=vb(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const U_=t=>Array.isArray(t),j3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),F3=t=>U_(t)?t[t.length-1]||0:t;function Lm(t){const e=Oi(t)?t.get():t;return j3(e)?e.toValue():e}function B3({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const l={latestValues:z3(i,r,s,t),renderState:e()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const QP=t=>(e,n)=>{const i=B.useContext(Wg),r=B.useContext(cw),s=()=>B3(t,e,i,r);return n?s():QN(s)};function z3(t,e,n,i){const r={},s=i(t,{});for(const x in s)r[x]=Lm(s[x]);let{initial:l,animate:c}=t;const d=Gg(t),p=zP(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!qg(v)){const x=Array.isArray(v)?v:[v];for(let T=0;T<x.length;T++){const I=Ew(t,x[T]);if(I){const{transitionEnd:C,transition:k,...R}=I;for(const F in R){let D=R[F];if(Array.isArray(D)){const Z=m?D.length-1:0;D=D[Z]}D!==null&&(r[F]=D)}for(const F in C)r[F]=C[F]}}}return r}function Pw(t,e,n){var i;const{style:r}=t,s={};for(const l in r)(Oi(r[l])||e.style&&Oi(e.style[l])||qP(l,t)||((i=n==null?void 0:n.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const U3={useVisualState:QP({scrapeMotionValuesFromProps:Pw,createRenderState:xw})};function YP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function XP(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const JP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eC(t,e,n,i){XP(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(JP.has(r)?r:mw(r),e.attrs[r])}function tC(t,e,n){const i=Pw(t,e,n);for(const r in t)if(Oi(t[r])||Oi(e[r])){const s=Wd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const _b=["x","y","width","height","cx","cy","r"],$3={useVisualState:QP({scrapeMotionValuesFromProps:tC,createRenderState:ZP,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const c in r)if(mc.has(c)){s=!0;break}}if(!s)return;let l=!e;if(e)for(let c=0;c<_b.length;c++){const d=_b[c];t[d]!==e[d]&&(l=!0)}l&&rn.read(()=>{YP(n,i),rn.render(()=>{Sw(i,r,Tw(n.tagName),t.transformTemplate),eC(n,i)})})}})};function H3(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...bw(i)?$3:U3,preloadedFeatures:t,useRender:V3(r),createVisualElement:e,Component:i};return p3(l)}}function hf(t,e,n){const i=t.getProps();return Ew(i,e,n!==void 0?n:i.custom,t)}const W3=hw(()=>window.ScrollTimeline!==void 0);class q3{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(W3()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class G3 extends q3{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Cw(t,e){return t?t[e]||t.default||t:void 0}const $_=2e4;function nC(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<$_;)e+=n,i=t.next(e);return e>=$_?1/0:e}function Iw(t){return typeof t=="function"}function yb(t,e){t.timeline=e,t.onfinish=null}const Aw=t=>Array.isArray(t)&&typeof t[0]=="number",K3={linearEasing:void 0};function Z3(t,e){const n=hw(t);return()=>{var i;return(i=K3[e])!==null&&i!==void 0?i:n()}}const tg=Z3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iC=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(Rd(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function rC(t){return!!(typeof t=="function"&&tg()||!t||typeof t=="string"&&(t in H_||tg())||Aw(t)||Array.isArray(t)&&t.every(rC))}const Fh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,H_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fh([0,.65,.55,1]),circOut:Fh([.55,0,1,.45]),backIn:Fh([.31,.01,.66,-.59]),backOut:Fh([.33,1.53,.69,.99])};function sC(t,e){if(t)return typeof t=="function"&&tg()?iC(t,e):Aw(t)?Fh(t):Array.isArray(t)?t.map(n=>sC(n,e)||H_.easeOut):H_[t]}const Ms={x:!1,y:!1};function oC(){return Ms.x||Ms.y}function Q3(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function aC(t,e){const n=Q3(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function wb(t){return!(t.pointerType==="touch"||oC())}function Y3(t,e,n={}){const[i,r,s]=aC(t,n),l=c=>{if(!wb(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const m=v=>{wb(v)&&(p(v),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,r)};return i.forEach(c=>{c.addEventListener("pointerenter",l,r)}),s}function ng(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const lC=(t,e)=>e?t===e?!0:lC(t,e.parentElement):!1,kw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,X3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J3(t){return X3.has(t.tagName)||t.tabIndex!==-1}const Bh=new WeakSet;function xb(t){return e=>{e.key==="Enter"&&t(e)}}function Q0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eM=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=xb(()=>{if(Bh.has(n))return;Q0(n,"down");const r=xb(()=>{Q0(n,"up")}),s=()=>Q0(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function bb(t){return kw(t)&&!oC()}function tM(t,e,n={}){const[i,r,s]=aC(t,n),l=c=>{const d=c.currentTarget;if(!d||!bb(c)||Bh.has(d))return;Bh.add(d),ng(c,"set");const p=e(d,c),m=(T,I)=>{d.removeEventListener("pointerup",v),d.removeEventListener("pointercancel",x),ng(T,"release"),!(!bb(T)||!Bh.has(d))&&(Bh.delete(d),typeof p=="function"&&p(T,{success:I}))},v=T=>{(T.isTrusted?nM(T,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(T,!1):m(T,!(d instanceof Element)||lC(d,T.target))},x=T=>{m(T,!1)};d.addEventListener("pointerup",v,r),d.addEventListener("pointercancel",x,r),d.addEventListener("lostpointercapture",x,r)};return i.forEach(c=>{c=n.useGlobalTarget?window:c;let d=!1;c instanceof HTMLElement&&(d=!0,!J3(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",l,r),d&&c.addEventListener("focus",p=>eM(p,r),r)}),s}function nM(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function iM(t){return t==="x"||t==="y"?Ms[t]?null:(Ms[t]=!0,()=>{Ms[t]=!1}):Ms.x||Ms.y?null:(Ms.x=Ms.y=!0,()=>{Ms.x=Ms.y=!1})}const uC=new Set(["width","height","top","left","right","bottom",...Wd]);let Om;function rM(){Om=void 0}const xo={now:()=>(Om===void 0&&xo.set(di.isProcessing||JN.useManualTiming?di.timestamp:performance.now()),Om),set:t=>{Om=t,queueMicrotask(rM)}};function Rw(t,e){t.indexOf(e)===-1&&t.push(e)}function Lw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ow{constructor(){this.subscriptions=[]}add(e){return Rw(this.subscriptions,e),()=>Lw(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const l=this.subscriptions[s];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function cC(t,e){return e?t*(1e3/e):0}const Sb=30,sM=t=>!isNaN(parseFloat(t));class oM{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=xo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ow);const i=this.events[e].add(n);return e==="change"?()=>{i(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sb);return cC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ff(t,e){return new oM(t,e)}function aM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ff(n))}function lM(t,e){const n=hf(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const l in s){const c=F3(s[l]);aM(t,l,c)}}function uM(t){return!!(Oi(t)&&t.add)}function W_(t,e){const n=t.getValue("willChange");if(uM(n))return n.add(e)}function dC(t){return t.props[UP]}const hC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cM=1e-7,dM=12;function hM(t,e,n,i,r){let s,l,c=0;do l=e+(n-e)/2,s=hC(l,i,r)-t,s>0?n=l:e=l;while(Math.abs(s)>cM&&++c<dM);return l}function Bf(t,e,n,i){if(t===e&&n===i)return Fr;const r=s=>hM(s,0,1,t,n);return s=>s===0||s===1?s:hC(r(s),e,i)}const fC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pC=t=>e=>1-t(1-e),mC=Bf(.33,1.53,.69,.99),Nw=pC(mC),gC=fC(Nw),vC=t=>(t*=2)<1?.5*Nw(t):.5*(2-Math.pow(2,-10*(t-1))),Mw=t=>1-Math.sin(Math.acos(t)),_C=pC(Mw),yC=fC(Mw),wC=t=>/^0[^.\s]+$/u.test(t);function fM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wC(t):!0}const Qh=t=>Math.round(t*1e5)/1e5,Dw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pM(t){return t==null}const mM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vw=(t,e)=>n=>!!(typeof n=="string"&&mM.test(n)&&n.startsWith(t)||e&&!pM(n)&&Object.prototype.hasOwnProperty.call(n,e)),xC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,l,c]=i.match(Dw);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},gM=t=>La(0,255,t),Y0={...qd,transform:t=>Math.round(gM(t))},qu={test:Vw("rgb","red"),parse:xC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Y0.transform(t)+", "+Y0.transform(e)+", "+Y0.transform(n)+", "+Qh(df.transform(i))+")"};function vM(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const q_={test:Vw("#"),parse:vM,transform:qu.transform},od={test:Vw("hsl","hue"),parse:xC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+wo.transform(Qh(e))+", "+wo.transform(Qh(n))+", "+Qh(df.transform(i))+")"},ki={test:t=>qu.test(t)||q_.test(t)||od.test(t),parse:t=>qu.test(t)?qu.parse(t):od.test(t)?od.parse(t):q_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qu.transform(t):od.transform(t)},_M=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_M))===null||n===void 0?void 0:n.length)||0)>0}const bC="number",SC="color",wM="var",xM="var(",Tb="${}",bM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pf(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const c=e.replace(bM,d=>(ki.test(d)?(i.color.push(s),r.push(SC),n.push(ki.parse(d))):d.startsWith(xM)?(i.var.push(s),r.push(wM),n.push(d)):(i.number.push(s),r.push(bC),n.push(parseFloat(d))),++s,Tb)).split(Tb);return{values:n,split:c,indexes:i,types:r}}function TC(t){return pf(t).values}function EC(t){const{split:e,types:n}=pf(t),i=e.length;return r=>{let s="";for(let l=0;l<i;l++)if(s+=e[l],r[l]!==void 0){const c=n[l];c===bC?s+=Qh(r[l]):c===SC?s+=ki.transform(r[l]):s+=r[l]}return s}}const SM=t=>typeof t=="number"?0:t;function TM(t){const e=TC(t);return EC(t)(e.map(SM))}const ou={test:yM,parse:TC,createTransformer:EC,getAnimatableNone:TM},EM=new Set(["brightness","contrast","saturate","opacity"]);function PM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Dw)||[];if(!i)return t;const r=n.replace(i,"");let s=EM.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const CM=/\b([a-z-]*)\(.*?\)/gu,G_={...ou,getAnimatableNone:t=>{const e=t.match(CM);return e?e.map(PM).join(" "):t}},IM={...yw,color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:G_,WebkitFilter:G_},jw=t=>IM[t];function PC(t,e){let n=jw(t);return n!==G_&&(n=ou),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const AM=new Set(["auto","none","0"]);function kM(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!AM.has(s)&&pf(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=PC(n,r)}const Eb=t=>t===qd||t===rt,Pb=(t,e)=>parseFloat(t.split(", ")[e]),Cb=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return Pb(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?Pb(s[1],t):0}},RM=new Set(["x","y","z"]),LM=Wd.filter(t=>!RM.has(t));function OM(t){const e=[];return LM.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Od={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Cb(4,13),y:Cb(5,14)};Od.translateX=Od.x;Od.translateY=Od.y;const rc=new Set;let K_=!1,Z_=!1;function CC(){if(Z_){const t=Array.from(rc).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=OM(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,l])=>{var c;(c=i.getValue(s))===null||c===void 0||c.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Z_=!1,K_=!1,rc.forEach(t=>t.complete()),rc.clear()}function IC(){rc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Z_=!0)})}function NM(){IC(),CC()}class Fw{constructor(e,n,i,r,s,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rc.add(this),K_||(K_=!0,rn.read(IC),rn.resolveKeyframes(CC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const l=r==null?void 0:r.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),r&&l===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),MM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DM(t){const e=MM.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function kC(t,e,n=1){const[i,r]=DM(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const l=s.trim();return AC(l)?parseFloat(l):l}return _w(r)?kC(r,e,n+1):r}const RC=t=>e=>e.test(t),VM={test:t=>t==="auto",parse:t=>t},LC=[qd,rt,wo,Ml,b3,x3,VM],Ib=t=>LC.find(RC(t));class OC extends Fw{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),_w(p))){const m=kC(p,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!uC.has(i)||e.length!==2)return;const[r,s]=e,l=Ib(r),c=Ib(s);if(l!==c)if(Eb(l)&&Eb(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)fM(e[r])&&i.push(r);i.length&&kM(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Od[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Od[i](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Ab=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ou.test(t)||t==="0")&&!t.startsWith("url("));function jM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FM(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],l=Ab(r,e),c=Ab(s,e);return!l||!c?!1:jM(t)||(n==="spring"||Iw(n))&&i}const BM=t=>t!==null;function Kg(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(BM),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const zM=40;class NC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xo.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=xo.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!FM(e,i,r,s))if(l)this.options.duration=0;else{d&&d(Kg(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const hn=(t,e,n)=>t+(e-t)*n;function X0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UM({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,l=0;if(!e)r=s=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;r=X0(d,c,t+1/3),s=X0(d,c,t),l=X0(d,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:i}}function ig(t,e){return n=>n>0?e:t}const J0=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},$M=[q_,qu,od],HM=t=>$M.find(e=>e.test(t));function kb(t){const e=HM(t);if(!e)return!1;let n=e.parse(t);return e===od&&(n=UM(n)),n}const Rb=(t,e)=>{const n=kb(t),i=kb(e);if(!n||!i)return ig(t,e);const r={...n};return s=>(r.red=J0(n.red,i.red,s),r.green=J0(n.green,i.green,s),r.blue=J0(n.blue,i.blue,s),r.alpha=hn(n.alpha,i.alpha,s),qu.transform(r))},WM=(t,e)=>n=>e(t(n)),zf=(...t)=>t.reduce(WM),Q_=new Set(["none","hidden"]);function qM(t,e){return Q_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GM(t,e){return n=>hn(t,e,n)}function Bw(t){return typeof t=="number"?GM:typeof t=="string"?_w(t)?ig:ki.test(t)?Rb:QM:Array.isArray(t)?MC:typeof t=="object"?ki.test(t)?Rb:KM:ig}function MC(t,e){const n=[...t],i=n.length,r=t.map((s,l)=>Bw(s)(s,e[l]));return s=>{for(let l=0;l<i;l++)n[l]=r[l](s);return n}}function KM(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Bw(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function ZM(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const l=e.types[s],c=t.indexes[l][r[l]],d=(n=t.values[c])!==null&&n!==void 0?n:0;i[s]=d,r[l]++}return i}const QM=(t,e)=>{const n=ou.createTransformer(e),i=pf(t),r=pf(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Q_.has(t)&&!r.values.length||Q_.has(e)&&!i.values.length?qM(t,e):zf(MC(ZM(i,r),r.values),n):ig(t,e)};function DC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?hn(t,e,n):Bw(t)(t,e)}const YM=5;function VC(t,e,n){const i=Math.max(e-YM,0);return cC(n-t(i),e-i)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lb=.001;function XM({duration:t=yn.duration,bounce:e=yn.bounce,velocity:n=yn.velocity,mass:i=yn.mass}){let r,s,l=1-e;l=La(yn.minDamping,yn.maxDamping,l),t=La(yn.minDuration,yn.maxDuration,Pa(t)),l<1?(r=p=>{const m=p*l,v=m*t,x=m-n,T=Y_(p,l),I=Math.exp(-v);return Lb-x/T*I},s=p=>{const v=p*l*t,x=v*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,I=Math.exp(-v),C=Y_(Math.pow(p,2),l);return(-r(p)+Lb>0?-1:1)*((x-T)*I)/C}):(r=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-.001+m*v},s=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const c=5/t,d=eD(r,s,c);if(t=Ea(t),isNaN(d))return{stiffness:yn.stiffness,damping:yn.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:t}}}const JM=12;function eD(t,e,n){let i=n;for(let r=1;r<JM;r++)i=i-t(i)/e(i);return i}function Y_(t,e){return t*Math.sqrt(1-e*e)}const tD=["duration","bounce"],nD=["stiffness","damping","mass"];function Ob(t,e){return e.some(n=>t[n]!==void 0)}function iD(t){let e={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...t};if(!Ob(t,nD)&&Ob(t,tD))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*La(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:yn.mass,stiffness:r,damping:s}}else{const n=XM(t);e={...e,...n,mass:yn.mass},e.isResolvedFromDuration=!0}return e}function jC(t=yn.visualDuration,e=yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:d,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:T}=iD({...n,velocity:-Pa(n.velocity||0)}),I=x||0,C=p/(2*Math.sqrt(d*m)),k=l-s,R=Pa(Math.sqrt(d/m)),F=Math.abs(k)<5;i||(i=F?yn.restSpeed.granular:yn.restSpeed.default),r||(r=F?yn.restDelta.granular:yn.restDelta.default);let D;if(C<1){const H=Y_(R,C);D=Q=>{const U=Math.exp(-C*R*Q);return l-U*((I+C*R*k)/H*Math.sin(H*Q)+k*Math.cos(H*Q))}}else if(C===1)D=H=>l-Math.exp(-R*H)*(k+(I+R*k)*H);else{const H=R*Math.sqrt(C*C-1);D=Q=>{const U=Math.exp(-C*R*Q),N=Math.min(H*Q,300);return l-U*((I+C*R*k)*Math.sinh(N)+H*k*Math.cosh(N))/H}}const Z={calculatedDuration:T&&v||null,next:H=>{const Q=D(H);if(T)c.done=H>=v;else{let U=0;C<1&&(U=H===0?Ea(I):VC(D,H,Q));const N=Math.abs(U)<=i,V=Math.abs(l-Q)<=r;c.done=N&&V}return c.value=c.done?l:Q,c},toString:()=>{const H=Math.min(nC(Z),$_),Q=iC(U=>Z.next(H*U).value,H,30);return H+"ms "+Q}};return Z}function Nb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const v=t[0],x={done:!1,value:v},T=N=>c!==void 0&&N<c||d!==void 0&&N>d,I=N=>c===void 0?d:d===void 0||Math.abs(c-N)<Math.abs(d-N)?c:d;let C=n*e;const k=v+C,R=l===void 0?k:l(k);R!==k&&(C=R-v);const F=N=>-C*Math.exp(-N/i),D=N=>R+F(N),Z=N=>{const V=F(N),z=D(N);x.done=Math.abs(V)<=p,x.value=x.done?R:z};let H,Q;const U=N=>{T(x.value)&&(H=N,Q=jC({keyframes:[x.value,I(x.value)],velocity:VC(D,N,x.value),damping:r,stiffness:s,restDelta:p,restSpeed:m}))};return U(0),{calculatedDuration:null,next:N=>{let V=!1;return!Q&&H===void 0&&(V=!0,Z(N),U(N)),H!==void 0&&N>=H?Q.next(N-H):(!V&&Z(N),x)}}}const rD=Bf(.42,0,1,1),sD=Bf(0,0,.58,1),FC=Bf(.42,0,.58,1),oD=t=>Array.isArray(t)&&typeof t[0]!="number",aD={linear:Fr,easeIn:rD,easeInOut:FC,easeOut:sD,circIn:Mw,circInOut:yC,circOut:_C,backIn:Nw,backInOut:gC,backOut:mC,anticipate:vC},Mb=t=>{if(Aw(t)){VP(t.length===4);const[e,n,i,r]=t;return Bf(e,n,i,r)}else if(typeof t=="string")return aD[t];return t};function lD(t,e,n){const i=[],r=n||DC,s=t.length-1;for(let l=0;l<s;l++){let c=r(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Fr:e;c=zf(d,c)}i.push(c)}return i}function uD(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(VP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=lD(e,i,r),d=c.length,p=m=>{if(l&&m<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const x=Rd(t[v],t[v+1],m);return c[v](x)};return n?m=>p(La(t[0],t[s-1],m)):p}function cD(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Rd(0,e,i);t.push(hn(n,1,r))}}function dD(t){const e=[0];return cD(e,t.length-1),e}function hD(t,e){return t.map(n=>n*e)}function fD(t,e){return t.map(()=>e||FC).splice(0,t.length-1)}function rg({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=oD(i)?i.map(Mb):Mb(i),s={done:!1,value:e[0]},l=hD(n&&n.length===e.length?n:dD(e),t),c=uD(l,e,{ease:Array.isArray(r)?r:fD(e,r)});return{calculatedDuration:t,next:d=>(s.value=c(d),s.done=d>=t,s)}}const pD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rn.update(e,!0),stop:()=>su(e),now:()=>di.isProcessing?di.timestamp:xo.now()}},mD={decay:Nb,inertia:Nb,tween:rg,keyframes:rg,spring:jC},gD=t=>t/100;class zw extends NC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,l=(r==null?void 0:r.KeyframeResolver)||Fw,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(s,c,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:l=0}=this.options,c=Iw(n)?n:mD[n]||rg;let d,p;c!==rg&&typeof e[0]!="number"&&(d=zf(gD,DC(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});s==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=nC(m));const{calculatedDuration:v}=m,x=v+r,T=x*(i+1)-r;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:v,resolvedDuration:x,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=i;if(this.startTime===null)return s.next(0);const{delay:x,repeat:T,repeatType:I,repeatDelay:C,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-x*(this.speed>=0?1:-1),F=this.speed>=0?R<0:R>m;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,Z=s;if(T){const N=Math.min(this.currentTime,m)/v;let V=Math.floor(N),z=N%1;!z&&N>=1&&(z=1),z===1&&V--,V=Math.min(V,T+1),!!(V%2)&&(I==="reverse"?(z=1-z,C&&(z-=C/v)):I==="mirror"&&(Z=l)),D=La(0,1,z)*v}const H=F?{done:!1,value:d[0]}:Z.next(D);c&&(H.value=c(H.value));let{done:Q}=H;!F&&p!==null&&(Q=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return U&&r!==void 0&&(H.value=Kg(d,this.options,r)),k&&k(H.value),U&&this.finish(),H}get duration(){const{resolved:e}=this;return e?Pa(e.calculatedDuration):0}get time(){return Pa(this.currentTime)}set time(e){e=Ea(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pD,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const vD=new Set(["opacity","clipPath","filter","transform"]);function _D(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const m=sC(c,r);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"})}const yD=hw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sg=10,wD=2e4;function xD(t){return Iw(t.type)||t.type==="spring"||!rC(t.ease)}function bD(t,e){const n=new zw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<wD;)i=n.sample(s),r.push(i.value),s+=sg;return{times:void 0,keyframes:r,duration:s-sg,ease:"linear"}}const BC={anticipate:vC,backInOut:gC,circInOut:yC};function SD(t){return t in BC}class Db extends NC{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new OC(s,(l,c)=>this.onKeyframesResolved(l,c),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof s=="string"&&tg()&&SD(s)&&(s=BC[s]),xD(this.options)){const{onComplete:v,onUpdate:x,motionValue:T,element:I,...C}=this.options,k=bD(e,C);e=k.keyframes,e.length===1&&(e[1]=e[0]),i=k.duration,r=k.times,s=k.ease,l="keyframes"}const m=_D(c.owner.current,d,e,{...this.options,duration:i,times:r,ease:s});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(yb(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;c.set(Kg(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:l,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Pa(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Pa(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ea(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Fr;const{animation:i}=n;yb(i,e)}return Fr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:x,...T}=this.options,I=new zw({...T,keyframes:i,duration:r,type:s,ease:l,times:c,isGenerator:!0}),C=Ea(this.time);p.setWithVelocity(I.sample(C-sg).value,I.sample(C).value,sg)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return yD()&&i&&vD.has(i)&&!d&&!p&&!r&&s!=="mirror"&&l!==0&&c!=="inertia"}}const TD={type:"spring",stiffness:500,damping:25,restSpeed:10},ED=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PD={type:"keyframes",duration:.8},CD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ID=(t,{keyframes:e})=>e.length>2?PD:mc.has(t)?t.startsWith("scale")?ED(e[1]):TD:CD;function AD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const Uw=(t,e,n,i={},r,s)=>l=>{const c=Cw(i,t)||{},d=c.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ea(d);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:r};AD(c)||(m={...m,...ID(t,m)}),m.duration&&(m.duration=Ea(m.duration)),m.repeatDelay&&(m.repeatDelay=Ea(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!s&&e.get()!==void 0){const x=Kg(m.keyframes,c);if(x!==void 0)return rn.update(()=>{m.onUpdate(x),m.onComplete()}),new G3([])}return!s&&Db.supports(m)?new Db(m):new zw(m)};function kD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function zC(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const p=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const v in d){const x=t.getValue(v,(s=t.latestValues[v])!==null&&s!==void 0?s:null),T=d[v];if(T===void 0||m&&kD(m,v))continue;const I={delay:n,...Cw(l||{},v)};let C=!1;if(window.MotionHandoffAnimation){const R=dC(t);if(R){const F=window.MotionHandoffAnimation(R,v,rn);F!==null&&(I.startTime=F,C=!0)}}W_(t,v),x.start(Uw(v,x,T,t.shouldReduceMotion&&uC.has(v)?{type:!1}:I,t,C));const k=x.animation;k&&p.push(k)}return c&&Promise.all(p).then(()=>{rn.update(()=>{c&&lM(t,c)})}),p}function X_(t,e,n={}){var i;const r=hf(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const l=r?()=>Promise.all(zC(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=s;return RD(t,e,m+p,v,x,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function RD(t,e,n=0,i=0,r=1,s){const l=[],c=(t.variantChildren.size-1)*i,d=r===1?(p=0)=>p*i:(p=0)=>c-p*i;return Array.from(t.variantChildren).sort(LD).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(X_(p,e,{...s,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function LD(t,e){return t.sortNodePosition(e)}function OD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>X_(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=X_(t,e,n);else{const r=typeof e=="function"?hf(t,e,n.custom):e;i=Promise.all(zC(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function UC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const ND=pw.length;function $C(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$C(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ND;n++){const i=pw[n],r=t.props[i];(uf(r)||r===!1)&&(e[i]=r)}return e}const MD=[...fw].reverse(),DD=fw.length;function VD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>OD(t,n,i)))}function jD(t){let e=VD(t),n=Vb(),i=!0;const r=d=>(p,m)=>{var v;const x=hf(t,m,d==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:T,transitionEnd:I,...C}=x;p={...p,...C,...I}}return p};function s(d){e=d(t)}function l(d){const{props:p}=t,m=$C(t.parent)||{},v=[],x=new Set;let T={},I=1/0;for(let k=0;k<DD;k++){const R=MD[k],F=n[R],D=p[R]!==void 0?p[R]:m[R],Z=uf(D),H=R===d?F.isActive:null;H===!1&&(I=k);let Q=D===m[R]&&D!==p[R]&&Z;if(Q&&i&&t.manuallyAnimateOnMount&&(Q=!1),F.protectedKeys={...T},!F.isActive&&H===null||!D&&!F.prevProp||qg(D)||typeof D=="boolean")continue;const U=FD(F.prevProp,D);let N=U||R===d&&F.isActive&&!Q&&Z||k>I&&Z,V=!1;const z=Array.isArray(D)?D:[D];let G=z.reduce(r(R),{});H===!1&&(G={});const{prevResolvedValues:q={}}=F,$={...q,...G},xe=Pe=>{N=!0,x.has(Pe)&&(V=!0,x.delete(Pe)),F.needsAnimating[Pe]=!0;const ie=t.getValue(Pe);ie&&(ie.liveStyle=!1)};for(const Pe in $){const ie=G[Pe],_e=q[Pe];if(T.hasOwnProperty(Pe))continue;let ae=!1;U_(ie)&&U_(_e)?ae=!UC(ie,_e):ae=ie!==_e,ae?ie!=null?xe(Pe):x.add(Pe):ie!==void 0&&x.has(Pe)?xe(Pe):F.protectedKeys[Pe]=!0}F.prevProp=D,F.prevResolvedValues=G,F.isActive&&(T={...T,...G}),i&&t.blockInitialAnimation&&(N=!1),N&&(!(Q&&U)||V)&&v.push(...z.map(Pe=>({animation:Pe,options:{type:R}})))}if(x.size){const k={};if(typeof p.initial!="boolean"){const R=hf(t,Array.isArray(p.initial)?p.initial[0]:p.initial);R&&R.transition&&(k.transition=R.transition)}x.forEach(R=>{const F=t.getBaseTarget(R),D=t.getValue(R);D&&(D.liveStyle=!0),k[R]=F??null}),v.push({animation:k})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function c(d,p){var m;if(n[d].isActive===p)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(x=>{var T;return(T=x.animationState)===null||T===void 0?void 0:T.setActive(d,p)}),n[d].isActive=p;const v=l(d);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Vb(),i=!0}}}function FD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UC(e,t):!1}function Uu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vb(){return{animate:Uu(!0),whileInView:Uu(),whileHover:Uu(),whileTap:Uu(),whileDrag:Uu(),whileFocus:Uu(),exit:Uu()}}class hu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class BD extends hu{constructor(e){super(e),e.animationState||(e.animationState=jD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zD=0;class UD extends hu{constructor(){super(...arguments),this.id=zD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $D={animation:{Feature:BD},exit:{Feature:UD}};function mf(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Uf(t){return{point:{x:t.pageX,y:t.pageY}}}const HD=t=>e=>kw(e)&&t(e,Uf(e));function ad(t,e,n,i){return mf(t,e,HD(n),i)}function HC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function WD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const WC=1e-4,GD=1-WC,KD=1+WC,qC=.01,ZD=0-qC,QD=0+qC;function Zi(t){return t.max-t.min}function YD(t,e,n){return Math.abs(t-e)<=n}function jb(t,e,n,i=.5){t.origin=i,t.originPoint=hn(e.min,e.max,t.origin),t.scale=Zi(n)/Zi(e),t.translate=hn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GD&&t.scale<=KD||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZD&&t.translate<=QD||isNaN(t.translate))&&(t.translate=0)}function Yh(t,e,n,i){jb(t.x,e.x,n.x,i?i.originX:void 0),jb(t.y,e.y,n.y,i?i.originY:void 0)}function Fb(t,e,n){t.min=n.min+e.min,t.max=t.min+Zi(e)}function XD(t,e,n){Fb(t.x,e.x,n.x),Fb(t.y,e.y,n.y)}function Bb(t,e,n){t.min=e.min-n.min,t.max=t.min+Zi(e)}function Xh(t,e,n){Bb(t.x,e.x,n.x),Bb(t.y,e.y,n.y)}const zb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ld=()=>({x:zb(),y:zb()}),Ub=()=>({min:0,max:0}),Tn=()=>({x:Ub(),y:Ub()});function ss(t){return[t("x"),t("y")]}function e_(t){return t===void 0||t===1}function J_({scale:t,scaleX:e,scaleY:n}){return!e_(t)||!e_(e)||!e_(n)}function Hu(t){return J_(t)||GC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GC(t){return $b(t.x)||$b(t.y)}function $b(t){return t&&t!=="0%"}function og(t,e,n){const i=t-n,r=e*i;return n+r}function Hb(t,e,n,i,r){return r!==void 0&&(t=og(t,r,i)),og(t,n,i)+e}function ey(t,e=0,n=1,i,r){t.min=Hb(t.min,e,n,i,r),t.max=Hb(t.max,e,n,i,r)}function KC(t,{x:e,y:n}){ey(t.x,e.translate,e.scale,e.originPoint),ey(t.y,n.translate,n.scale,n.originPoint)}const Wb=.999999999999,qb=1.0000000000001;function JD(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,l;for(let c=0;c<r;c++){s=n[c],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,KC(t,l)),i&&Hu(s.latestValues)&&cd(t,s.latestValues))}e.x<qb&&e.x>Wb&&(e.x=1),e.y<qb&&e.y>Wb&&(e.y=1)}function ud(t,e){t.min=t.min+e,t.max=t.max+e}function Gb(t,e,n,i,r=.5){const s=hn(t.min,t.max,r);ey(t,e,n,s,i)}function cd(t,e){Gb(t.x,e.x,e.scaleX,e.scale,e.originX),Gb(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZC(t,e){return HC(qD(t.getBoundingClientRect(),e))}function e4(t,e,n){const i=ZC(t,n),{scroll:r}=e;return r&&(ud(i.x,r.offset.x),ud(i.y,r.offset.y)),i}const Kb=(t,e)=>Math.abs(t-e);function t4(t,e){const n=Kb(t.x,e.x),i=Kb(t.y,e.y);return Math.sqrt(n**2+i**2)}class QC{constructor(e,n,{transformPagePoint:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=n_(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=t4(m.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:T}=m,{timestamp:I}=di;this.history.push({...T,timestamp:I});const{onStart:C,onMove:k}=this.handlers;v||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{if(m.target instanceof Element&&m.target.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.target.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=t_(v,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{ng(m,"release"),this.end();const{onEnd:x,onSessionEnd:T,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=n_(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:t_(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,C),T&&T(m,C)},!kw(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i;const s=Uf(e),l=t_(s,this.transformPagePoint),{point:c}=l,{timestamp:d}=di;this.history=[{...c,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,n_(l,this.history)),ng(e,"set"),this.removeListeners=zf(ad(e.currentTarget,"pointermove",this.handlePointerMove),ad(e.currentTarget,"pointerup",this.handlePointerUp),ad(e.currentTarget,"pointercancel",this.handlePointerUp),ad(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),su(this.updatePoint)}}function t_(t,e){return e?{point:e(t.point)}:t}function Zb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function n_({point:t},e){return{point:t,delta:Zb(t,YC(e)),offset:Zb(t,n4(e)),velocity:i4(e,.1)}}function n4(t){return t[0]}function YC(t){return t[t.length-1]}function i4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=YC(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ea(e)));)n--;if(!i)return{x:0,y:0};const s=Pa(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const l={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function r4(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?hn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?hn(n,t,i.max):Math.min(t,n)),t}function Qb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function s4(t,{top:e,left:n,bottom:i,right:r}){return{x:Qb(t.x,n,r),y:Qb(t.y,e,i)}}function Yb(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function o4(t,e){return{x:Yb(t.x,e.x),y:Yb(t.y,e.y)}}function a4(t,e){let n=.5;const i=Zi(t),r=Zi(e);return r>i?n=Rd(e.min,e.max-i,t.min):i>r&&(n=Rd(t.min,t.max-r,e.min)),La(0,1,n)}function l4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ty=.35;function u4(t=ty){return t===!1?t=0:t===!0&&(t=ty),{x:Xb(t,"left","right"),y:Xb(t,"top","bottom")}}function Xb(t,e,n){return{min:Jb(t,e),max:Jb(t,n)}}function Jb(t,e){return typeof t=="number"?t:t[e]||0}const c4=new WeakMap;class d4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uf(m).point)},s=(m,v)=>{const{drag:x,dragPropagation:T,onDragStart:I}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iM(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(k=>{let R=this.getAxisMotionValue(k).get()||0;if(wo.test(R)){const{projection:F}=this.visualElement;if(F&&F.layout){const D=F.layout.layoutBox[k];D&&(R=Zi(D)*(parseFloat(R)/100))}}this.originPoint[k]=R}),I&&rn.postRender(()=>I(m,v)),W_(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:I,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=v;if(T&&this.currentDirection===null){this.currentDirection=h4(k),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),C&&C(m,v)},c=(m,v)=>this.stop(m,v),d=()=>ss(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new QC(e,{onSessionStart:r,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&rn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!hm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=r4(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&sd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=s4(r.layoutBox,n):this.constraints=!1,this.elastic=u4(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ss(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=l4(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sd(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=e4(i,r.root,this.visualElement.getTransformPagePoint());let l=o4(r.layout.layoutBox,s);if(n){const c=n(WD(l));this.hasMutatedConstraints=!!c,c&&(l=HC(c))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=ss(m=>{if(!hm(m,n,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const x=r?200:1e6,T=r?40:1e7,I={type:"inertia",velocity:i?e[m]:0,bounceStiffness:x,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(m,I)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return W_(this.visualElement,e),i.start(Uw(e,i,0,n,this.visualElement,!1))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:i}=this.getProps();if(!hm(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:c}=r.layout.layoutBox[n];s.set(e[n]-hn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!sd(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ss(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();r[l]=a4({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(l=>{if(!hm(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(hn(d,p,r[l]))})}addListeners(){if(!this.visualElement.current)return;c4.set(this.visualElement,this);const e=this.visualElement.current,n=ad(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();sd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),rn.read(i);const l=mf(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ss(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:l=ty,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:l,dragMomentum:c}}}function hm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class f4 extends hu{constructor(e){super(e),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new d4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const eS=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class p4 extends hu{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(e){this.session=new QC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:eS(e),onStart:eS(n),onMove:i,onEnd:(s,l)=>{delete this.session,r&&rn.postRender(()=>r(s,l))}}}mount(){this.removePointerDownListener=ad(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(rt.test(t))t=parseFloat(t);else return t;const n=tS(t,e.target.x),i=tS(t,e.target.y);return`${n}% ${i}%`}},m4={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=ou.parse(t);if(r.length>5)return i;const s=ou.createTransformer(t),l=typeof r[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;r[0+l]/=c,r[1+l]/=d;const p=hn(c,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=p),typeof r[3+l]=="number"&&(r[3+l]/=p),s(r)}};class g4 extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;w3(v4),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,l=i.projection;return l&&(l.isPresent=s,r||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||rn.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XC(t){const[e,n]=YN(),i=B.useContext(MP);return w.jsx(g4,{...t,layoutGroup:i,switchLayoutGroup:B.useContext($P),isPresent:e,safeToRemove:n})}const v4={borderRadius:{...Nh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nh,borderTopRightRadius:Nh,borderBottomLeftRadius:Nh,borderBottomRightRadius:Nh,boxShadow:m4};function _4(t,e,n){const i=Oi(t)?t:ff(t);return i.start(Uw("",i,e,n)),i.animation}function y4(t){return t instanceof SVGElement&&t.tagName!=="svg"}const w4=(t,e)=>t.depth-e.depth;class x4{constructor(){this.children=[],this.isDirty=!1}add(e){Rw(this.children,e),this.isDirty=!0}remove(e){Lw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w4),this.isDirty=!1,this.children.forEach(e)}}function b4(t,e){const n=xo.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(su(i),t(s-e))};return rn.read(i,!0),()=>su(i)}const JC=["TopLeft","TopRight","BottomLeft","BottomRight"],S4=JC.length,nS=t=>typeof t=="string"?parseFloat(t):t,iS=t=>typeof t=="number"||rt.test(t);function T4(t,e,n,i,r,s){r?(t.opacity=hn(0,n.opacity!==void 0?n.opacity:1,E4(i)),t.opacityExit=hn(e.opacity!==void 0?e.opacity:1,0,P4(i))):s&&(t.opacity=hn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<S4;l++){const c=`border${JC[l]}Radius`;let d=rS(e,c),p=rS(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||iS(d)===iS(p)?(t[c]=Math.max(hn(nS(d),nS(p),i),0),(wo.test(p)||wo.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=hn(e.rotate||0,n.rotate||0,i))}function rS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E4=eI(0,.5,_C),P4=eI(.5,.95,Fr);function eI(t,e,n){return i=>i<t?0:i>e?1:n(Rd(t,e,i))}function sS(t,e){t.min=e.min,t.max=e.max}function is(t,e){sS(t.x,e.x),sS(t.y,e.y)}function oS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function aS(t,e,n,i,r){return t-=e,t=og(t,1/n,i),r!==void 0&&(t=og(t,1/r,i)),t}function C4(t,e=0,n=1,i=.5,r,s=t,l=t){if(wo.test(e)&&(e=parseFloat(e),e=hn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=hn(s.min,s.max,i);t===s&&(c-=e),t.min=aS(t.min,e,n,c,r),t.max=aS(t.max,e,n,c,r)}function lS(t,e,[n,i,r],s,l){C4(t,e[n],e[i],e[r],e.scale,s,l)}const I4=["x","scaleX","originX"],A4=["y","scaleY","originY"];function uS(t,e,n,i){lS(t.x,e,I4,n?n.x:void 0,i?i.x:void 0),lS(t.y,e,A4,n?n.y:void 0,i?i.y:void 0)}function cS(t){return t.translate===0&&t.scale===1}function tI(t){return cS(t.x)&&cS(t.y)}function dS(t,e){return t.min===e.min&&t.max===e.max}function k4(t,e){return dS(t.x,e.x)&&dS(t.y,e.y)}function hS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nI(t,e){return hS(t.x,e.x)&&hS(t.y,e.y)}function fS(t){return Zi(t.x)/Zi(t.y)}function pS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class R4{constructor(){this.members=[]}add(e){Rw(this.members,e),e.scheduleRender()}remove(e){if(Lw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L4(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((r||s||l)&&(i=`translate3d(${r}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:T,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),T&&(i+=`skewX(${T}deg) `),I&&(i+=`skewY(${I}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const i_=["","X","Y","Z"],O4={visibility:"hidden"},mS=1e3;let N4=0;function r_(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function iI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&iI(i)}function rI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},c=e==null?void 0:e()){this.id=N4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V4),this.nodes.forEach(U4),this.nodes.forEach($4),this.nodes.forEach(j4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new x4)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ow),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y4(l),this.instance=l;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),t){let v;const x=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=b4(x,250),Nm.hasAnimatedSinceResize&&(Nm.hasAnimatedSinceResize=!1,this.nodes.forEach(vS))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||K4,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=m.getProps(),F=!this.targetLayout||!nI(this.targetLayout,I),D=!x&&T;if(this.options.layoutRoot||this.resumeFrom||D||x&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,D);const Z={...Cw(C,"layout"),onPlay:k,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else x||vS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,su(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(H4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gS);return}this.isUpdating||this.nodes.forEach(B4),this.isUpdating=!1,this.nodes.forEach(z4),this.nodes.forEach(M4),this.nodes.forEach(D4),this.clearAllSnapshots();const c=xo.now();di.delta=La(0,1e3/60,c-di.timestamp),di.timestamp=c,di.isProcessing=!0,Z0.update.process(di),Z0.preRender.process(di),Z0.render.process(di),di.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F4),this.sharedNodes.forEach(W4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zi(this.snapshot.measuredBox.x)&&!Zi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!tI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||Hu(this.latestValues)||m)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Z4(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Tn();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Q4))){const{scroll:m}=this.root;m&&(ud(d.x,m.offset.x),ud(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=Tn();if(is(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&is(d,l),ud(d.x,v.offset.x),ud(d.y,v.offset.y))}return d}applyTransform(l,c=!1){const d=Tn();is(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&cd(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Hu(m.latestValues)&&cd(d,m.latestValues)}return Hu(this.latestValues)&&cd(d,this.latestValues),d}removeTransform(l){const c=Tn();is(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Hu(p.latestValues))continue;J_(p.latestValues)&&p.updateSnapshot();const m=Tn(),v=p.measurePageBox();is(m,v),uS(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Hu(this.latestValues)&&uS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==di.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=di.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Xh(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),KC(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Xh(this.relativeTargetOrigin,this.target,T.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||J_(this.parent.latestValues)||GC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===di.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;is(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;JD(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Tn());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oS(this.prevProjectionDelta.x,this.projectionDelta.x),oS(this.prevProjectionDelta.y,this.projectionDelta.y)),Yh(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!pS(this.projectionDelta.x,this.prevProjectionDelta.x)||!pS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ld(),this.projectionDelta=ld(),this.projectionDeltaWithTransform=ld()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=ld();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Tn(),T=d?d.source:void 0,I=this.layout?this.layout.source:void 0,C=T!==I,k=this.getStack(),R=!k||k.members.length<=1,F=!!(C&&!R&&this.options.crossfade===!0&&!this.path.some(G4));this.animationProgress=0;let D;this.mixTargetDelta=Z=>{const H=Z/1e3;_S(v.x,l.x,H),_S(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q4(this.relativeTarget,this.relativeTargetOrigin,x,H),D&&k4(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Tn()),is(D,this.relativeTarget)),C&&(this.animationValues=m,T4(m,p,this.latestValues,H,F,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(su(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Nm.hasAnimatedSinceResize=!0,this.currentAnimation=_4(0,mS,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&sI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Tn();const v=Zi(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=Zi(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}is(c,d),cd(c,m),Yh(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new R4),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&r_("z",l,p,this.animationValues);for(let m=0;m<i_.length;m++)r_(`rotate${i_[m]}`,l,p,this.animationValues),r_(`skew${i_[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return O4;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Lm(l==null?void 0:l.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Lm(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Hu(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=L4(this.projectionDeltaWithTransform,this.treeScale,x),m&&(p.transform=m(x,p.transform));const{x:T,y:I}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in cf){if(x[C]===void 0)continue;const{correct:k,applyTo:R,isCSSVariable:F}=cf[C],D=p.transform==="none"?x[C]:k(x[C],v);if(R){const Z=R.length;for(let H=0;H<Z;H++)p[R[H]]=D}else F?this.options.visualElement.renderState.vars[C]=D:p[C]=D}return this.options.layoutId&&(p.pointerEvents=v===this?Lm(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(gS),this.root.sharedNodes.clear()}}}function M4(t){t.updateLayout()}function D4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,l=n.source!==t.layout.source;s==="size"?ss(v=>{const x=l?n.measuredBox[v]:n.layoutBox[v],T=Zi(x);x.min=i[v].min,x.max=x.min+T}):sI(s,n.layoutBox,i)&&ss(v=>{const x=l?n.measuredBox[v]:n.layoutBox[v],T=Zi(i[v]);x.max=x.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const c=ld();Yh(c,i,n.layoutBox);const d=ld();l?Yh(d,t.applyTransform(r,!0),n.measuredBox):Yh(d,i,n.layoutBox);const p=!tI(c);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:T}=v;if(x&&T){const I=Tn();Xh(I,n.layoutBox,x.layoutBox);const C=Tn();Xh(C,i,T.layoutBox),nI(I,C)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=I,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function V4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function j4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function F4(t){t.clearSnapshot()}function gS(t){t.clearMeasurements()}function B4(t){t.isLayoutDirty=!1}function z4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U4(t){t.resolveTargetDelta()}function $4(t){t.calcProjection()}function H4(t){t.resetSkewAndRotation()}function W4(t){t.removeLeadSnapshot()}function _S(t,e,n){t.translate=hn(e.translate,0,n),t.scale=hn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yS(t,e,n,i){t.min=hn(e.min,n.min,i),t.max=hn(e.max,n.max,i)}function q4(t,e,n,i){yS(t.x,e.x,n.x,i),yS(t.y,e.y,n.y,i)}function G4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K4={duration:.45,ease:[.4,0,.1,1]},wS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xS=wS("applewebkit/")&&!wS("chrome/")?Math.round:Fr;function bS(t){t.min=xS(t.min),t.max=xS(t.max)}function Z4(t){bS(t.x),bS(t.y)}function sI(t,e,n){return t==="position"||t==="preserve-aspect"&&!YD(fS(e),fS(n),.2)}function Q4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y4=rI({attachResizeListener:(t,e)=>mf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s_={current:void 0},oI=rI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s_.current){const t=new Y4({});t.mount(window),t.setOptions({layoutScroll:!0}),s_.current=t}return s_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),X4={pan:{Feature:p4},drag:{Feature:f4,ProjectionNode:oI,MeasureLayout:XC}};function SS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&rn.postRender(()=>s(e,Uf(e)))}class J4 extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=Y3(e,(n,i)=>(SS(this.node,i,"Start"),r=>SS(this.node,r,"End"))))}unmount(){}}class eV extends hu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zf(mf(this.node.current,"focus",()=>this.onFocus()),mf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&rn.postRender(()=>s(e,Uf(e)))}class tV extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=tM(e,(n,i)=>(TS(this.node,i,"Start"),(r,{success:s})=>TS(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ny=new WeakMap,o_=new WeakMap,nV=t=>{const e=ny.get(t.target);e&&e(t)},iV=t=>{t.forEach(nV)};function rV({root:t,...e}){const n=t||document;o_.has(n)||o_.set(n,{});const i=o_.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(iV,{root:t,...e})),i[r]}function sV(t,e,n){const i=rV(e);return ny.set(t,n),i.observe(t),()=>{ny.delete(t),i.unobserve(t)}}const oV={some:0,all:1};class aV extends hu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:oV[r]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,s&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(d)};return sV(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lV(e,n))&&this.startObserver()}unmount(){}}function lV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uV={inView:{Feature:aV},tap:{Feature:tV},focus:{Feature:eV},hover:{Feature:J4}},cV={layout:{ProjectionNode:oI,MeasureLayout:XC}},iy={current:null},aI={current:!1};function dV(){if(aI.current=!0,!!dw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iy.current=t.matches;t.addListener(e),e()}else iy.current=!1}const hV=[...LC,ki,ou],fV=t=>hV.find(RC(t)),pV=new WeakMap;function mV(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Oi(r))t.addValue(i,r);else if(Oi(s))t.addValue(i,ff(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(i);t.addValue(i,ff(l!==void 0?l:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ES=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gV{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=xo.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,rn.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Gg(n),this.isVariantNode=zP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in x){const I=x[T];d[T]!==void 0&&Oi(I)&&I.set(d[T],!1)}}mount(e){this.current=e,pV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),aI.current||dV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),su(this.notifyUpdate),su(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=mc.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&rn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ld){const n=Ld[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ES.length;i++){const r=ES[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,l=e[s];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=mV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ff(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(AC(r)||wC(r))?r=parseFloat(r):!fV(r)&&ou.test(n)&&(r=PC(e,n)),this.setBaseTarget(e,Oi(r)?r.get():r)),Oi(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const l=Ew(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(r=l[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Oi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ow),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lI extends gV{constructor(){super(...arguments),this.KeyframeResolver=OC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Oi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function vV(t){return window.getComputedStyle(t)}class _V extends lI{constructor(){super(...arguments),this.type="html",this.renderInstance=XP}readValueFromInstance(e,n){if(mc.has(n)){const i=jw(n);return i&&i.default||0}else{const i=vV(e),r=(vw(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZC(e,n)}build(e,n,i){ww(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Pw(e,n,i)}}class yV extends lI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&YP(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mc.has(n)){const i=jw(n);return i&&i.default||0}return n=JP.has(n)?n:mw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return tC(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&rn.postRender(this.updateDimensions)}build(e,n,i){Sw(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){eC(e,n,i,r)}mount(e){this.isSVGTag=Tw(e.tagName),super.mount(e)}}const wV=(t,e)=>bw(t)?new yV(e):new _V(e,{allowProjection:t!==B.Fragment}),xV=H3({...$D,...uV,...X4,...cV},wV),Ge=o3(xV);var PS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},bV=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],l=t[n++],c=t[n++],d=((r&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},cI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],l=r+1<t.length,c=l?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=s>>2,v=(s&3)<<4|c>>4;let x=(c&15)<<2|p>>6,T=p&63;d||(T=64,l||(x=64)),i.push(n[m],n[v],n[x],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const v=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||c==null||p==null||v==null)throw new SV;const x=s<<2|c>>4;if(i.push(x),p!==64){const T=c<<4&240|p>>2;if(i.push(T),v!==64){const I=p<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TV=function(t){const e=uI(t);return cI.encodeByteArray(e,!0)},ag=function(t){return TV(t).replace(/\./g,"")},dI=function(t){try{return cI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=()=>EV().__FIREBASE_DEFAULTS__,CV=()=>{if(typeof process>"u"||typeof PS>"u")return;const t=PS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Zg=()=>{try{return PV()||CV()||IV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=Zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AV=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},fI=()=>{var t;return(t=Zg())===null||t===void 0?void 0:t.config},pI=t=>{var e;return(e=Zg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ag(JSON.stringify(n)),ag(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mi())}function OV(){var t;const e=(t=Zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VV(){const t=Mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jV(){return!OV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FV(){try{return typeof indexedDB=="object"}catch{return!1}}function BV(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="FirebaseError";class Fa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zV,Object.setPrototypeOf(this,Fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$f.prototype.create)}}class $f{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?UV(s,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new Fa(r,c,i)}}function UV(t,e){return t.replace($V,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const $V=/\{\$([^}]+)}/g;function HV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lg(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],l=e[r];if(CS(s)&&CS(l)){if(!lg(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Uh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WV(t,e){const n=new qV(t,e);return n.subscribe.bind(n)}class qV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");GV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=a_),r.error===void 0&&(r.error=a_),r.complete===void 0&&(r.complete=a_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){return t&&t._delegate?t._delegate:t}class oc{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QV(e))try{this.getOrInitializeService({instanceIdentifier:Wu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Wu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wu){return this.instances.has(e)}getOptions(e=Wu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wu){return this.component?this.component.multipleInstances?e:Wu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZV(t){return t===Wu?void 0:t}function QV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pt||(Pt={}));const XV={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},JV=Pt.INFO,e5={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},t5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=e5[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $w{constructor(e){this.name=e,this._logLevel=JV,this._logHandler=t5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const n5=(t,e)=>e.some(n=>t instanceof n);let IS,AS;function i5(){return IS||(IS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r5(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mI=new WeakMap,ry=new WeakMap,gI=new WeakMap,l_=new WeakMap,Hw=new WeakMap;function s5(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(eu(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&mI.set(n,t)}).catch(()=>{}),Hw.set(e,t),e}function o5(t){if(ry.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});ry.set(t,e)}let sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a5(t){sy=t(sy)}function l5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(u_(this),e,...n);return gI.set(i,e.sort?e.sort():[e]),eu(i)}:r5().includes(t)?function(...e){return t.apply(u_(this),e),eu(mI.get(this))}:function(...e){return eu(t.apply(u_(this),e))}}function u5(t){return typeof t=="function"?l5(t):(t instanceof IDBTransaction&&o5(t),n5(t,i5())?new Proxy(t,sy):t)}function eu(t){if(t instanceof IDBRequest)return s5(t);if(l_.has(t))return l_.get(t);const e=u5(t);return e!==t&&(l_.set(t,e),Hw.set(e,t)),e}const u_=t=>Hw.get(t);function c5(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(t,e),c=eu(l);return i&&l.addEventListener("upgradeneeded",d=>{i(eu(l.result),d.oldVersion,d.newVersion,eu(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const d5=["get","getKey","getAll","getAllKeys","count"],h5=["put","add","delete","clear"],c_=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c_.get(e))return c_.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=h5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||d5.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,r?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),r&&d.done]))[0]};return c_.set(e,s),s}a5(t=>({...t,get:(e,n,i)=>kS(e,n)||t.get(e,n,i),has:(e,n)=>!!kS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function p5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oy="@firebase/app",RS="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new $w("@firebase/app"),m5="@firebase/app-compat",g5="@firebase/analytics-compat",v5="@firebase/analytics",_5="@firebase/app-check-compat",y5="@firebase/app-check",w5="@firebase/auth",x5="@firebase/auth-compat",b5="@firebase/database",S5="@firebase/data-connect",T5="@firebase/database-compat",E5="@firebase/functions",P5="@firebase/functions-compat",C5="@firebase/installations",I5="@firebase/installations-compat",A5="@firebase/messaging",k5="@firebase/messaging-compat",R5="@firebase/performance",L5="@firebase/performance-compat",O5="@firebase/remote-config",N5="@firebase/remote-config-compat",M5="@firebase/storage",D5="@firebase/storage-compat",V5="@firebase/firestore",j5="@firebase/vertexai",F5="@firebase/firestore-compat",B5="firebase",z5="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",U5={[oy]:"fire-core",[m5]:"fire-core-compat",[v5]:"fire-analytics",[g5]:"fire-analytics-compat",[y5]:"fire-app-check",[_5]:"fire-app-check-compat",[w5]:"fire-auth",[x5]:"fire-auth-compat",[b5]:"fire-rtdb",[S5]:"fire-data-connect",[T5]:"fire-rtdb-compat",[E5]:"fire-fn",[P5]:"fire-fn-compat",[C5]:"fire-iid",[I5]:"fire-iid-compat",[A5]:"fire-fcm",[k5]:"fire-fcm-compat",[R5]:"fire-perf",[L5]:"fire-perf-compat",[O5]:"fire-rc",[N5]:"fire-rc-compat",[M5]:"fire-gcs",[D5]:"fire-gcs-compat",[V5]:"fire-fst",[F5]:"fire-fst-compat",[j5]:"fire-vertex","fire-js":"fire-js",[B5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new Map,$5=new Map,ly=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(n){Oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nd(t){const e=t.name;if(ly.has(e))return Oa.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,t);for(const n of ug.values())LS(n,t);for(const n of $5.values())LS(n,t);return!0}function Ww(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tu=new $f("app","Firebase",H5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=z5;function vI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ay,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw tu.create("bad-app-name",{appName:String(r)});if(n||(n=fI()),!n)throw tu.create("no-options");const s=ug.get(r);if(s){if(lg(n,s.options)&&lg(i,s.config))return s;throw tu.create("duplicate-app",{appName:r})}const l=new YV(r);for(const d of ly.values())l.addComponent(d);const c=new W5(n,i,l);return ug.set(r,c),c}function _I(t=ay){const e=ug.get(t);if(!e&&t===ay&&fI())return vI();if(!e)throw tu.create("no-app",{appName:t});return e}function nu(t,e,n){var i;let r=(i=U5[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oa.warn(c.join(" "));return}Nd(new oc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="firebase-heartbeat-database",G5=1,gf="firebase-heartbeat-store";let d_=null;function yI(){return d_||(d_=c5(q5,G5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gf)}catch(n){console.warn(n)}}}}).catch(t=>{throw tu.create("idb-open",{originalErrorMessage:t.message})})),d_}async function K5(t){try{const n=(await yI()).transaction(gf),i=await n.objectStore(gf).get(wI(t));return await n.done,i}catch(e){if(e instanceof Fa)Oa.warn(e.message);else{const n=tu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oa.warn(n.message)}}}async function OS(t,e){try{const i=(await yI()).transaction(gf,"readwrite");await i.objectStore(gf).put(e,wI(t)),await i.done}catch(n){if(n instanceof Fa)Oa.warn(n.message);else{const i=tu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oa.warn(i.message)}}}function wI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=1024,Q5=30*24*60*60*1e3;class Y5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=Q5}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Oa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NS(),{heartbeatsToSend:i,unsentEntries:r}=X5(this._heartbeatsCache.heartbeats),s=ag(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Oa.warn(n),""}}}function NS(){return new Date().toISOString().substring(0,10)}function X5(t,e=Z5){const n=[];let i=t.slice();for(const r of t){const s=n.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),MS(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),MS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class J5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FV()?BV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return OS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return OS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function MS(t){return ag(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){Nd(new oc("platform-logger",e=>new f5(e),"PRIVATE")),Nd(new oc("heartbeat",e=>new Y5(e),"PRIVATE")),nu(oy,RS,t),nu(oy,RS,"esm2017"),nu("fire-js","")}e9("");var DS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iu,xI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,N){function V(){}V.prototype=N.prototype,U.D=N.prototype,U.prototype=new V,U.prototype.constructor=U,U.C=function(z,G,q){for(var $=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)$[xe-2]=arguments[xe];return N.prototype[G].apply(z,$)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(U,N,V){V||(V=0);var z=Array(16);if(typeof N=="string")for(var G=0;16>G;++G)z[G]=N.charCodeAt(V++)|N.charCodeAt(V++)<<8|N.charCodeAt(V++)<<16|N.charCodeAt(V++)<<24;else for(G=0;16>G;++G)z[G]=N[V++]|N[V++]<<8|N[V++]<<16|N[V++]<<24;N=U.g[0],V=U.g[1],G=U.g[2];var q=U.g[3],$=N+(q^V&(G^q))+z[0]+3614090360&4294967295;N=V+($<<7&4294967295|$>>>25),$=q+(G^N&(V^G))+z[1]+3905402710&4294967295,q=N+($<<12&4294967295|$>>>20),$=G+(V^q&(N^V))+z[2]+606105819&4294967295,G=q+($<<17&4294967295|$>>>15),$=V+(N^G&(q^N))+z[3]+3250441966&4294967295,V=G+($<<22&4294967295|$>>>10),$=N+(q^V&(G^q))+z[4]+4118548399&4294967295,N=V+($<<7&4294967295|$>>>25),$=q+(G^N&(V^G))+z[5]+1200080426&4294967295,q=N+($<<12&4294967295|$>>>20),$=G+(V^q&(N^V))+z[6]+2821735955&4294967295,G=q+($<<17&4294967295|$>>>15),$=V+(N^G&(q^N))+z[7]+4249261313&4294967295,V=G+($<<22&4294967295|$>>>10),$=N+(q^V&(G^q))+z[8]+1770035416&4294967295,N=V+($<<7&4294967295|$>>>25),$=q+(G^N&(V^G))+z[9]+2336552879&4294967295,q=N+($<<12&4294967295|$>>>20),$=G+(V^q&(N^V))+z[10]+4294925233&4294967295,G=q+($<<17&4294967295|$>>>15),$=V+(N^G&(q^N))+z[11]+2304563134&4294967295,V=G+($<<22&4294967295|$>>>10),$=N+(q^V&(G^q))+z[12]+1804603682&4294967295,N=V+($<<7&4294967295|$>>>25),$=q+(G^N&(V^G))+z[13]+4254626195&4294967295,q=N+($<<12&4294967295|$>>>20),$=G+(V^q&(N^V))+z[14]+2792965006&4294967295,G=q+($<<17&4294967295|$>>>15),$=V+(N^G&(q^N))+z[15]+1236535329&4294967295,V=G+($<<22&4294967295|$>>>10),$=N+(G^q&(V^G))+z[1]+4129170786&4294967295,N=V+($<<5&4294967295|$>>>27),$=q+(V^G&(N^V))+z[6]+3225465664&4294967295,q=N+($<<9&4294967295|$>>>23),$=G+(N^V&(q^N))+z[11]+643717713&4294967295,G=q+($<<14&4294967295|$>>>18),$=V+(q^N&(G^q))+z[0]+3921069994&4294967295,V=G+($<<20&4294967295|$>>>12),$=N+(G^q&(V^G))+z[5]+3593408605&4294967295,N=V+($<<5&4294967295|$>>>27),$=q+(V^G&(N^V))+z[10]+38016083&4294967295,q=N+($<<9&4294967295|$>>>23),$=G+(N^V&(q^N))+z[15]+3634488961&4294967295,G=q+($<<14&4294967295|$>>>18),$=V+(q^N&(G^q))+z[4]+3889429448&4294967295,V=G+($<<20&4294967295|$>>>12),$=N+(G^q&(V^G))+z[9]+568446438&4294967295,N=V+($<<5&4294967295|$>>>27),$=q+(V^G&(N^V))+z[14]+3275163606&4294967295,q=N+($<<9&4294967295|$>>>23),$=G+(N^V&(q^N))+z[3]+4107603335&4294967295,G=q+($<<14&4294967295|$>>>18),$=V+(q^N&(G^q))+z[8]+1163531501&4294967295,V=G+($<<20&4294967295|$>>>12),$=N+(G^q&(V^G))+z[13]+2850285829&4294967295,N=V+($<<5&4294967295|$>>>27),$=q+(V^G&(N^V))+z[2]+4243563512&4294967295,q=N+($<<9&4294967295|$>>>23),$=G+(N^V&(q^N))+z[7]+1735328473&4294967295,G=q+($<<14&4294967295|$>>>18),$=V+(q^N&(G^q))+z[12]+2368359562&4294967295,V=G+($<<20&4294967295|$>>>12),$=N+(V^G^q)+z[5]+4294588738&4294967295,N=V+($<<4&4294967295|$>>>28),$=q+(N^V^G)+z[8]+2272392833&4294967295,q=N+($<<11&4294967295|$>>>21),$=G+(q^N^V)+z[11]+1839030562&4294967295,G=q+($<<16&4294967295|$>>>16),$=V+(G^q^N)+z[14]+4259657740&4294967295,V=G+($<<23&4294967295|$>>>9),$=N+(V^G^q)+z[1]+2763975236&4294967295,N=V+($<<4&4294967295|$>>>28),$=q+(N^V^G)+z[4]+1272893353&4294967295,q=N+($<<11&4294967295|$>>>21),$=G+(q^N^V)+z[7]+4139469664&4294967295,G=q+($<<16&4294967295|$>>>16),$=V+(G^q^N)+z[10]+3200236656&4294967295,V=G+($<<23&4294967295|$>>>9),$=N+(V^G^q)+z[13]+681279174&4294967295,N=V+($<<4&4294967295|$>>>28),$=q+(N^V^G)+z[0]+3936430074&4294967295,q=N+($<<11&4294967295|$>>>21),$=G+(q^N^V)+z[3]+3572445317&4294967295,G=q+($<<16&4294967295|$>>>16),$=V+(G^q^N)+z[6]+76029189&4294967295,V=G+($<<23&4294967295|$>>>9),$=N+(V^G^q)+z[9]+3654602809&4294967295,N=V+($<<4&4294967295|$>>>28),$=q+(N^V^G)+z[12]+3873151461&4294967295,q=N+($<<11&4294967295|$>>>21),$=G+(q^N^V)+z[15]+530742520&4294967295,G=q+($<<16&4294967295|$>>>16),$=V+(G^q^N)+z[2]+3299628645&4294967295,V=G+($<<23&4294967295|$>>>9),$=N+(G^(V|~q))+z[0]+4096336452&4294967295,N=V+($<<6&4294967295|$>>>26),$=q+(V^(N|~G))+z[7]+1126891415&4294967295,q=N+($<<10&4294967295|$>>>22),$=G+(N^(q|~V))+z[14]+2878612391&4294967295,G=q+($<<15&4294967295|$>>>17),$=V+(q^(G|~N))+z[5]+4237533241&4294967295,V=G+($<<21&4294967295|$>>>11),$=N+(G^(V|~q))+z[12]+1700485571&4294967295,N=V+($<<6&4294967295|$>>>26),$=q+(V^(N|~G))+z[3]+2399980690&4294967295,q=N+($<<10&4294967295|$>>>22),$=G+(N^(q|~V))+z[10]+4293915773&4294967295,G=q+($<<15&4294967295|$>>>17),$=V+(q^(G|~N))+z[1]+2240044497&4294967295,V=G+($<<21&4294967295|$>>>11),$=N+(G^(V|~q))+z[8]+1873313359&4294967295,N=V+($<<6&4294967295|$>>>26),$=q+(V^(N|~G))+z[15]+4264355552&4294967295,q=N+($<<10&4294967295|$>>>22),$=G+(N^(q|~V))+z[6]+2734768916&4294967295,G=q+($<<15&4294967295|$>>>17),$=V+(q^(G|~N))+z[13]+1309151649&4294967295,V=G+($<<21&4294967295|$>>>11),$=N+(G^(V|~q))+z[4]+4149444226&4294967295,N=V+($<<6&4294967295|$>>>26),$=q+(V^(N|~G))+z[11]+3174756917&4294967295,q=N+($<<10&4294967295|$>>>22),$=G+(N^(q|~V))+z[2]+718787259&4294967295,G=q+($<<15&4294967295|$>>>17),$=V+(q^(G|~N))+z[9]+3951481745&4294967295,U.g[0]=U.g[0]+N&4294967295,U.g[1]=U.g[1]+(G+($<<21&4294967295|$>>>11))&4294967295,U.g[2]=U.g[2]+G&4294967295,U.g[3]=U.g[3]+q&4294967295}i.prototype.u=function(U,N){N===void 0&&(N=U.length);for(var V=N-this.blockSize,z=this.B,G=this.h,q=0;q<N;){if(G==0)for(;q<=V;)r(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<N;)if(z[G++]=U.charCodeAt(q++),G==this.blockSize){r(this,z),G=0;break}}else for(;q<N;)if(z[G++]=U[q++],G==this.blockSize){r(this,z),G=0;break}}this.h=G,this.o+=N},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var N=1;N<U.length-8;++N)U[N]=0;var V=8*this.o;for(N=U.length-8;N<U.length;++N)U[N]=V&255,V/=256;for(this.u(U),U=Array(16),N=V=0;4>N;++N)for(var z=0;32>z;z+=8)U[V++]=this.g[N]>>>z&255;return U};function s(U,N){var V=c;return Object.prototype.hasOwnProperty.call(V,U)?V[U]:V[U]=N(U)}function l(U,N){this.h=N;for(var V=[],z=!0,G=U.length-1;0<=G;G--){var q=U[G]|0;z&&q==N||(V[G]=q,z=!1)}this.g=V}var c={};function d(U){return-128<=U&&128>U?s(U,function(N){return new l([N|0],0>N?-1:0)}):new l([U|0],0>U?-1:0)}function p(U){if(isNaN(U)||!isFinite(U))return v;if(0>U)return k(p(-U));for(var N=[],V=1,z=0;U>=V;z++)N[z]=U/V|0,V*=4294967296;return new l(N,0)}function m(U,N){if(U.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U.charAt(0)=="-")return k(m(U.substring(1),N));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=p(Math.pow(N,8)),z=v,G=0;G<U.length;G+=8){var q=Math.min(8,U.length-G),$=parseInt(U.substring(G,G+q),N);8>q?(q=p(Math.pow(N,q)),z=z.j(q).add(p($))):(z=z.j(V),z=z.add(p($)))}return z}var v=d(0),x=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(C(this))return-k(this).m();for(var U=0,N=1,V=0;V<this.g.length;V++){var z=this.i(V);U+=(0<=z?z:4294967296+z)*N,N*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(I(this))return"0";if(C(this))return"-"+k(this).toString(U);for(var N=p(Math.pow(U,6)),V=this,z="";;){var G=Z(V,N).g;V=R(V,G.j(N));var q=((0<V.g.length?V.g[0]:V.h)>>>0).toString(U);if(V=G,I(V))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function I(U){if(U.h!=0)return!1;for(var N=0;N<U.g.length;N++)if(U.g[N]!=0)return!1;return!0}function C(U){return U.h==-1}t.l=function(U){return U=R(this,U),C(U)?-1:I(U)?0:1};function k(U){for(var N=U.g.length,V=[],z=0;z<N;z++)V[z]=~U.g[z];return new l(V,~U.h).add(x)}t.abs=function(){return C(this)?k(this):this},t.add=function(U){for(var N=Math.max(this.g.length,U.g.length),V=[],z=0,G=0;G<=N;G++){var q=z+(this.i(G)&65535)+(U.i(G)&65535),$=(q>>>16)+(this.i(G)>>>16)+(U.i(G)>>>16);z=$>>>16,q&=65535,$&=65535,V[G]=$<<16|q}return new l(V,V[V.length-1]&-2147483648?-1:0)};function R(U,N){return U.add(k(N))}t.j=function(U){if(I(this)||I(U))return v;if(C(this))return C(U)?k(this).j(k(U)):k(k(this).j(U));if(C(U))return k(this.j(k(U)));if(0>this.l(T)&&0>U.l(T))return p(this.m()*U.m());for(var N=this.g.length+U.g.length,V=[],z=0;z<2*N;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(var G=0;G<U.g.length;G++){var q=this.i(z)>>>16,$=this.i(z)&65535,xe=U.i(G)>>>16,Oe=U.i(G)&65535;V[2*z+2*G]+=$*Oe,F(V,2*z+2*G),V[2*z+2*G+1]+=q*Oe,F(V,2*z+2*G+1),V[2*z+2*G+1]+=$*xe,F(V,2*z+2*G+1),V[2*z+2*G+2]+=q*xe,F(V,2*z+2*G+2)}for(z=0;z<N;z++)V[z]=V[2*z+1]<<16|V[2*z];for(z=N;z<2*N;z++)V[z]=0;return new l(V,0)};function F(U,N){for(;(U[N]&65535)!=U[N];)U[N+1]+=U[N]>>>16,U[N]&=65535,N++}function D(U,N){this.g=U,this.h=N}function Z(U,N){if(I(N))throw Error("division by zero");if(I(U))return new D(v,v);if(C(U))return N=Z(k(U),N),new D(k(N.g),k(N.h));if(C(N))return N=Z(U,k(N)),new D(k(N.g),N.h);if(30<U.g.length){if(C(U)||C(N))throw Error("slowDivide_ only works with positive integers.");for(var V=x,z=N;0>=z.l(U);)V=H(V),z=H(z);var G=Q(V,1),q=Q(z,1);for(z=Q(z,2),V=Q(V,2);!I(z);){var $=q.add(z);0>=$.l(U)&&(G=G.add(V),q=$),z=Q(z,1),V=Q(V,1)}return N=R(U,G.j(N)),new D(G,N)}for(G=v;0<=U.l(N);){for(V=Math.max(1,Math.floor(U.m()/N.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),q=p(V),$=q.j(N);C($)||0<$.l(U);)V-=z,q=p(V),$=q.j(N);I(q)&&(q=x),G=G.add(q),U=R(U,$)}return new D(G,U)}t.A=function(U){return Z(this,U).h},t.and=function(U){for(var N=Math.max(this.g.length,U.g.length),V=[],z=0;z<N;z++)V[z]=this.i(z)&U.i(z);return new l(V,this.h&U.h)},t.or=function(U){for(var N=Math.max(this.g.length,U.g.length),V=[],z=0;z<N;z++)V[z]=this.i(z)|U.i(z);return new l(V,this.h|U.h)},t.xor=function(U){for(var N=Math.max(this.g.length,U.g.length),V=[],z=0;z<N;z++)V[z]=this.i(z)^U.i(z);return new l(V,this.h^U.h)};function H(U){for(var N=U.g.length+1,V=[],z=0;z<N;z++)V[z]=U.i(z)<<1|U.i(z-1)>>>31;return new l(V,U.h)}function Q(U,N){var V=N>>5;N%=32;for(var z=U.g.length-V,G=[],q=0;q<z;q++)G[q]=0<N?U.i(q+V)>>>N|U.i(q+V+1)<<32-N:U.i(q+V);return new l(G,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xI=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,iu=l}).apply(typeof DS<"u"?DS:typeof self<"u"?self:typeof window<"u"?window:{});var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bI,$h,SI,Mm,uy,TI,EI,PI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,O){return g==Array.prototype||g==Object.prototype||(g[E]=O.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof fm=="object"&&fm];for(var E=0;E<g.length;++E){var O=g[E];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var i=n(this);function r(g,E){if(E)e:{var O=i;g=g.split(".");for(var W=0;W<g.length-1;W++){var re=g[W];if(!(re in O))break e;O=O[re]}g=g[g.length-1],W=O[g],E=E(W),E!=W&&E!=null&&e(O,g,{configurable:!0,writable:!0,value:E})}}function s(g,E){g instanceof String&&(g+="");var O=0,W=!1,re={next:function(){if(!W&&O<g.length){var fe=O++;return{value:E(fe,g[fe]),done:!1}}return W=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}r("Array.prototype.values",function(g){return g||function(){return s(this,function(E,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function p(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function m(g,E,O){return g.call.apply(g.bind,arguments)}function v(g,E,O){if(!g)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,W),g.apply(E,re)}}return function(){return g.apply(E,arguments)}}function x(g,E,O){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function T(g,E){var O=Array.prototype.slice.call(arguments,1);return function(){var W=O.slice();return W.push.apply(W,arguments),g.apply(this,W)}}function I(g,E){function O(){}O.prototype=E.prototype,g.aa=E.prototype,g.prototype=new O,g.prototype.constructor=g,g.Qb=function(W,re,fe){for(var Ae=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ae[Nt-2]=arguments[Nt];return E.prototype[re].apply(W,Ae)}}function C(g){const E=g.length;if(0<E){const O=Array(E);for(let W=0;W<E;W++)O[W]=g[W];return O}return[]}function k(g,E){for(let O=1;O<arguments.length;O++){const W=arguments[O];if(d(W)){const re=g.length||0,fe=W.length||0;g.length=re+fe;for(let Ae=0;Ae<fe;Ae++)g[re+Ae]=W[Ae]}else g.push(W)}}class R{constructor(E,O){this.i=E,this.j=O,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function F(g){return/^[\s\xa0]*$/.test(g)}function D(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function Z(g){return Z[" "](g),g}Z[" "]=function(){};var H=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function Q(g,E,O){for(const W in g)E.call(O,g[W],W,g)}function U(g,E){for(const O in g)E.call(void 0,g[O],O,g)}function N(g){const E={};for(const O in g)E[O]=g[O];return E}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,E){let O,W;for(let re=1;re<arguments.length;re++){W=arguments[re];for(O in W)g[O]=W[O];for(let fe=0;fe<V.length;fe++)O=V[fe],Object.prototype.hasOwnProperty.call(W,O)&&(g[O]=W[O])}}function G(g){var E=1;g=g.split(":");const O=[];for(;0<E&&g.length;)O.push(g.shift()),E--;return g.length&&O.push(g.join(":")),O}function q(g){c.setTimeout(()=>{throw g},0)}function $(){var g=_e;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class xe{constructor(){this.h=this.g=null}add(E,O){const W=Oe.get();W.set(E,O),this.h?this.h.next=W:this.g=W,this.h=W}}var Oe=new R(()=>new Re,g=>g.reset());class Re{constructor(){this.next=this.g=this.h=null}set(E,O){this.h=E,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,ie=!1,_e=new xe,ae=()=>{const g=c.Promise.resolve(void 0);Pe=()=>{g.then(ee)}};var ee=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(O){q(O)}var E=Oe;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}ie=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};c.addEventListener("test",O,E),c.removeEventListener("test",O,E)}catch{}return g}();function Le(g,E){if(Ee.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var O=this.type=g.type,W=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(H){e:{try{Z(E.nodeName);var re=!0;break e}catch{}re=!1}re||(E=null)}}else O=="mouseover"?E=g.fromElement:O=="mouseout"&&(E=g.toElement);this.relatedTarget=E,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ce[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Le.aa.h.call(this)}}I(Le,Ee);var Ce={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Tt(g,E,O,W,re){this.listener=g,this.proxy=null,this.src=E,this.type=O,this.capture=!!W,this.ha=re,this.key=++Qe,this.da=this.fa=!1}function Xt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function jn(g){this.src=g,this.g={},this.h=0}jn.prototype.add=function(g,E,O,W,re){var fe=g.toString();g=this.g[fe],g||(g=this.g[fe]=[],this.h++);var Ae=ii(g,E,W,re);return-1<Ae?(E=g[Ae],O||(E.fa=!1)):(E=new Tt(E,this.src,fe,!!W,re),E.fa=O,g.push(E)),E};function ni(g,E){var O=E.type;if(O in g.g){var W=g.g[O],re=Array.prototype.indexOf.call(W,E,void 0),fe;(fe=0<=re)&&Array.prototype.splice.call(W,re,1),fe&&(Xt(E),g.g[O].length==0&&(delete g.g[O],g.h--))}}function ii(g,E,O,W){for(var re=0;re<g.length;++re){var fe=g[re];if(!fe.da&&fe.listener==E&&fe.capture==!!O&&fe.ha==W)return re}return-1}var Di="closure_lm_"+(1e6*Math.random()|0),Ur={};function Lo(g,E,O,W,re){if(Array.isArray(E)){for(var fe=0;fe<E.length;fe++)Lo(g,E[fe],O,W,re);return null}return O=ft(O),g&&g[Xe]?g.K(E,O,p(W)?!!W.capture:!1,re):Gs(g,E,O,!1,W,re)}function Gs(g,E,O,W,re,fe){if(!E)throw Error("Invalid event type");var Ae=p(re)?!!re.capture:!!re,Nt=Se(g);if(Nt||(g[Di]=Nt=new jn(g)),O=Nt.add(E,O,W,Ae,fe),O.proxy)return O;if(W=X(),O.proxy=W,W.src=g,W.listener=O,g.addEventListener)De||(re=Ae),re===void 0&&(re=!1),g.addEventListener(E.toString(),W,re);else if(g.attachEvent)g.attachEvent(ke(E.toString()),W);else if(g.addListener&&g.removeListener)g.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return O}function X(){function g(O){return E.call(g.src,g.listener,O)}const E=Ie;return g}function ue(g,E,O,W,re){if(Array.isArray(E))for(var fe=0;fe<E.length;fe++)ue(g,E[fe],O,W,re);else W=p(W)?!!W.capture:!!W,O=ft(O),g&&g[Xe]?(g=g.i,E=String(E).toString(),E in g.g&&(fe=g.g[E],O=ii(fe,O,W,re),-1<O&&(Xt(fe[O]),Array.prototype.splice.call(fe,O,1),fe.length==0&&(delete g.g[E],g.h--)))):g&&(g=Se(g))&&(E=g.g[E.toString()],g=-1,E&&(g=ii(E,O,W,re)),(O=-1<g?E[g]:null)&&pe(O))}function pe(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Xe])ni(E.i,g);else{var O=g.type,W=g.proxy;E.removeEventListener?E.removeEventListener(O,W,g.capture):E.detachEvent?E.detachEvent(ke(O),W):E.addListener&&E.removeListener&&E.removeListener(W),(O=Se(E))?(ni(O,g),O.h==0&&(O.src=null,E[Di]=null)):Xt(g)}}}function ke(g){return g in Ur?Ur[g]:Ur[g]="on"+g}function Ie(g,E){if(g.da)g=!0;else{E=new Le(E,this);var O=g.listener,W=g.ha||g.src;g.fa&&pe(g),g=O.call(W,E)}return g}function Se(g){return g=g[Di],g instanceof jn?g:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(g){return typeof g=="function"?g:(g[We]||(g[We]=function(E){return g.handleEvent(E)}),g[We])}function vt(){ce.call(this),this.i=new jn(this),this.M=this,this.F=null}I(vt,ce),vt.prototype[Xe]=!0,vt.prototype.removeEventListener=function(g,E,O,W){ue(this,g,E,O,W)};function yt(g,E){var O,W=g.F;if(W)for(O=[];W;W=W.F)O.push(W);if(g=g.M,W=E.type||E,typeof E=="string")E=new Ee(E,g);else if(E instanceof Ee)E.target=E.target||g;else{var re=E;E=new Ee(W,g),z(E,re)}if(re=!0,O)for(var fe=O.length-1;0<=fe;fe--){var Ae=E.g=O[fe];re=xn(Ae,W,!0,E)&&re}if(Ae=E.g=g,re=xn(Ae,W,!0,E)&&re,re=xn(Ae,W,!1,E)&&re,O)for(fe=0;fe<O.length;fe++)Ae=E.g=O[fe],re=xn(Ae,W,!1,E)&&re}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var O=g.g[E],W=0;W<O.length;W++)Xt(O[W]);delete g.g[E],g.h--}}this.F=null},vt.prototype.K=function(g,E,O,W){return this.i.add(String(g),E,!1,O,W)},vt.prototype.L=function(g,E,O,W){return this.i.add(String(g),E,!0,O,W)};function xn(g,E,O,W){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var re=!0,fe=0;fe<E.length;++fe){var Ae=E[fe];if(Ae&&!Ae.da&&Ae.capture==O){var Nt=Ae.listener,gn=Ae.ha||Ae.src;Ae.fa&&ni(g.i,Ae),re=Nt.call(gn,W)!==!1&&re}}return re&&!W.defaultPrevented}function Oo(g,E,O){if(typeof g=="function")O&&(g=x(g,O));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(g,E||0)}function Vi(g){g.g=Oo(()=>{g.g=null,g.i&&(g.i=!1,Vi(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Ji extends ce{constructor(E,O){super(),this.m=E,this.l=O,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(g){ce.call(this),this.h=g,this.g={}}I(fs,ce);var ps=[];function ms(g){Q(g.g,function(E,O){this.g.hasOwnProperty(O)&&pe(E)},g),g.g={}}fs.prototype.N=function(){fs.aa.N.call(this),ms(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=c.JSON.stringify,vu=c.JSON.parse,vs=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function No(){}No.prototype.h=null;function $a(g){return g.h||(g.h=g.i())}function Mo(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){Ee.call(this,"d")}I(Pr,Ee);function Ha(){Ee.call(this,"c")}I(Ha,Ee);var $r={},_u=null;function Do(){return _u=_u||new vt}$r.La="serverreachability";function yu(g){Ee.call(this,$r.La,g)}I(yu,Ee);function _s(g){const E=Do();yt(E,new yu(E))}$r.STAT_EVENT="statevent";function Vo(g,E){Ee.call(this,$r.STAT_EVENT,g),this.stat=E}I(Vo,Ee);function ln(g){const E=Do();yt(E,new Vo(E,g))}$r.Ma="timingevent";function Wa(g,E){Ee.call(this,$r.Ma,g),this.size=E}I(Wa,Ee);function Cr(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},E)}function jo(){this.g=!0}jo.prototype.xa=function(){this.g=!1};function Kn(g,E,O,W,re,fe){g.info(function(){if(g.g)if(fe)for(var Ae="",Nt=fe.split("&"),gn=0;gn<Nt.length;gn++){var Et=Nt[gn].split("=");if(1<Et.length){var jt=Et[0];Et=Et[1];var Qt=jt.split("_");Ae=2<=Qt.length&&Qt[1]=="type"?Ae+(jt+"="+Et+"&"):Ae+(jt+"=redacted&")}}else Ae=null;else Ae=fe;return"XMLHTTP REQ ("+W+") [attempt "+re+"]: "+E+`
`+O+`
`+Ae})}function $e(g,E,O,W,re,fe,Ae){g.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+re+"]: "+E+`
`+O+`
`+fe+" "+Ae})}function er(g,E,O,W){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+wc(g,O)+(W?" "+W:"")})}function qa(g,E){g.info(function(){return"TIMEOUT: "+E})}jo.prototype.info=function(){};function wc(g,E){if(!g.g)return E;if(!E)return null;try{var O=JSON.parse(E);if(O){for(g=0;g<O.length;g++)if(Array.isArray(O[g])){var W=O[g];if(!(2>W.length)){var re=W[1];if(Array.isArray(re)&&!(1>re.length)){var fe=re[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ae=1;Ae<re.length;Ae++)re[Ae]=""}}}}return gs(O)}catch{return E}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function nr(){}I(nr,No),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},tr=new nr;function ir(g,E,O,W){this.j=g,this.i=E,this.l=O,this.R=W||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xc}function xc(){this.i=null,this.g="",this.h=!1}var wu={},Ka={};function Za(g,E,O){g.L=1,g.v=yi(Jt(E)),g.m=O,g.P=!0,Qa(g,null)}function Qa(g,E){g.F=Date.now(),Kt(g),g.A=Jt(g.v);var O=g.A,W=g.R;Array.isArray(W)||(W=[String(W)]),Js(O.i,"t",W),g.C=0,O=g.j.J,g.h=new xc,g.g=Pc(g.j,O?E:null,!g.m),0<g.O&&(g.M=new Ji(x(g.Y,g,g.g),g.O)),E=g.U,O=g.g,W=g.ca;var re="readystatechange";Array.isArray(re)||(re&&(ps[0]=re.toString()),re=ps);for(var fe=0;fe<re.length;fe++){var Ae=Lo(O,re[fe],W||E.handleEvent,!1,E.h||E);if(!Ae)break;E.g[Ae.key]=Ae}E=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),_s(),Kn(g.i,g.u,g.A,g.l,g.R,g.m)}ir.prototype.ca=function(g){g=g.target;const E=this.M;E&&An(g)==3?E.j():this.Y(g)},ir.prototype.Y=function(g){try{if(g==this.g)e:{const Qt=An(this.g);var E=this.g.Ba();const dr=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||nl(this.g)))){this.J||Qt!=4||E==7||(E==8||0>=dr?_s(3):_s(2)),Bo(this);var O=this.g.Z();this.X=O;t:if(bc(this)){var W=nl(this.g);g="";var re=W.length,fe=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),Ks(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(E=0;E<re;E++)this.h.h=!0,g+=this.h.i.decode(W[E],{stream:!(fe&&E==re-1)});W.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=O==200,$e(this.i,this.u,this.A,this.l,this.R,Qt,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,gn=this.g;if((Nt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Nt)){var Et=Nt;break t}}Et=null}if(O=Et)er(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zo(this,O);else{this.o=!1,this.s=3,ln(12),rr(this),Ks(this);break e}}if(this.P){O=!0;let un;for(;!this.J&&this.C<Ae.length;)if(un=Ya(this,Ae),un==Ka){Qt==4&&(this.s=4,ln(14),O=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(un==wu){this.s=4,ln(15),er(this.i,this.l,Ae,"[Invalid Chunk]"),O=!1;break}else er(this.i,this.l,un,null),zo(this,un);if(bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||Ae.length!=0||this.h.h||(this.s=1,ln(16),O=!1),this.o=this.o&&O,!O)er(this.i,this.l,Ae,"[Invalid Chunked Response]"),rr(this),Ks(this);else if(0<Ae.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),sl(jt),jt.M=!0,ln(11))}}else er(this.i,this.l,Ae,null),zo(this,Ae);Qt==4&&rr(this),this.o&&!this.J&&(Qt==4?Qo(this.j,this):(this.o=!1,Kt(this)))}else il(this.g),O==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),rr(this),Ks(this)}}}catch{}finally{}};function bc(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ya(g,E){var O=g.C,W=E.indexOf(`
`,O);return W==-1?Ka:(O=Number(E.substring(O,W)),isNaN(O)?wu:(W+=1,W+O>E.length?Ka:(E=E.slice(W,W+O),g.C=W+O,E)))}ir.prototype.cancel=function(){this.J=!0,rr(this)};function Kt(g){g.S=Date.now()+g.I,Sc(g,g.I)}function Sc(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Cr(x(g.ba,g),E)}function Bo(g){g.B&&(c.clearTimeout(g.B),g.B=null)}ir.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(qa(this.i,this.A),this.L!=2&&(_s(),ln(17)),rr(this),this.s=2,Ks(this)):Sc(this,this.S-g)};function Ks(g){g.j.G==0||g.J||Qo(g.j,g)}function rr(g){Bo(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,ms(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function zo(g,E){try{var O=g.j;if(O.G!=0&&(O.g==g||lt(O.h,g))){if(!g.K&&lt(O.h,g)&&O.G==3){try{var W=O.Da.g.parse(E)}catch{W=null}if(Array.isArray(W)&&W.length==3){var re=W;if(re[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<g.F)al(O),kr(O);else break e;Zo(O),ln(18)}}else O.za=re[1],0<O.za-O.T&&37500>re[2]&&O.F&&O.v==0&&!O.C&&(O.C=Cr(x(O.Za,O),6e3));if(1>=Ys(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Ts(O,11)}else if((g.K||O.g==g)&&al(O),!F(E))for(re=O.Da.g.parse(E),E=0;E<re.length;E++){let Et=re[E];if(O.T=Et[0],Et=Et[1],O.G==2)if(Et[0]=="c"){O.K=Et[1],O.ia=Et[2];const jt=Et[3];jt!=null&&(O.la=jt,O.j.info("VER="+O.la));const Qt=Et[4];Qt!=null&&(O.Aa=Qt,O.j.info("SVER="+O.Aa));const dr=Et[5];dr!=null&&typeof dr=="number"&&0<dr&&(W=1.5*dr,O.L=W,O.j.info("backChannelRequestTimeoutMs_="+W)),W=O;const un=g.g;if(un){const Xo=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var fe=W.h;fe.g||Xo.indexOf("spdy")==-1&&Xo.indexOf("quic")==-1&&Xo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&($t(fe,fe.h),fe.h=null))}if(W.D){const Rr=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Rr&&(W.ya=Rr,ut(W.I,W.D,Rr))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-g.F,O.j.info("Handshake RTT: "+O.R+"ms")),W=O;var Ae=g;if(W.qa=ll(W,W.J?W.ia:null,W.W),Ae.K){Uo(W.h,Ae);var Nt=Ae,gn=W.L;gn&&(Nt.I=gn),Nt.B&&(Bo(Nt),Kt(Nt)),W.g=Ae}else wi(W);0<O.i.length&&cr(O)}else Et[0]!="stop"&&Et[0]!="close"||Ts(O,7);else O.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Ts(O,7):kn(O):Et[0]!="noop"&&O.l&&O.l.ta(Et),O.v=0)}}_s(4)}catch{}}var Zs=class{constructor(g,E){this.g=g,this.map=E}};function Qs(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ys(g){return g.h?1:g.g?g.g.size:0}function lt(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function $t(g,E){g.g?g.g.add(E):g.h=E}function Uo(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Qs.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ys(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const O of g.g.values())E=E.concat(O.D);return E}return C(g.i)}function Ir(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var E=[],O=g.length,W=0;W<O;W++)E.push(g[W]);return E}E=[],O=0;for(W in g)E[O++]=g[W];return E}function Xs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var E=[];g=g.length;for(var O=0;O<g;O++)E.push(O);return E}E=[],O=0;for(const W in g)E[O++]=W;return E}}}function at(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var O=Xs(g),W=Ir(g),re=W.length,fe=0;fe<re;fe++)E.call(void 0,W[fe],O&&O[fe],g)}var Ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xu(g,E){if(g){g=g.split("&");for(var O=0;O<g.length;O++){var W=g[O].indexOf("="),re=null;if(0<=W){var fe=g[O].substring(0,W);re=g[O].substring(W+1)}else fe=g[O];E(fe,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function sr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof sr){this.h=g.h,$o(this,g.j),this.o=g.o,this.g=g.g,Ar(this,g.s),this.l=g.l;var E=g.i,O=new ar;O.i=E.i,E.g&&(O.g=new Map(E.g),O.h=E.h),_i(this,O),this.m=g.m}else g&&(E=String(g).match(Ht))?(this.h=!1,$o(this,E[1]||"",!0),this.o=wt(E[2]||""),this.g=wt(E[3]||"",!0),Ar(this,E[4]),this.l=wt(E[5]||"",!0),_i(this,E[6]||"",!0),this.m=wt(E[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}sr.prototype.toString=function(){var g=[],E=this.j;E&&g.push(or(E,Hr,!0),":");var O=this.g;return(O||E=="file")&&(g.push("//"),(E=this.o)&&g.push(or(E,Hr,!0),"@"),g.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&g.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(or(O,O.charAt(0)=="/"?el:Ja,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",or(O,Wo)),g.join("")};function Jt(g){return new sr(g)}function $o(g,E,O){g.j=O?wt(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function Ar(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function _i(g,E,O){E instanceof ar?(g.i=E,bn(g.i,g.h)):(O||(E=or(E,Ho)),g.i=new ar(E,g.h))}function ut(g,E,O){g.i.set(E,O)}function yi(g){return ut(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function wt(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function or(g,E,O){return typeof g=="string"?(g=encodeURI(g).replace(E,Xa),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Xa(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Hr=/[#\/\?@]/g,Ja=/[#\?:]/g,el=/[#\?]/g,Ho=/[#\?@]/g,Wo=/#/g;function ar(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function mn(g){g.g||(g.g=new Map,g.h=0,g.i&&xu(g.i,function(E,O){g.add(decodeURIComponent(E.replace(/\+/g," ")),O)}))}t=ar.prototype,t.add=function(g,E){mn(this),this.i=null,g=Ke(this,g);var O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(E),this.h+=1,this};function lr(g,E){mn(g),E=Ke(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function Fi(g,E){return mn(g),E=Ke(g,E),g.g.has(E)}t.forEach=function(g,E){mn(this),this.g.forEach(function(O,W){O.forEach(function(re){g.call(E,re,W,this)},this)},this)},t.na=function(){mn(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),O=[];for(let W=0;W<E.length;W++){const re=g[W];for(let fe=0;fe<re.length;fe++)O.push(E[W])}return O},t.V=function(g){mn(this);let E=[];if(typeof g=="string")Fi(this,g)&&(E=E.concat(this.g.get(Ke(this,g))));else{g=Array.from(this.g.values());for(let O=0;O<g.length;O++)E=E.concat(g[O])}return E},t.set=function(g,E){return mn(this),this.i=null,g=Ke(this,g),Fi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Js(g,E,O){lr(g,E),0<O.length&&(g.i=null,g.g.set(Ke(g,E),C(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var O=0;O<E.length;O++){var W=E[O];const fe=encodeURIComponent(String(W)),Ae=this.V(W);for(W=0;W<Ae.length;W++){var re=fe;Ae[W]!==""&&(re+="="+encodeURIComponent(String(Ae[W]))),g.push(re)}}return this.i=g.join("&")};function Ke(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function bn(g,E){E&&!g.j&&(mn(g),g.i=null,g.g.forEach(function(O,W){var re=W.toLowerCase();W!=re&&(lr(this,W),Js(this,re,O))},g)),g.j=E}function Vt(g,E){const O=new jo;if(c.Image){const W=new Image;W.onload=T(Zn,O,"TestLoadImage: loaded",!0,E,W),W.onerror=T(Zn,O,"TestLoadImage: error",!1,E,W),W.onabort=T(Zn,O,"TestLoadImage: abort",!1,E,W),W.ontimeout=T(Zn,O,"TestLoadImage: timeout",!1,E,W),c.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=g}else E(!1)}function bu(g,E){const O=new jo,W=new AbortController,re=setTimeout(()=>{W.abort(),Zn(O,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:W.signal}).then(fe=>{clearTimeout(re),fe.ok?Zn(O,"TestPingServer: ok",!0,E):Zn(O,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(re),Zn(O,"TestPingServer: error",!1,E)})}function Zn(g,E,O,W,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),W(O)}catch{}}function Su(){this.g=new vs}function tl(g,E,O){const W=O||"";try{at(g,function(re,fe){let Ae=re;p(re)&&(Ae=gs(re)),E.push(W+fe+"="+encodeURIComponent(Ae))})}catch(re){throw E.push(W+"type="+encodeURIComponent("_badmap")),re}}function ri(g){this.l=g.Ub||null,this.j=g.eb||!1}I(ri,No),ri.prototype.g=function(){return new ws(this.l,this.j)},ri.prototype.i=function(g){return function(){return g}}({});function ws(g,E){vt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ws,vt),t=ws.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,Fn(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wt(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Wt(this):Fn(this),this.readyState==3&&eo(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Wt(this))},t.Qa=function(g){this.g&&(this.response=g,Wt(this))},t.ga=function(){this.g&&Wt(this)};function Wt(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Fn(g)}t.setRequestHeader=function(g,E){this.u.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var O=E.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=E.next();return g.join(`\r
`)};function Fn(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Wr(g){let E="";return Q(g,function(O,W){E+=W,E+=":",E+=O,E+=`\r
`}),E}function xs(g,E,O){e:{for(W in O){var W=!1;break e}W=!0}W||(O=Wr(O),typeof g=="string"?O!=null&&encodeURIComponent(String(O)):ut(g,E,O))}function en(g){vt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(en,vt);var Tc=/^https?$/i,qo=["POST","PUT"];t=en.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,E,O,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?$a(this.o):$a(tr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(fe){Go(this,fe);return}if(g=O||"",O=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var re in W)O.set(re,W[re]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const fe of W.keys())O.set(fe,W.get(fe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(O.keys()).find(fe=>fe.toLowerCase()=="content-type"),re=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qo,E,void 0))||W||re||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ae]of O)this.g.setRequestHeader(fe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qn(this),this.u=!0,this.g.send(g),this.u=!1}catch(fe){Go(this,fe)}};function Go(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,Ko(g),Bi(g)}function Ko(g){g.A||(g.A=!0,yt(g,"complete"),yt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,yt(this,"complete"),yt(this,"abort"),Bi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xt(this):this.bb())},t.bb=function(){xt(this)};function xt(g){if(g.h&&typeof l<"u"&&(!g.v[1]||An(g)!=4||g.Z()!=2)){if(g.u&&An(g)==4)Oo(g.Ea,0,g);else if(yt(g,"readystatechange"),An(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var O;if(!(O=E)){var W;if(W=Ae===0){var re=String(g.D).match(Ht)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),W=!Tc.test(re?re.toLowerCase():"")}O=W}if(O)yt(g,"complete"),yt(g,"success");else{g.m=6;try{var fe=2<An(g)?g.g.statusText:""}catch{fe=""}g.l=fe+" ["+g.Z()+"]",Ko(g)}}finally{Bi(g)}}}}function Bi(g,E){if(g.g){Qn(g);const O=g.g,W=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||yt(g,"ready");try{O.onreadystatechange=W}catch{}}}function Qn(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function An(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),vu(E)}};function nl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function il(g){const E={};g=(g.g&&2<=An(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<g.length;W++){if(F(g[W]))continue;var O=G(g[W]);const re=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const fe=E[re]||[];E[re]=fe,fe.push(O)}U(E,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(g,E,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||E}function Tu(g){this.Aa=0,this.i=[],this.j=new jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,g),this.cb=ur("retryDelaySeedMs",1e4,g),this.Wa=ur("forwardChannelMaxRetries",2,g),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(g&&g.concurrentRequestLimit),this.Da=new Su,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tu.prototype,t.la=8,t.G=1,t.connect=function(g,E,O,W){ln(0),this.W=g,this.H=E||{},O&&W!==void 0&&(this.H.OSID=O,this.H.OAID=W),this.F=this.X,this.I=ll(this,null,this.W),cr(this)};function kn(g){if(rl(g),g.G==3){var E=g.U++,O=Jt(g.I);if(ut(O,"SID",g.K),ut(O,"RID",E),ut(O,"TYPE","terminate"),bs(g,O),E=new ir(g,g.j,E),E.L=2,E.v=yi(Jt(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!O&&c.Image&&(new Image().src=E.v,O=!0),O||(E.g=Pc(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Kt(E)}Ec(g)}function kr(g){g.g&&(sl(g),g.g.cancel(),g.g=null)}function rl(g){kr(g),g.u&&(c.clearTimeout(g.u),g.u=null),al(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function cr(g){if(!vi(g.h)&&!g.s){g.s=!0;var E=g.Ga;Pe||ae(),ie||(Pe(),ie=!0),_e.add(E,g),g.B=0}}function rh(g,E){return Ys(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Cr(x(g.Ga,g,E),Eu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const re=new ir(this,this.j,g);let fe=this.o;if(this.S&&(fe?(fe=N(fe),z(fe,this.S)):fe=this.S),this.m!==null||this.O||(re.H=fe,fe=null),this.P)e:{for(var E=0,O=0;O<this.i.length;O++){t:{var W=this.i[O];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(E+=W,4096<E){E=O;break e}if(E===4096||O===this.i.length-1){E=O+1;break e}}E=1e3}else E=1e3;E=Ss(this,re,E),O=Jt(this.I),ut(O,"RID",g),ut(O,"CVER",22),this.D&&ut(O,"X-HTTP-Session-Id",this.D),bs(this,O),fe&&(this.O?E="headers="+encodeURIComponent(String(Wr(fe)))+"&"+E:this.m&&xs(O,this.m,fe)),$t(this.h,re),this.Ua&&ut(O,"TYPE","init"),this.P?(ut(O,"$req",E),ut(O,"SID","null"),re.T=!0,Za(re,O,null)):Za(re,O,E),this.G=2}}else this.G==3&&(g?si(this,g):this.i.length==0||vi(this.h)||si(this))};function si(g,E){var O;E?O=E.l:O=g.U++;const W=Jt(g.I);ut(W,"SID",g.K),ut(W,"RID",O),ut(W,"AID",g.T),bs(g,W),g.m&&g.o&&xs(W,g.m,g.o),O=new ir(g,g.j,O,g.B+1),g.m===null&&(O.H=g.o),E&&(g.i=E.D.concat(g.i)),E=Ss(g,O,1e3),O.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),$t(g.h,O),Za(O,W,E)}function bs(g,E){g.H&&Q(g.H,function(O,W){ut(E,W,O)}),g.l&&at({},function(O,W){ut(E,W,O)})}function Ss(g,E,O){O=Math.min(g.i.length,O);var W=g.l?x(g.l.Na,g.l,g):null;e:{var re=g.i;let fe=-1;for(;;){const Ae=["count="+O];fe==-1?0<O?(fe=re[0].g,Ae.push("ofs="+fe)):fe=0:Ae.push("ofs="+fe);let Nt=!0;for(let gn=0;gn<O;gn++){let Et=re[gn].g;const jt=re[gn].map;if(Et-=fe,0>Et)fe=Math.max(0,re[gn].g-100),Nt=!1;else try{tl(jt,Ae,"req"+Et+"_")}catch{W&&W(jt)}}if(Nt){W=Ae.join("&");break e}}}return g=g.i.splice(0,O),E.D=g,W}function wi(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;Pe||ae(),ie||(Pe(),ie=!0),_e.add(E,g),g.v=0}}function Zo(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Cr(x(g.Fa,g),Eu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Cr(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),kr(this),ol(this))};function sl(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function ol(g){g.g=new ir(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=Jt(g.qa);ut(E,"RID","rpc"),ut(E,"SID",g.K),ut(E,"AID",g.T),ut(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&ut(E,"TO",g.ja),ut(E,"TYPE","xmlhttp"),bs(g,E),g.m&&g.o&&xs(E,g.m,g.o),g.L&&(g.g.I=g.L);var O=g.g;g=g.ia,O.L=1,O.v=yi(Jt(E)),O.m=null,O.P=!0,Qa(O,g)}t.Za=function(){this.C!=null&&(this.C=null,kr(this),Zo(this),ln(19))};function al(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Qo(g,E){var O=null;if(g.g==E){al(g),sl(g),g.g=null;var W=2}else if(lt(g.h,E))O=E.D,Uo(g.h,E),W=1;else return;if(g.G!=0){if(E.o)if(W==1){O=E.m?E.m.length:0,E=Date.now()-E.F;var re=g.B;W=Do(),yt(W,new Wa(W,O)),cr(g)}else wi(g);else if(re=E.s,re==3||re==0&&0<E.X||!(W==1&&rh(g,E)||W==2&&Zo(g)))switch(O&&0<O.length&&(E=g.h,E.i=E.i.concat(O)),re){case 1:Ts(g,5);break;case 4:Ts(g,10);break;case 3:Ts(g,6);break;default:Ts(g,2)}}}function Eu(g,E){let O=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(O*=2),O*E}function Ts(g,E){if(g.j.info("Error code "+E),E==2){var O=x(g.fb,g),W=g.Xa;const re=!W;W=new sr(W||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$o(W,"https"),yi(W),re?Vt(W.toString(),O):bu(W.toString(),O)}else ln(2);g.G=0,g.l&&g.l.sa(E),Ec(g),rl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function Ec(g){if(g.G=0,g.ka=[],g.l){const E=ys(g.h);(E.length!=0||g.i.length!=0)&&(k(g.ka,E),k(g.ka,g.i),g.h.i.length=0,C(g.i),g.i.length=0),g.l.ra()}}function ll(g,E,O){var W=O instanceof sr?Jt(O):new sr(O);if(W.g!="")E&&(W.g=E+"."+W.g),Ar(W,W.s);else{var re=c.location;W=re.protocol,E=E?E+"."+re.hostname:re.hostname,re=+re.port;var fe=new sr(null);W&&$o(fe,W),E&&(fe.g=E),re&&Ar(fe,re),O&&(fe.l=O),W=fe}return O=g.D,E=g.ya,O&&E&&ut(W,O,E),ut(W,"VER",g.la),bs(g,W),W}function Pc(g,E,O){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new en(new ri({eb:O})):new en(g.pa),E.Ha(g.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ul(){}t=ul.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yo(){}Yo.prototype.g=function(g,E){return new Rn(g,E)};function Rn(g,E){vt.call(this),this.g=new Tu(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!F(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!F(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new xi(this)}I(Rn,vt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){kn(this.g)},Rn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.u&&(O={},O.__data__=gs(g),g=O);E.i.push(new Zs(E.Ya++,g)),E.G==3&&cr(E)},Rn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,Rn.aa.N.call(this)};function qr(g){Pr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const O in E){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}I(qr,Pr);function Cc(){Ha.call(this),this.status=1}I(Cc,Ha);function xi(g){this.g=g}I(xi,ul),xi.prototype.ua=function(){yt(this.g,"a")},xi.prototype.ta=function(g){yt(this.g,new qr(g))},xi.prototype.sa=function(g){yt(this.g,new Cc)},xi.prototype.ra=function(){yt(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,PI=function(){return new Yo},EI=function(){return Do()},TI=$r,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,Mm=Fo,Ga.COMPLETE="complete",SI=Ga,Mo.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",vt.prototype.listen=vt.prototype.K,$h=Mo,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,bI=en}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});const VS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new $w("@firebase/firestore");function td(){return ac.logLevel}function Fe(t,...e){if(ac.logLevel<=Pt.DEBUG){const n=e.map(qw);ac.debug(`Firestore (${Kd}): ${t}`,...n)}}function Na(t,...e){if(ac.logLevel<=Pt.ERROR){const n=e.map(qw);ac.error(`Firestore (${Kd}): ${t}`,...n)}}function Md(t,...e){if(ac.logLevel<=Pt.WARN){const n=e.map(qw);ac.warn(`Firestore (${Kd}): ${t}`,...n)}}function qw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t="Unexpected state"){const e=`FIRESTORE (${Kd}) INTERNAL ASSERTION FAILED: `+t;throw Na(e),new Error(e)}function Ut(t,e){t||ht()}function gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ri.UNAUTHENTICATED))}shutdown(){}}class n9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i9{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let s=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ca,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},c=d=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ca)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut(typeof i.accessToken=="string"),new CI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new Ri(e)}}class r9{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class s9{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new r9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ut(this.o===void 0);const i=s=>{s.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new o9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=l9(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function At(t,e){return t<e?-1:t>e?1:0}function Dd(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Vn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Vn(0,0))}static max(){return new pt(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,i){n===void 0?n=0:n>e.length&&ht(),i===void 0?i=e.length-n:i>e.length-n&&ht(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=co.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=co.isNumericId(e),r=co.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?co.extractNumericId(e).compare(co.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return iu.fromString(e.substring(4,e.length-2))}}class on extends co{construct(e,n,i){return new on(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new on(n)}static emptyPath(){return new on([])}}const u9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends co{construct(e,n,i){return new mi(e,n,i)}static isValidIdentifier(e){return u9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Be(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new Be(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Be(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(i+=c,r++):(s(),r++)}if(s(),l)throw new Be(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(n)}static emptyPath(){return new mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(on.fromString(e))}static fromName(e){return new Ye(on.fromString(e).popFirst(5))}static empty(){return new Ye(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return on.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new on(e.slice()))}}function c9(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(i===1e9?new Vn(n+1,0):new Vn(n,i));return new au(r,Ye.empty(),e)}function d9(t){return new au(t.readTime,t.key,-1)}class au{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new au(pt.min(),Ye.empty(),-1)}static max(){return new au(pt.max(),Ye.empty(),-1)}}function h9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==f9)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,i)=>{n(e)})}static reject(e){return new ge((n,i)=>{i(e)})}static waitFor(e){return new ge((n,i)=>{let r=0,s=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++s,l&&s===r&&n()},d=>i(d))}),l=!0,s===r&&n()})}static or(e){let n=ge.resolve(!1);for(const i of e)n=n.next(r=>r?ge.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new ge((i,r)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const p=d;n(e[p]).next(m=>{l[p]=m,++c,c===s&&i(l)},m=>r(m))}})}static doWhile(e,n){return new ge((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function m9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qg.oe=-1;function Yg(t){return t==null}function cg(t){return t===0&&1/t==-1/0}function g9(t){return typeof t=="number"&&Number.isInteger(t)&&!cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jS(e)),e=_9(t.get(n),e);return jS(e)}function _9(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function jS(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.comparator=e,this.root=n||hi.EMPTY}insert(e,n){return new pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??hi.RED,this.left=r??hi.EMPTY,this.right=s??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new hi(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return hi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1;hi.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(e,n,i,r,s){return this}insert(e,n,i){return new hi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BS(this.data.getIterator())}getIteratorFrom(e){return new BS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class BS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Wn(mi.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dd(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kI("Invalid base64 string: "+s):s}}(e);return new gi(n)}static fromUint8Array(e){const n=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(e);return new gi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const y9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=y9.exec(t);if(Ut(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uu(t){return typeof t=="string"?gi.fromBase64String(t):gi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xg(t){const e=t.mapValue.fields.__previous_value__;return Gw(e)?Xg(e):e}function vf(t){const e=lu(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,i,r,s,l,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class _f{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _f("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _f&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm={mapValue:{}};function cu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gw(t)?4:b9(t)?9007199254740991:x9(t)?10:11:ht()}function Io(t,e){if(t===e)return!0;const n=cu(t);if(n!==cu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vf(t).isEqual(vf(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=lu(r.timestampValue),c=lu(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return uu(r.bytesValue).isEqual(uu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return En(r.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(r.geoPointValue.longitude)===En(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return En(r.integerValue)===En(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=En(r.doubleValue),c=En(s.doubleValue);return l===c?cg(l)===cg(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Dd(t.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:case 11:return function(r,s){const l=r.mapValue.fields||{},c=s.mapValue.fields||{};if(FS(l)!==FS(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Io(l[d],c[d])))return!1;return!0}(t,e);default:return ht()}}function yf(t,e){return(t.values||[]).find(n=>Io(n,e))!==void 0}function Vd(t,e){if(t===e)return 0;const n=cu(t),i=cu(e);if(n!==i)return At(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return function(s,l){const c=En(s.integerValue||s.doubleValue),d=En(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return zS(t.timestampValue,e.timestampValue);case 4:return zS(vf(t),vf(e));case 5:return At(t.stringValue,e.stringValue);case 6:return function(s,l){const c=uu(s),d=uu(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=At(c[p],d[p]);if(m!==0)return m}return At(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const c=At(En(s.latitude),En(l.latitude));return c!==0?c:At(En(s.longitude),En(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return US(t.arrayValue,e.arrayValue);case 10:return function(s,l){var c,d,p,m;const v=s.fields||{},x=l.fields||{},T=(c=v.value)===null||c===void 0?void 0:c.arrayValue,I=(d=x.value)===null||d===void 0?void 0:d.arrayValue,C=At(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:US(T,I)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===mm.mapValue&&l===mm.mapValue)return 0;if(s===mm.mapValue)return 1;if(l===mm.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const x=At(d[v],m[v]);if(x!==0)return x;const T=Vd(c[d[v]],p[m[v]]);if(T!==0)return T}return At(d.length,m.length)}(t.mapValue,e.mapValue);default:throw ht()}}function zS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const n=lu(t),i=lu(e),r=At(n.seconds,i.seconds);return r!==0?r:At(n.nanos,i.nanos)}function US(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Vd(n[r],i[r]);if(s)return s}return At(n.length,i.length)}function jd(t){return cy(t)}function cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=lu(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=cy(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const l of i)s?s=!1:r+=",",r+=`${l}:${cy(n.fields[l])}`;return r+"}"}(t.mapValue):ht()}function Dm(t){switch(cu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xg(t);return e?16+Dm(e):16;case 5:return 2*t.stringValue.length;case 6:return uu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Dm(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return fu(i.fields,(s,l)=>{r+=s.length+Dm(l)}),r}(t.mapValue);default:throw ht()}}function $S(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dy(t){return!!t&&"integerValue"in t}function Kw(t){return!!t&&"arrayValue"in t}function HS(t){return!!t&&"nullValue"in t}function WS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vm(t){return!!t&&"mapValue"in t}function x9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fu(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Jh(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.value=e}static empty(){return new Sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jh(n)}setAll(e){let n=mi.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=c.popLast()}l?i[c.lastSegment()]=Jh(l):r.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Vm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){fu(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Sr(Jh(this.value))}}function RI(t){const e=[];return fu(t.fields,(n,i)=>{const r=new mi([n]);if(Vm(i)){const s=RI(i.mapValue).fields;if(s.length===0)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,i,r,s,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Li(e,0,pt.min(),pt.min(),pt.min(),Sr.empty(),0)}static newFoundDocument(e,n,i,r){return new Li(e,1,n,pt.min(),i,r,0)}static newNoDocument(e,n){return new Li(e,2,n,pt.min(),pt.min(),Sr.empty(),0)}static newUnknownDocument(e,n){return new Li(e,3,n,pt.min(),pt.min(),Sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.position=e,this.inclusive=n}}function qS(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],l=t.position[r];if(s.field.isKeyField()?i=Ye.comparator(Ye.fromName(l.referenceValue),n.key):i=Vd(l,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function GS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function S9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class Dn extends LI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new E9(e,n,i):n==="array-contains"?new I9(e,i):n==="in"?new A9(e,i):n==="not-in"?new k9(e,i):n==="array-contains-any"?new R9(e,i):new Dn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new P9(e,i):new C9(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vd(n,this.value)):n!==null&&cu(this.value)===cu(n)&&this.matchesComparison(Vd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends LI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Us(e,n)}matches(e){return OI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OI(t){return t.op==="and"}function NI(t){return T9(t)&&OI(t)}function T9(t){for(const e of t.filters)if(e instanceof Us)return!1;return!0}function hy(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+jd(t.value);if(NI(t))return t.filters.map(e=>hy(e)).join(",");{const e=t.filters.map(n=>hy(n)).join(",");return`${t.op}(${e})`}}function MI(t,e){return t instanceof Dn?function(i,r){return r instanceof Dn&&i.op===r.op&&i.field.isEqual(r.field)&&Io(i.value,r.value)}(t,e):t instanceof Us?function(i,r){return r instanceof Us&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,l,c)=>s&&MI(l,r.filters[c]),!0):!1}(t,e):void ht()}function DI(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${jd(n.value)}`}(t):t instanceof Us?function(n){return n.op.toString()+" {"+n.getFilters().map(DI).join(" ,")+"}"}(t):"Filter"}class E9 extends Dn{constructor(e,n,i){super(e,n,i),this.key=Ye.fromName(i.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class P9 extends Dn{constructor(e,n){super(e,"in",n),this.keys=VI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class C9 extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=VI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class I9 extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kw(n)&&yf(n.arrayValue,this.value)}}class A9 extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yf(this.value.arrayValue,n)}}class k9 extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yf(this.value.arrayValue,n)}}class R9 extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>yf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n=null,i=[],r=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=c,this.ue=null}}function KS(t,e=null,n=[],i=[],r=null,s=null,l=null){return new L9(t,e,n,i,r,s,l)}function Zw(t){const e=gt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>hy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jd(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jd(i)).join(",")),e.ue=n}return e.ue}function Qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GS(t.startAt,e.startAt)&&GS(t.endAt,e.endAt)}function fy(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n=null,i=[],r=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function O9(t,e,n,i,r,s,l,c){return new Yd(t,e,n,i,r,s,l,c)}function Yw(t){return new Yd(t)}function ZS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jI(t){return t.collectionGroup!==null}function ef(t){const e=gt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Wn(mi.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new wf(s,i))}),n.has(mi.keyField().canonicalString())||e.ce.push(new wf(mi.keyField(),i))}return e.ce}function bo(t){const e=gt(t);return e.le||(e.le=N9(e,ef(t))),e.le}function N9(t,e){if(t.limitType==="F")return KS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new wf(r.field,s)});const n=t.endAt?new dg(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new dg(t.startAt.position,t.startAt.inclusive):null;return KS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function py(t,e){const n=t.filters.concat([e]);return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function my(t,e,n){return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return Qw(bo(t),bo(e))&&t.limitType===e.limitType}function FI(t){return`${Zw(bo(t))}|lt:${t.limitType}`}function nd(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>DI(r)).join(", ")}]`),Yg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>jd(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>jd(r)).join(",")),`Target(${i})`}(bo(t))}; limitType=${t.limitType})`}function ev(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ye.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of ef(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,c,d){const p=qS(l,c,d);return l.inclusive?p<=0:p<0}(i.startAt,ef(i),r)||i.endAt&&!function(l,c,d){const p=qS(l,c,d);return l.inclusive?p>=0:p>0}(i.endAt,ef(i),r))}(t,e)}function M9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BI(t){return(e,n)=>{let i=!1;for(const r of ef(t)){const s=D9(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function D9(t,e,n){const i=t.field.isKeyField()?Ye.comparator(e.key,n.key):function(s,l,c){const d=l.data.field(s),p=c.data.field(s);return d!==null&&p!==null?Vd(d,p):ht()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fu(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return AI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new pn(Ye.comparator);function Ma(){return V9}const zI=new pn(Ye.comparator);function Hh(...t){let e=zI;for(const n of t)e=e.insert(n.key,n);return e}function UI(t){let e=zI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Gu(){return tf()}function $I(){return tf()}function tf(){return new gc(t=>t.toString(),(t,e)=>t.isEqual(e))}const j9=new pn(Ye.comparator),F9=new Wn(Ye.comparator);function Ct(...t){let e=F9;for(const n of t)e=e.add(n);return e}const B9=new Wn(At);function z9(){return B9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function HI(t){return{integerValue:""+t}}function U9(t,e){return g9(e)?HI(e):Xw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this._=void 0}}function $9(t,e,n){return t instanceof xf?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Gw(s)&&(s=Xg(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(n,e):t instanceof bf?qI(t,e):t instanceof Sf?GI(t,e):function(r,s){const l=WI(r,s),c=QS(l)+QS(r.Pe);return dy(l)&&dy(r.Pe)?HI(c):Xw(r.serializer,c)}(t,e)}function H9(t,e,n){return t instanceof bf?qI(t,e):t instanceof Sf?GI(t,e):n}function WI(t,e){return t instanceof hg?function(i){return dy(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class xf extends tv{}class bf extends tv{constructor(e){super(),this.elements=e}}function qI(t,e){const n=KI(e);for(const i of t.elements)n.some(r=>Io(r,i))||n.push(i);return{arrayValue:{values:n}}}class Sf extends tv{constructor(e){super(),this.elements=e}}function GI(t,e){let n=KI(e);for(const i of t.elements)n=n.filter(r=>!Io(r,i));return{arrayValue:{values:n}}}class hg extends tv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function QS(t){return En(t.integerValue||t.doubleValue)}function KI(t){return Kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.field=e,this.transform=n}}function q9(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof bf&&r instanceof bf||i instanceof Sf&&r instanceof Sf?Dd(i.elements,r.elements,Io):i instanceof hg&&r instanceof hg?Io(i.Pe,r.Pe):i instanceof xf&&r instanceof xf}(t.transform,e.transform)}class G9{constructor(e,n){this.version=e,this.transformResults=n}}class cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let nv=class{};function ZI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jw(t.key,cs.none()):new Wf(t.key,t.data,cs.none());{const n=t.data,i=Sr.empty();let r=new Wn(mi.comparator);for(let s of e.fields)if(!r.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?i.delete(s):i.set(s,l),r=r.add(s)}return new pu(t.key,i,new jr(r.toArray()),cs.none())}}function K9(t,e,n){t instanceof Wf?function(r,s,l){const c=r.value.clone(),d=XS(r.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof pu?function(r,s,l){if(!jm(r.precondition,s))return void s.convertToUnknownDocument(l.version);const c=XS(r.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(QI(r)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(r,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function nf(t,e,n,i){return t instanceof Wf?function(s,l,c,d){if(!jm(s.precondition,l))return c;const p=s.value.clone(),m=JS(s.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof pu?function(s,l,c,d){if(!jm(s.precondition,l))return c;const p=JS(s.fieldTransforms,d,l),m=l.data;return m.setAll(QI(s)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(s,l,c){return jm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function Z9(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=WI(i.transform,r||null);s!=null&&(n===null&&(n=Sr.empty()),n.set(i.field,s))}return n||null}function YS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Dd(i,r,(s,l)=>q9(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wf extends nv{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pu extends nv{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function XS(t,e,n){const i=new Map;Ut(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],l=s.transform,c=e.data.field(s.field);i.set(s.field,H9(l,c,n[r]))}return i}function JS(t,e,n){const i=new Map;for(const r of t){const s=r.transform,l=n.data.field(r.field);i.set(r.field,$9(s,l,e))}return i}class Jw extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q9 extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&K9(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nf(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nf(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=$I();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(r.key)?null:c;const d=ZI(l,c);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(pt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Dd(this.mutations,e.mutations,(n,i)=>YS(n,i))&&Dd(this.baseMutations,e.baseMutations,(n,i)=>YS(n,i))}}class ex{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ut(e.mutations.length===i.length);let r=function(){return j9}();const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new ex(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Rt;function ej(t){switch(t){default:return ht();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function YI(t){if(t===void 0)return Na("GRPC error has no .code"),me.UNKNOWN;switch(t){case Nn.OK:return me.OK;case Nn.CANCELLED:return me.CANCELLED;case Nn.UNKNOWN:return me.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return me.INTERNAL;case Nn.UNAVAILABLE:return me.UNAVAILABLE;case Nn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Nn.NOT_FOUND:return me.NOT_FOUND;case Nn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Nn.ABORTED:return me.ABORTED;case Nn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Nn.DATA_LOSS:return me.DATA_LOSS;default:return ht()}}(Rt=Nn||(Nn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new iu([4294967295,4294967295],0);function eT(t){const e=tj().encode(t),n=new xI;return n.update(e),new Uint8Array(n.digest())}function tT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new iu([n,i],0),new iu([r,s],0)]}class tx{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wh(`Invalid padding: ${n}`);if(i<0)throw new Wh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=iu.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(iu.fromNumber(i)));return r.compare(nj)===1&&(r=new iu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=eT(e),[i,r]=tT(n);for(let s=0;s<this.hashCount;s++){const l=this.de(i,r,s);if(!this.Ee(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new tx(s,r,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=eT(e),[i,r]=tT(n);for(let s=0;s<this.hashCount;s++){const l=this.de(i,r,s);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new iv(pt.min(),r,new pn(At),Ma(),Ct())}}class qf{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new qf(i,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class XI{constructor(e,n){this.targetId=e,this.me=n}}class JI{constructor(e,n,i=gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class nT{constructor(){this.fe=0,this.ge=iT(),this.pe=gi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),n=Ct(),i=Ct();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new qf(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=iT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ij{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ma(),this.qe=gm(),this.Qe=gm(),this.Ke=new pn(At)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.je(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.De(e.resumeToken));break;default:ht()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){const n=e.targetId,i=e.me.count,r=this.Ye(n);if(r){const s=r.target;if(fy(s))if(i===0){const l=new Ye(s.path);this.We(n,l,Li.newNoDocument(l,pt.min()))}else Ut(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let l,c;try{l=uu(i).toUint8Array()}catch(d){if(d instanceof kI)return Md("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new tx(l,r,s)}catch(d){return Md(d instanceof Wh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,n,i){return n.me.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Be.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),r++)}),r}it(e){const n=new Map;this.Le.forEach((s,l)=>{const c=this.Ye(l);if(c){if(s.current&&fy(c.target)){const d=new Ye(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,Li.newNoDocument(d,e))}s.be&&(n.set(l,s.ve()),s.Ce())}});let i=Ct();this.Qe.forEach((s,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,l)=>l.setReadTime(e));const r=new iv(e,n,this.Ke,this.ke,i);return this.ke=Ma(),this.qe=gm(),this.Qe=gm(),this.Ke=new pn(At),r}Ue(e,n){if(!this.je(e))return;const i=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const r=this.ze(e);this.ot(e,n)?r.Fe(n,1):r.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new nT,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Wn(At),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wn(At),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Fe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new nT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function gm(){return new pn(Ye.comparator)}function iT(){return new pn(Ye.comparator)}const rj={asc:"ASCENDING",desc:"DESCENDING"},sj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oj={and:"AND",or:"OR"};class aj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||Yg(e)?e:{value:e}}function fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lj(t,e){return fg(t,e.toTimestamp())}function So(t){return Ut(!!t),pt.fromTimestamp(function(n){const i=lu(n);return new Vn(i.seconds,i.nanos)}(t))}function nx(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=function(r){return new on(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tA(t){const e=on.fromString(t);return Ut(oA(e)),e}function _y(t,e){return nx(t.databaseId,e.path)}function h_(t,e){const n=tA(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(iA(n))}function nA(t,e){return nx(t.databaseId,e)}function uj(t){const e=tA(t);return e.length===4?on.emptyPath():iA(e)}function yy(t){return new on(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iA(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rT(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function cj(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ht()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(p,m){return p.useProto3Json?(Ut(m===void 0||typeof m=="string"),gi.fromBase64String(m||"")):(Ut(m===void 0||m instanceof Buffer||m instanceof Uint8Array),gi.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?me.UNKNOWN:YI(p.code);return new Be(m,p.message||"")}(l);n=new JI(i,r,s,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=h_(t,i.document.name),s=So(i.document.updateTime),l=i.document.createTime?So(i.document.createTime):pt.min(),c=new Sr({mapValue:{fields:i.document.fields}}),d=Li.newFoundDocument(r,s,l,c),p=i.targetIds||[],m=i.removedTargetIds||[];n=new Fm(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=h_(t,i.document),s=i.readTime?So(i.readTime):pt.min(),l=Li.newNoDocument(r,s),c=i.removedTargetIds||[];n=new Fm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=h_(t,i.document),s=i.removedTargetIds||[];n=new Fm([],s,r,null)}else{if(!("filter"in e))return ht();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,l=new J9(r,s),c=i.targetId;n=new XI(c,l)}}return n}function dj(t,e){let n;if(e instanceof Wf)n={update:rT(t,e.key,e.value)};else if(e instanceof Jw)n={delete:_y(t,e.key)};else if(e instanceof pu)n={update:rT(t,e.key,e.data),updateMask:wj(e.fieldMask)};else{if(!(e instanceof Q9))return ht();n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,l){const c=l.transform;if(c instanceof xf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Sf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hg)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw ht()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:lj(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ht()}(t,e.precondition)),n}function hj(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(r,s){let l=r.updateTime?So(r.updateTime):So(s);return l.isEqual(pt.min())&&(l=So(s)),new G9(l,r.transformResults||[])}(n,e))):[]}function fj(t,e){return{documents:[nA(t,e.path)]}}function pj(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=nA(t,r);const s=function(p){if(p.length!==0)return sA(Us.create(p,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(p){if(p.length!==0)return p.map(m=>function(x){return{field:id(x.field),direction:vj(x.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=gy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:r}}function mj(t){let e=uj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ut(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(v){const x=rA(v);return x instanceof Us&&NI(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(x=>function(I){return new wf(rd(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(x))}(n.orderBy));let c=null;n.limit&&(c=function(v){let x;return x=typeof v=="object"?v.value:v,Yg(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(v){const x=!!v.before,T=v.values||[];return new dg(T,x)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const x=!v.before,T=v.values||[];return new dg(T,x)}(n.endAt)),O9(e,r,l,s,c,"F",d,p)}function gj(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=rd(n.unaryFilter.field);return Dn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=rd(n.unaryFilter.field);return Dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rd(n.unaryFilter.field);return Dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=rd(n.unaryFilter.field);return Dn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(rd(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Us.create(n.compositeFilter.filters.map(i=>rA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ht()}}(n.compositeFilter.op))}(t):ht()}function vj(t){return rj[t]}function _j(t){return sj[t]}function yj(t){return oj[t]}function id(t){return{fieldPath:t.canonicalString()}}function rd(t){return mi.fromServerFormat(t.fieldPath)}function sA(t){return t instanceof Dn?function(n){if(n.op==="=="){if(WS(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NAN"}};if(HS(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WS(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NAN"}};if(HS(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(n.field),op:_j(n.op),value:n.value}}}(t):t instanceof Us?function(n){const i=n.getFilters().map(r=>sA(r));return i.length===1?i[0]:{compositeFilter:{op:yj(n.op),filters:i}}}(t):ht()}function wj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,i,r,s=pt.min(),l=pt.min(),c=gi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.ht=e}}function bj(t){const e=mj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?my(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.ln=new Tj}addToCollectionParentIndex(e,n){return this.ln.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(au.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(au.min())}updateCollectionGroup(e,n,i){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class Tj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Wn(on.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wn(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(41943040,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Fd(0)}static Qn(){return new Fd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT([t,e],[n,i]){const r=At(t,n);return r===0?At(e,i):r}class Ej{constructor(e){this.Gn=e,this.buffer=new Wn(oT),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();oT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qd(n)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zd(n)}await this.Yn(3e5)})}}class Cj{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(Qg.oe);const i=new Ej(n);return this.Zn.forEachTarget(e,r=>i.Hn(r.sequenceNumber)).next(()=>this.Zn.er(e,r=>i.Hn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(sT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let i,r,s,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,c=Date.now(),this.removeTargets(e,i,n))).next(v=>(s=v,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),td()<=Pt.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${r} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:v})))}}function Ij(t,e){return new Cj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.changes=new gc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Li.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ge.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&nf(i.mutation,r,jr.empty(),Vn.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ct()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ct()){const r=Gu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let l=Hh();return s.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Gu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ct()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,r){let s=Ma();const l=tf(),c=function(){return tf()}();return n.forEach((d,p)=>{const m=i.get(p.key);r.has(p.key)&&(m===void 0||m.mutation instanceof pu)?s=s.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),nf(m.mutation,p,m.mutation.getFieldMask(),Vn.now())):l.set(p.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var v;return c.set(p,new kj(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=tf();let r=new pn((l,c)=>l-c),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let m=i.get(d)||jr.empty();m=c.applyToLocalView(p,m),i.set(d,m);const v=(r.get(c.batchId)||Ct()).add(d);r=r.insert(c.batchId,v)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,v=$I();m.forEach(x=>{if(!s.has(x)){const T=ZI(n.get(x),i.get(x));T!==null&&v.set(x,T),s=s.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ge.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return Ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):ge.resolve(Gu());let c=-1,d=s;return l.next(p=>ge.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(m)?ge.resolve():this.remoteDocumentCache.getEntry(e,m).next(x=>{d=d.insert(m,x)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,d,p,Ct())).next(m=>({batchId:c,changes:UI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next(i=>{let r=Hh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let l=Hh();return this.indexManager.getCollectionParents(e,s).next(c=>ge.forEach(c,d=>{const p=function(v,x){return new Yd(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(m=>{m.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(l=>{s.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Li.newInvalidDocument(m)))});let c=Hh();return l.forEach((d,p)=>{const m=s.get(d);m!==void 0&&nf(m.mutation,p,jr.empty(),Vn.now()),ev(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return ge.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:So(r.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(r){return{name:r.name,query:bj(r.bundledQuery),readTime:So(r.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this.overlays=new pn(Ye.comparator),this.dr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Gu();return ge.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.Tt(e,n,s)}),ge.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.dr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.dr.delete(i)),ge.resolve()}getOverlaysForCollection(e,n,i){const r=Gu(),s=n.length+1,l=new Ye(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ge.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new pn((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=s.get(p.largestBatchId);m===null&&(m=Gu(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Gu(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=r)););return ge.resolve(c)}Tt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.dr.get(r.largestBatchId).delete(i.key);this.dr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new X9(n,i));let s=this.dr.get(n);s===void 0&&(s=Ct(),this.dr.set(n,s)),this.dr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.sessionToken=gi.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Er=new Wn(ti.Ar),this.Rr=new Wn(ti.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const i=new ti(e,n);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.gr(new ti(e,n))}pr(e,n){e.forEach(i=>this.removeReference(i,n))}yr(e){const n=new Ye(new on([])),i=new ti(n,e),r=new ti(n,e+1),s=[];return this.Rr.forEachInRange([i,r],l=>{this.gr(l),s.push(l.key)}),s}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ye(new on([])),i=new ti(n,e),r=new ti(n,e+1);let s=Ct();return this.Rr.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new ti(e,0),i=this.Er.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ti{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ye.comparator(e.key,n.key)||At(e.br,n.br)}static Vr(e,n){return At(e.br,n.br)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Wn(ti.Ar)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Y9(s,n,i,r);this.mutationQueue.push(l);for(const c of r)this.vr=this.vr.add(new ti(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,n){return ge.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Fr(i),s=r<0?0:r;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ti(n,0),r=new ti(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([i,r],l=>{const c=this.Cr(l.br);s.push(c)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wn(At);return n.forEach(r=>{const s=new ti(r,0),l=new ti(r,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,l],c=>{i=i.add(c.br)})}),ge.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Ye.isDocumentKey(s)||(s=s.child(""));const l=new ti(new Ye(s),0);let c=new Wn(At);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(d.br)),!0)},l),ge.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(i=>{const r=this.Cr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ut(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ge.forEach(n.mutations,r=>{const s=new ti(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,n){const i=new ti(n,0),r=this.vr.firstAfterOrEqual(i);return ge.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.Nr=e,this.docs=function(){return new pn(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,l=this.Nr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ge.resolve(i?i.document.mutableCopy():Li.newInvalidDocument(n))}getEntries(e,n){let i=Ma();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Li.newInvalidDocument(r))}),ge.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ma();const l=n.path,c=new Ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||h9(d9(m),i)<=0||(r.has(m.key)||ev(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ht()}Br(e,n){return ge.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Vj(this)}getSize(e){return ge.resolve(this.size)}}class Vj extends Aj{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.hr.addEntry(e,r)):this.hr.removeEntry(i)}),ge.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.persistence=e,this.Lr=new gc(n=>Zw(n),Qw),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.kr=0,this.qr=new ix,this.targetCount=0,this.Qr=Fd.qn()}forEachTarget(e,n){return this.Lr.forEach((i,r)=>n(r)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.kr&&(this.kr=n),ge.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Fd(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Un(n),ge.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Lr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),ge.waitFor(s).next(()=>r)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const i=this.Lr.get(n)||null;return ge.resolve(i)}addMatchingKeys(e,n,i){return this.qr.mr(n,i),ge.resolve()}removeMatchingKeys(e,n,i){this.qr.pr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const i=this.qr.Sr(n);return ge.resolve(i)}containsKey(e,n){return ge.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Qg(0),this.Ur=!1,this.Ur=!0,this.Wr=new Nj,this.referenceDelegate=e(this),this.Gr=new jj(this),this.indexManager=new Sj,this.remoteDocumentCache=function(r){return new Dj(r)}(i=>this.referenceDelegate.zr(i)),this.serializer=new xj(n),this.jr=new Lj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Kr[e.toKey()];return i||(i=new Mj(n,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new Fj(this.$r.next());return this.referenceDelegate.Hr(),i(r).next(s=>this.referenceDelegate.Jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Yr(e,n){return ge.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,n)))}}class Fj extends p9{constructor(e){super(),this.currentSequenceNumber=e}}class rx{constructor(e){this.persistence=e,this.Zr=new ix,this.Xr=null}static ei(e){return new rx(e)}get ti(){if(this.Xr)return this.Xr;throw ht()}addReference(e,n,i){return this.Zr.addReference(i,n),this.ti.delete(i.toString()),ge.resolve()}removeReference(e,n,i){return this.Zr.removeReference(i,n),this.ti.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(r=>this.ti.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.ti.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ti,i=>{const r=Ye.fromPath(i);return this.ni(e,r).next(s=>{s||n.removeEntry(r,pt.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(i=>{i?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return ge.or([()=>ge.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class pg{constructor(e,n){this.persistence=e,this.ri=new gc(i=>v9(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Ij(this,n)}static ei(e,n){return new pg(e,n)}Hr(){}Jr(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}nr(e){let n=0;return this.er(e,i=>{n++}).next(()=>n)}er(e,n){return ge.forEach(this.ri,(i,r)=>this.ir(e,i,r).next(s=>s?ge.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Br(e,l=>this.ir(e,l,n).next(c=>{c||(i++,s.removeEntry(l,pt.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),ge.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dm(e.data.value)),n}ir(e,n,i){return ge.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.ri.get(n);return ge.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Wi=i,this.Gi=r}static zi(e,n){let i=Ct(),r=Ct();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new sx(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jV()?8:m9(Mi())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Xi(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.es(e,n,r,i).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new Bj;return this.ts(e,n,l).next(c=>{if(s.result=c,this.Hi)return this.ns(e,n,l,c.size)})}).next(()=>s.result)}ns(e,n,i,r){return i.documentReadCount<this.Ji?(td()<=Pt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",nd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ge.resolve()):(td()<=Pt.DEBUG&&Fe("QueryEngine","Query:",nd(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Yi*r?(td()<=Pt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",nd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bo(n))):ge.resolve())}Xi(e,n){if(ZS(n))return ge.resolve(null);let i=bo(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=my(n,null,"F"),i=bo(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=Ct(...s);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.rs(n,c);return this.ss(n,p,l,d.readTime)?this.Xi(e,my(n,null,"F")):this.os(e,p,n,d)}))})))}es(e,n,i,r){return ZS(n)||r.isEqual(pt.min())?ge.resolve(null):this.Zi.getDocuments(e,i).next(s=>{const l=this.rs(n,s);return this.ss(n,l,i,r)?ge.resolve(null):(td()<=Pt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nd(n)),this.os(e,l,n,c9(r,-1)).next(c=>c))})}rs(e,n){let i=new Wn(BI(e));return n.forEach((r,s)=>{ev(e,s)&&(i=i.add(s))}),i}ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ts(e,n,i){return td()<=Pt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",nd(n)),this.Zi.getDocumentsMatchingQuery(e,n,au.min(),i)}os(e,n,i,r){return this.Zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,i,r){this.persistence=e,this._s=n,this.serializer=r,this.us=new pn(At),this.cs=new gc(s=>Zw(s),Qw),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rj(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function $j(t,e,n,i){return new Uj(t,e,n,i)}async function lA(t,e){const n=gt(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],c=[];let d=Ct();for(const p of r){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of s){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function Hj(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const v=p.batch,x=v.keys();let T=ge.resolve();return x.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(C=>{const k=p.docVersions.get(I);Ut(k!==null),C.version.compareTo(k)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),m.addEntry(C)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Ct();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function uA(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Wj(t,e){const n=gt(t),i=e.snapshotVersion;let r=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});r=n.us;const c=[];e.targetChanges.forEach((m,v)=>{const x=r.get(v);if(!x)return;c.push(n.Gr.removeMatchingKeys(s,m.removedDocuments,v).next(()=>n.Gr.addMatchingKeys(s,m.addedDocuments,v)));let T=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(gi.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),r=r.insert(v,T),function(C,k,R){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(x,T,m)&&c.push(n.Gr.updateTargetData(s,T))});let d=Ma(),p=Ct();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(qj(s,l,e.documentUpdates).next(m=>{d=m.Is,p=m.ds})),!i.isEqual(pt.min())){const m=n.Gr.getLastRemoteSnapshotVersion(s).next(v=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(m)}return ge.waitFor(c).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,d,p)).next(()=>d)}).then(s=>(n.us=r,s))}function qj(t,e,n){let i=Ct(),r=Ct();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let l=Ma();return n.forEach((c,d)=>{const p=s.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(pt.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:r}})}function Gj(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Kj(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Gr.getTargetData(i,e).next(s=>s?(r=s,ge.resolve(r)):n.Gr.allocateTargetId(i).next(l=>(r=new Yl(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Gr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.us.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(i.targetId,i),n.cs.set(e,i.targetId)),i})}async function wy(t,e,n){const i=gt(t),r=i.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Qd(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.us=i.us.remove(e),i.cs.delete(r.target)}function aT(t,e,n){const i=gt(t);let r=pt.min(),s=Ct();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const v=gt(d),x=v.cs.get(m);return x!==void 0?ge.resolve(v.us.get(x)):v.Gr.getTargetData(p,m)}(i,l,bo(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{s=d})}).next(()=>i._s.getDocumentsMatchingQuery(l,e,n?r:pt.min(),n?s:Ct())).next(c=>(Zj(i,M9(e),c),{documents:c,Es:s})))}function Zj(t,e,n){let i=t.ls.get(e)||pt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ls.set(e,i)}class lT{constructor(){this.activeTargetIds=z9()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qj{constructor(){this._o=new lT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,i){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new lT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm=null;function f_(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="WebChannelConnection";class e6 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+n.host,this.Mo=`projects/${r}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Oo(n,i,r,s,l){const c=f_(),d=this.No(n,i.toUriEncodedString());Fe("RestConnection",`Sending RPC '${n}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,s,l),this.Lo(n,d,p,r).then(m=>(Fe("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw Md("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",d,"request:",r),m})}ko(n,i,r,s,l,c){return this.Oo(n,i,r,s,l)}Bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,l)=>n[l]=s),r&&r.headers.forEach((s,l)=>n[l]=s)}No(n,i){const r=Xj[n];return`${this.Fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,i,r){const s=f_();return new Promise((l,c)=>{const d=new bI;d.setWithCredentials(!0),d.listenOnce(SI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Mm.NO_ERROR:const m=d.getResponseJson();Fe(Ci,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Mm.TIMEOUT:Fe(Ci,`RPC '${e}' ${s} timed out`),c(new Be(me.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const v=d.getStatus();if(Fe(Ci,`RPC '${e}' ${s} failed with status:`,v,"response text:",d.getResponseText()),v>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x==null?void 0:x.error;if(T&&T.status&&T.message){const I=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(R)>=0?R:me.UNKNOWN}(T.status);c(new Be(I,T.message))}else c(new Be(me.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Be(me.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Fe(Ci,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(r);Fe(Ci,`RPC '${e}' ${s} sending request:`,r),d.send(n,"POST",p,i,15)})}qo(e,n,i){const r=f_(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PI(),c=EI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const m=s.join("");Fe(Ci,`Creating RPC '${e}' stream ${r}: ${m}`,d);const v=l.createWebChannel(m,d);let x=!1,T=!1;const I=new Jj({Eo:k=>{T?Fe(Ci,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(x||(Fe(Ci,`Opening RPC '${e}' stream ${r} transport.`),v.open(),x=!0),Fe(Ci,`RPC '${e}' stream ${r} sending:`,k),v.send(k))},Ao:()=>v.close()}),C=(k,R,F)=>{k.listen(R,D=>{try{F(D)}catch(Z){setTimeout(()=>{throw Z},0)}})};return C(v,$h.EventType.OPEN,()=>{T||(Fe(Ci,`RPC '${e}' stream ${r} transport opened.`),I.So())}),C(v,$h.EventType.CLOSE,()=>{T||(T=!0,Fe(Ci,`RPC '${e}' stream ${r} transport closed`),I.Do())}),C(v,$h.EventType.ERROR,k=>{T||(T=!0,Md(Ci,`RPC '${e}' stream ${r} transport errored:`,k),I.Do(new Be(me.UNAVAILABLE,"The operation could not be completed")))}),C(v,$h.EventType.MESSAGE,k=>{var R;if(!T){const F=k.data[0];Ut(!!F);const D=F,Z=(D==null?void 0:D.error)||((R=D[0])===null||R===void 0?void 0:R.error);if(Z){Fe(Ci,`RPC '${e}' stream ${r} received error:`,Z);const H=Z.status;let Q=function(V){const z=Nn[V];if(z!==void 0)return YI(z)}(H),U=Z.message;Q===void 0&&(Q=me.INTERNAL,U="Unknown error status: "+H+" with message "+Z.message),T=!0,I.Do(new Be(Q,U)),v.close()}else Fe(Ci,`RPC '${e}' stream ${r} received:`,F),I.vo(F)}}),C(c,TI.STAT_EVENT,k=>{k.stat===uy.PROXY?Fe(Ci,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===uy.NOPROXY&&Fe(Ci,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function p_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){return new aj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=r,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),r=Math.max(0,n-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,i,r,s,l,c,d){this.li=e,this.Yo=i,this.Zo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new cA(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Na(n.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Xo===n&&this.I_(i,r)},i=>{e(()=>{const r=new Be(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(r)})})}I_(e,n){const i=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(r=>{i(()=>this.d_(r))}),this.stream.onMessage(r=>{i(()=>++this.n_==1?this.A_(r):this.onNext(r))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t6 extends dA{constructor(e,n,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=s}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=cj(this.serializer,e),i=function(s){if(!("targetChange"in s))return pt.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?pt.min():l.readTime?So(l.readTime):pt.min()}(e);return this.listener.R_(n,i)}V_(e){const n={};n.database=yy(this.serializer),n.addTarget=function(s,l){let c;const d=l.target;if(c=fy(d)?{documents:fj(s,d)}:{query:pj(s,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=eA(s,l.resumeToken);const p=gy(s,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(pt.min())>0){c.readTime=fg(s,l.snapshotVersion.toTimestamp());const p=gy(s,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const i=gj(this.serializer,e);i&&(n.labels=i),this.c_(n)}m_(e){const n={};n.database=yy(this.serializer),n.removeTarget=e,this.c_(n)}}class n6 extends dA{constructor(e,n,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=hj(e.writeResults,e.commitTime),i=So(e.commitTime);return this.listener.y_(i,n)}w_(){const e={};e.database=yy(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>dj(this.serializer,i))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,i,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Oo(e,vy(n,i),r,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(me.UNKNOWN,s.toString())})}ko(e,n,i,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,vy(n,i),r,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Be(me.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class r6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Na(n),this.C_=!1):Fe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(l=>{i.enqueueAndForget(async()=>{vc(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=gt(d);p.k_.add(4),await Gf(p),p.K_.set("Unknown"),p.k_.delete(4),await sv(p)}(this))})}),this.K_=new r6(i,r)}}async function sv(t){if(vc(t))for(const e of t.q_)await e(!0)}async function Gf(t){for(const e of t.q_)await e(!1)}function hA(t,e){const n=gt(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),ux(n)?lx(n):Xd(n).s_()&&ax(n,e))}function ox(t,e){const n=gt(t),i=Xd(n);n.L_.delete(e),i.s_()&&fA(n,e),n.L_.size===0&&(i.s_()?i.a_():vc(n)&&n.K_.set("Unknown"))}function ax(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xd(t).V_(e)}function fA(t,e){t.U_.xe(e),Xd(t).m_(e)}function lx(t){t.U_=new ij({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xd(t).start(),t.K_.F_()}function ux(t){return vc(t)&&!Xd(t).i_()&&t.L_.size>0}function vc(t){return gt(t).k_.size===0}function pA(t){t.U_=void 0}async function o6(t){t.K_.set("Online")}async function a6(t){t.L_.forEach((e,n)=>{ax(t,e)})}async function l6(t,e){pA(t),ux(t)?(t.K_.O_(e),lx(t)):t.K_.set("Unknown")}async function u6(t,e,n){if(t.K_.set("Online"),e instanceof JI&&e.state===2&&e.cause)try{await async function(r,s){const l=s.cause;for(const c of s.targetIds)r.L_.has(c)&&(await r.remoteSyncer.rejectListen(c,l),r.L_.delete(c),r.U_.removeTarget(c))}(t,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await mg(t,i)}else if(e instanceof Fm?t.U_.$e(e):e instanceof XI?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(pt.min()))try{const i=await uA(t.localStore);n.compareTo(i)>=0&&await function(s,l){const c=s.U_.it(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.L_.get(p);m&&s.L_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=s.L_.get(d);if(!m)return;s.L_.set(d,m.withResumeToken(gi.EMPTY_BYTE_STRING,m.snapshotVersion)),fA(s,d);const v=new Yl(m.target,d,p,m.sequenceNumber);ax(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),await mg(t,i)}}async function mg(t,e,n){if(!Qd(e))throw e;t.k_.add(1),await Gf(t),t.K_.set("Offline"),n||(n=()=>uA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await sv(t)})}function mA(t,e){return e().catch(n=>mg(t,n,e))}async function ov(t){const e=gt(t),n=du(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;c6(e);)try{const r=await Gj(e.localStore,i);if(r===null){e.B_.length===0&&n.a_();break}i=r.batchId,d6(e,r)}catch(r){await mg(e,r)}gA(e)&&vA(e)}function c6(t){return vc(t)&&t.B_.length<10}function d6(t,e){t.B_.push(e);const n=du(t);n.s_()&&n.f_&&n.g_(e.mutations)}function gA(t){return vc(t)&&!du(t).i_()&&t.B_.length>0}function vA(t){du(t).start()}async function h6(t){du(t).w_()}async function f6(t){const e=du(t);for(const n of t.B_)e.g_(n.mutations)}async function p6(t,e,n){const i=t.B_.shift(),r=ex.from(i,e,n);await mA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ov(t)}async function m6(t,e){e&&du(t).f_&&await async function(i,r){if(function(l){return ej(l)&&l!==me.ABORTED}(r.code)){const s=i.B_.shift();du(i).__(),await mA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ov(i)}}(t,e),gA(t)&&vA(t)}async function cT(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=vc(n);n.k_.add(3),await Gf(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await sv(n)}async function g6(t,e){const n=gt(t);e?(n.k_.delete(2),await sv(n)):e||(n.k_.add(2),await Gf(n),n.K_.set("Unknown"))}function Xd(t){return t.W_||(t.W_=function(n,i,r){const s=gt(n);return s.b_(),new t6(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Ro:o6.bind(null,t),mo:a6.bind(null,t),po:l6.bind(null,t),R_:u6.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),ux(t)?lx(t):t.K_.set("Unknown")):(await t.W_.stop(),pA(t))})),t.W_}function du(t){return t.G_||(t.G_=function(n,i,r){const s=gt(n);return s.b_(),new n6(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:h6.bind(null,t),po:m6.bind(null,t),p_:f6.bind(null,t),y_:p6.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await ov(t)):(await t.G_.stop(),t.B_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const l=Date.now()+i,c=new cx(e,n,l,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dx(t,e){if(Na("AsyncQueue",`${e}: ${t}`),Qd(t))return new Be(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static emptySet(e){return new dd(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ye.comparator(n.key,i.key):(n,i)=>Ye.comparator(n.key,i.key),this.keyedMap=Hh(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.z_=new pn(Ye.comparator)}track(e){const n=e.doc.key,i=this.z_.get(n);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(n,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(n):e.type===1&&i.type===2?this.z_=this.z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ht():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Bd{constructor(e,n,i,r,s,l,c,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,r,s){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Bd(e,n,dd.emptySet(n),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _6{constructor(){this.queries=hT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,i){const r=gt(n),s=r.queries;r.queries=hT(),s.forEach((l,c)=>{for(const d of c.J_)d.onError(i)})})(this,new Be(me.ABORTED,"Firestore shutting down"))}}function hT(){return new gc(t=>FI(t),Jg)}async function _A(t,e){const n=gt(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Y_()&&e.Z_()&&(i=2):(s=new v6,i=e.Z_()?0:1);try{switch(i){case 0:s.H_=await n.onListen(r,!0);break;case 1:s.H_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const c=dx(l,`Initialization of query '${nd(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&hx(n)}async function yA(t,e){const n=gt(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const l=s.J_.indexOf(e);l>=0&&(s.J_.splice(l,1),s.J_.length===0?r=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function y6(t,e){const n=gt(t);let i=!1;for(const r of e){const s=r.query,l=n.queries.get(s);if(l){for(const c of l.J_)c.ta(r)&&(i=!0);l.H_=r}}i&&hx(n)}function w6(t,e,n){const i=gt(t),r=i.queries.get(e);if(r)for(const s of r.J_)s.onError(n);i.queries.delete(e)}function hx(t){t.X_.forEach(e=>{e.next()})}var xy,fT;(fT=xy||(xy={})).na="default",fT.Cache="cache";class wA{constructor(e,n,i){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Bd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const i=n!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.key=e}}class bA{constructor(e){this.key=e}}class x6{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ct(),this.mutatedKeys=Ct(),this.Va=BI(e),this.ma=new dd(this.Va)}get fa(){return this.Ea}ga(e,n){const i=n?n.pa:new dT,r=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,l=r,c=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{const x=r.get(m),T=ev(this.query,v)?v:null,I=!!x&&this.mutatedKeys.has(x.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;x&&T?x.data.isEqual(T.data)?I!==C&&(i.track({type:3,doc:T}),k=!0):this.ya(x,T)||(i.track({type:2,doc:T}),k=!0,(d&&this.Va(T,d)>0||p&&this.Va(T,p)<0)&&(c=!0)):!x&&T?(i.track({type:0,doc:T}),k=!0):x&&!T&&(i.track({type:1,doc:x}),k=!0,(d||p)&&(c=!0)),k&&(T?(l=l.add(T),s=C?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{ma:l,pa:i,ss:c,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,v)=>function(T,I){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return C(T)-C(I)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(i),r=r!=null&&r;const c=n&&!r?this.Sa():[],d=this.Ra.size===0&&this.current&&!r?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new Bd(this.query,e.ma,s,l,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new dT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ct(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const n=[];return e.forEach(i=>{this.Ra.has(i)||n.push(new bA(i))}),this.Ra.forEach(i=>{e.has(i)||n.push(new xA(i))}),n}va(e){this.Ea=e.Es,this.Ra=Ct();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Bd.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class b6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class S6{constructor(e){this.key=e,this.Fa=!1}}class T6{constructor(e,n,i,r,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new gc(c=>FI(c),Jg),this.Oa=new Map,this.Na=new Set,this.Ba=new pn(Ye.comparator),this.La=new Map,this.ka=new ix,this.qa={},this.Qa=new Map,this.Ka=Fd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function E6(t,e,n=!0){const i=IA(t);let r;const s=i.xa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Ca()):r=await SA(i,e,n,!0),r}async function P6(t,e){const n=IA(t);await SA(n,e,!0,!1)}async function SA(t,e,n,i){const r=await Kj(t.localStore,bo(e)),s=r.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return i&&(c=await C6(t,e,s,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&hA(t.remoteStore,r),c}async function C6(t,e,n,i,r){t.Ua=(v,x,T)=>async function(C,k,R,F){let D=k.view.ga(R);D.ss&&(D=await aT(C.localStore,k.query,!1).then(({documents:U})=>k.view.ga(U,D)));const Z=F&&F.targetChanges.get(k.targetId),H=F&&F.targetMismatches.get(k.targetId)!=null,Q=k.view.applyChanges(D,C.isPrimaryClient,Z,H);return mT(C,k.targetId,Q.ba),Q.snapshot}(t,v,x,T);const s=await aT(t.localStore,e,!0),l=new x6(e,s.Es),c=l.ga(s.documents),d=qf.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),p=l.applyChanges(c,t.isPrimaryClient,d);mT(t,n,p.ba);const m=new b6(e,n,l);return t.xa.set(e,m),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function I6(t,e,n){const i=gt(t),r=i.xa.get(e),s=i.Oa.get(r.targetId);if(s.length>1)return i.Oa.set(r.targetId,s.filter(l=>!Jg(l,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await wy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&ox(i.remoteStore,r.targetId),by(i,r.targetId)}).catch(Zd)):(by(i,r.targetId),await wy(i.localStore,r.targetId,!0))}async function A6(t,e){const n=gt(t),i=n.xa.get(e),r=n.Oa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ox(n.remoteStore,i.targetId))}async function k6(t,e,n){const i=V6(t);try{const r=await function(l,c){const d=gt(l),p=Vn.now(),m=c.reduce((T,I)=>T.add(I.key),Ct());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=Ma(),C=Ct();return d.hs.getEntries(T,m).next(k=>{I=k,I.forEach((R,F)=>{F.isValidDocument()||(C=C.add(R))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(k=>{v=k;const R=[];for(const F of c){const D=Z9(F,v.get(F.key).overlayedDocument);D!=null&&R.push(new pu(F.key,D,RI(D.value.mapValue),cs.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,R,c)}).next(k=>{x=k;const R=k.applyToLocalDocumentSet(v,C);return d.documentOverlayCache.saveOverlays(T,k.batchId,R)})}).then(()=>({batchId:x.batchId,changes:UI(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,c,d){let p=l.qa[l.currentUser.toKey()];p||(p=new pn(At)),p=p.insert(c,d),l.qa[l.currentUser.toKey()]=p}(i,r.batchId,n),await Kf(i,r.changes),await ov(i.remoteStore)}catch(r){const s=dx(r,"Failed to persist write");n.reject(s)}}async function TA(t,e){const n=gt(t);try{const i=await Wj(n.localStore,e);e.targetChanges.forEach((r,s)=>{const l=n.La.get(s);l&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Fa=!0:r.modifiedDocuments.size>0?Ut(l.Fa):r.removedDocuments.size>0&&(Ut(l.Fa),l.Fa=!1))}),await Kf(n,i,e)}catch(i){await Zd(i)}}function pT(t,e,n){const i=gt(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.xa.forEach((s,l)=>{const c=l.view.ea(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const d=gt(l);d.onlineState=c;let p=!1;d.queries.forEach((m,v)=>{for(const x of v.J_)x.ea(c)&&(p=!0)}),p&&hx(d)}(i.eventManager,e),r.length&&i.Ma.R_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function R6(t,e,n){const i=gt(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.La.get(e),s=r&&r.key;if(s){let l=new pn(Ye.comparator);l=l.insert(s,Li.newNoDocument(s,pt.min()));const c=Ct().add(s),d=new iv(pt.min(),new Map,new pn(At),l,c);await TA(i,d),i.Ba=i.Ba.remove(s),i.La.delete(e),fx(i)}else await wy(i.localStore,e,!1).then(()=>by(i,e,n)).catch(Zd)}async function L6(t,e){const n=gt(t),i=e.batch.batchId;try{const r=await Hj(n.localStore,e);PA(n,i,null),EA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Kf(n,r)}catch(r){await Zd(r)}}async function O6(t,e,n){const i=gt(t);try{const r=await function(l,c){const d=gt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(v=>(Ut(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(i.localStore,e);PA(i,e,n),EA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Kf(i,r)}catch(r){await Zd(r)}}function EA(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function PA(t,e,n){const i=gt(t);let r=i.qa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.qa[i.currentUser.toKey()]=r}}function by(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Oa.get(e))t.xa.delete(i),n&&t.Ma.Wa(i,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(i=>{t.ka.containsKey(i)||CA(t,i)})}function CA(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(ox(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),fx(t))}function mT(t,e,n){for(const i of n)i instanceof xA?(t.ka.addReference(i.key,e),N6(t,i)):i instanceof bA?(Fe("SyncEngine","Document no longer in limbo: "+i.key),t.ka.removeReference(i.key,e),t.ka.containsKey(i.key)||CA(t,i.key)):ht()}function N6(t,e){const n=e.key,i=n.path.canonicalString();t.Ba.get(n)||t.Na.has(i)||(Fe("SyncEngine","New document in limbo: "+n),t.Na.add(i),fx(t))}function fx(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ye(on.fromString(e)),i=t.Ka.next();t.La.set(i,new S6(n)),t.Ba=t.Ba.insert(n,i),hA(t.remoteStore,new Yl(bo(Yw(n.path)),i,"TargetPurposeLimboResolution",Qg.oe))}}async function Kf(t,e,n){const i=gt(t),r=[],s=[],l=[];i.xa.isEmpty()||(i.xa.forEach((c,d)=>{l.push(i.Ua(d,e,n).then(p=>{var m;if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){r.push(p);const v=sx.zi(d.targetId,p);s.push(v)}}))}),await Promise.all(l),i.Ma.R_(r),await async function(d,p){const m=gt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ge.forEach(p,x=>ge.forEach(x.Wi,T=>m.persistence.referenceDelegate.addReference(v,x.targetId,T)).next(()=>ge.forEach(x.Gi,T=>m.persistence.referenceDelegate.removeReference(v,x.targetId,T)))))}catch(v){if(!Qd(v))throw v;Fe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const T=m.us.get(x),I=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(I);m.us=m.us.insert(x,C)}}}(i.localStore,s))}async function M6(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=await lA(n.localStore,e);n.currentUser=e,function(s,l){s.Qa.forEach(c=>{c.forEach(d=>{d.reject(new Be(me.CANCELLED,l))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kf(n,i.Ts)}}function D6(t,e){const n=gt(t),i=n.La.get(e);if(i&&i.Fa)return Ct().add(i.key);{let r=Ct();const s=n.Oa.get(e);if(!s)return r;for(const l of s){const c=n.xa.get(l);r=r.unionWith(c.view.fa)}return r}}function IA(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R6.bind(null,e),e.Ma.R_=y6.bind(null,e.eventManager),e.Ma.Wa=w6.bind(null,e.eventManager),e}function V6(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O6.bind(null,e),e}class gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rv(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return $j(this.persistence,new zj,e.initialUser,this.serializer)}ja(e){return new aA(rx.ei,this.serializer)}za(e){return new Qj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gg.provider={build:()=>new gg};class j6 extends gg{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ut(this.persistence.referenceDelegate instanceof pg);const i=this.persistence.referenceDelegate.garbageCollector;return new Pj(i,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new aA(i=>pg.ei(i,n),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M6.bind(null,this.syncEngine),await g6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _6}()}createDatastore(e){const n=rv(e.databaseInfo.databaseId),i=function(s){return new e6(s)}(e.databaseInfo);return function(s,l,c,d){return new i6(s,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,l,c){return new s6(i,r,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>pT(this.syncEngine,n,0),function(){return uT.p()?new uT:new Yj}())}createSyncEngine(e,n){return function(r,s,l,c,d,p,m){const v=new T6(r,s,l,c,d,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=gt(r);Fe("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Gf(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ri.UNAUTHENTICATED,this.clientId=II.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async l=>{Fe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dx(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function m_(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await lA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B6(t);Fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>cT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>cT(e.remoteStore,r)),t._onlineComponents=e}async function B6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await m_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===me.FAILED_PRECONDITION||r.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Md("Error using user provided cache. Falling back to memory cache: "+n),await m_(t,new gg)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),await m_(t,new j6(void 0));return t._offlineComponents}async function kA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),await gT(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),await gT(t,new Sy))),t._onlineComponents}function z6(t){return kA(t).then(e=>e.syncEngine)}async function RA(t){const e=await kA(t),n=e.eventManager;return n.onListen=E6.bind(null,e.syncEngine),n.onUnlisten=I6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A6.bind(null,e.syncEngine),n}function U6(t,e,n={}){const i=new Ca;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,d,p){const m=new AA({next:x=>{m.eu(),l.enqueueAndForget(()=>yA(s,v));const T=x.docs.has(c);!T&&x.fromCache?p.reject(new Be(me.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?p.reject(new Be(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new wA(Yw(c.path),m,{includeMetadataChanges:!0,ua:!0});return _A(s,v)}(await RA(t),t.asyncQueue,e,n,i)),i.promise}function $6(t,e,n={}){const i=new Ca;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,d,p){const m=new AA({next:x=>{m.eu(),l.enqueueAndForget(()=>yA(s,v)),x.fromCache&&d.source==="server"?p.reject(new Be(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new wA(c,m,{includeMetadataChanges:!0,ua:!0});return _A(s,v)}(await RA(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e,n){if(!n)throw new Be(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H6(t,e,n,i){if(e===!0&&i===!0)throw new Be(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _T(t){if(!Ye.isDocumentKey(t))throw new Be(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yT(t){if(Ye.isDocumentKey(t))throw new Be(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ht()}function $s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=av(t);throw new Be(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lv{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new t9;switch(i.type){case"firstParty":return new s9(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Be(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=vT.get(n);i&&(Fe("ComponentProvider","Removing Datastore"),vT.delete(n),i.terminate())}(this),Promise.resolve()}}function W6(t,e,n,i={}){var r;const s=(t=$s(t,lv))._getSettings(),l=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&Md("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=Ri.MOCK_USER;else{c=RV(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Be(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ri(p)}t._authCredentials=new n9(new CI(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=class NA{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new NA(this.firestore,e,this._query)}};class Qi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class ru extends Zf{constructor(e,n,i){super(e,n,Yw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new Ye(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function Qf(t,e,...n){if(t=qn(t),OA("collection","path",e),t instanceof lv){const i=on.fromString(e,...n);return yT(i),new ru(t,null,i)}{if(!(t instanceof Qi||t instanceof ru))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(on.fromString(e,...n));return yT(i),new ru(t.firestore,null,i)}}function lc(t,e,...n){if(t=qn(t),arguments.length===1&&(e=II.newId()),OA("doc","path",e),t instanceof lv){const i=on.fromString(e,...n);return _T(i),new Qi(t,null,new Ye(i))}{if(!(t instanceof Qi||t instanceof ru))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(on.fromString(e,...n));return _T(i),new Qi(t.firestore,t instanceof ru?t.converter:null,new Ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new cA(this,"async_queue_retry"),this.fu=()=>{const i=p_();i&&Fe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const n=p_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=p_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Ca;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Qd(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const r=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Na("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const r=cx.createAndSchedule(this,e,n,i,s=>this.Su(s));return this.Eu.push(r),r}pu(){this.Au&&ht()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class _c extends lv{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new xT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function q6(t,e){const n=typeof t=="object"?t:_I(),i=typeof t=="string"?t:"(default)",r=Ww(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=AV("firestore");s&&W6(r,...s)}return r}function px(t){if(t._terminated)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G6(t),t._firestoreClient}function G6(t){var e,n,i;const r=t._freezeSettings(),s=function(c,d,p,m){return new w9(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,LA(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new F6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zd(gi.fromBase64String(e))}catch(n){throw new Be(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zd(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=/^__.*__$/;class Z6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wf(e,this.data,n,this.fieldTransforms)}}class MA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new pu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class vx{constructor(e,n,i,r,s,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new vx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.xu({path:i,Nu:!1});return r.Bu(e),r}Lu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.xu({path:i,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vg(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(DA(this.Mu)&&K6.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Q6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||rv(e)}$u(e,n,i,r=!1){return new vx({Mu:e,methodName:n,Ku:i,path:mi.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dv(t){const e=t._freezeSettings(),n=rv(t._databaseId);return new Q6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VA(t,e,n,i,r,s={}){const l=t.$u(s.merge||s.mergeFields?2:0,e,n,r);yx("Data must be an object, but it was:",l,i);const c=jA(i,l);let d,p;if(s.merge)d=new jr(l.fieldMask),p=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const v of s.mergeFields){const x=Ty(e,v,n);if(!l.contains(x))throw new Be(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);BA(m,x)||m.push(x)}d=new jr(m),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new Z6(new Sr(c),d,p)}class hv extends cv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hv}}class _x extends cv{_toFieldTransform(e){return new W9(e.path,new xf)}isEqual(e){return e instanceof _x}}function Y6(t,e,n,i){const r=t.$u(1,e,n);yx("Data must be an object, but it was:",r,i);const s=[],l=Sr.empty();fu(i,(d,p)=>{const m=wx(e,d,n);p=qn(p);const v=r.Lu(m);if(p instanceof hv)s.push(m);else{const x=Yf(p,v);x!=null&&(s.push(m),l.set(m,x))}});const c=new jr(s);return new MA(l,c,r.fieldTransforms)}function X6(t,e,n,i,r,s){const l=t.$u(1,e,n),c=[Ty(e,i,n)],d=[r];if(s.length%2!=0)throw new Be(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)c.push(Ty(e,s[x])),d.push(s[x+1]);const p=[],m=Sr.empty();for(let x=c.length-1;x>=0;--x)if(!BA(p,c[x])){const T=c[x];let I=d[x];I=qn(I);const C=l.Lu(T);if(I instanceof hv)p.push(T);else{const k=Yf(I,C);k!=null&&(p.push(T),m.set(T,k))}}const v=new jr(p);return new MA(m,v,l.fieldTransforms)}function J6(t,e,n,i=!1){return Yf(n,t.$u(i?4:3,e))}function Yf(t,e){if(FA(t=qn(t)))return yx("Unsupported field value:",e,t),jA(t,e);if(t instanceof cv)return function(i,r){if(!DA(r.Mu))throw r.qu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,r){const s=[];let l=0;for(const c of i){let d=Yf(c,r.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=qn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U9(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Vn.fromDate(i);return{timestampValue:fg(r.serializer,s)}}if(i instanceof Vn){const s=new Vn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fg(r.serializer,s)}}if(i instanceof mx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zd)return{bytesValue:eA(r.serializer,i._byteString)};if(i instanceof Qi){const s=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(s))throw r.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nx(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof gx)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Xw(c.serializer,d)})}}}}}}(i,r);throw r.qu(`Unsupported field value: ${av(i)}`)}(t,e)}function jA(t,e){const n={};return AI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fu(t,(i,r)=>{const s=Yf(r,e.Ou(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function FA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof mx||t instanceof zd||t instanceof Qi||t instanceof cv||t instanceof gx)}function yx(t,e,n){if(!FA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=av(n);throw i==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+i)}}function Ty(t,e,n){if((e=qn(e))instanceof uv)return e._internalPath;if(typeof e=="string")return wx(t,e);throw vg("Field path arguments must be of type string or ",t,!1,void 0,n)}const eF=new RegExp("[~\\*/\\[\\]]");function wx(t,e,n){if(e.search(eF)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uv(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vg(t,e,n,i,r){const s=i&&!i.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new Be(me.INVALID_ARGUMENT,c+t+d)}function BA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tF extends zA{data(){return super.data()}}function fv(t,e){return typeof e=="string"?wx(t,e):e instanceof uv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xx{}class UA extends xx{}function $A(t,e,...n){let i=[];e instanceof xx&&i.push(e),i=i.concat(n),function(s){const l=s.filter(d=>d instanceof bx).length,c=s.filter(d=>d instanceof pv).length;if(l>1||l>0&&c>0)throw new Be(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class pv extends UA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new pv(e,n,i)}_apply(e){const n=this._parse(e);return HA(e._query,n),new Zf(e.firestore,e.converter,py(e._query,n))}_parse(e){const n=dv(e.firestore);return function(s,l,c,d,p,m,v){let x;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Be(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ST(v,m);const T=[];for(const I of v)T.push(bT(d,s,I));x={arrayValue:{values:T}}}else x=bT(d,s,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ST(v,m),x=J6(c,l,v,m==="in"||m==="not-in");return Dn.create(p,m,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iF(t,e,n){const i=e,r=fv("where",t);return pv._create(r,i,n)}class bx extends xx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bx(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let l=r;const c=s.getFlattenedFilters();for(const d of c)HA(l,d),l=py(l,d)}(e._query,n),new Zf(e.firestore,e.converter,py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sx extends UA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sx(e,n)}_apply(e){const n=function(r,s,l){if(r.startAt!==null)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wf(s,l)}(e._query,this._field,this._direction);return new Zf(e.firestore,e.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new Yd(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function rF(t,e="asc"){const n=e,i=fv("orderBy",t);return Sx._create(i,n)}function bT(t,e,n){if(typeof(n=qn(n))=="string"){if(n==="")throw new Be(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jI(e)&&n.indexOf("/")!==-1)throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(on.fromString(n));if(!Ye.isDocumentKey(i))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $S(t,new Ye(i))}if(n instanceof Qi)return $S(t,n._key);throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${av(n)}.`)}function ST(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HA(t,e){const n=function(r,s){for(const l of r)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Be(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sF{convertValue(e,n="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ht()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return fu(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>En(l.doubleValue));return new gx(s)}convertGeoPoint(e){return new mx(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const n=lu(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=on.fromString(e);Ut(oA(i));const r=new _f(i.get(1),i.get(3)),s=new Ye(i.popFirst(5));return r.isEqual(n)||Na(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qA extends zA{constructor(e,n,i,r,s,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(fv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Bm extends qA{data(e={}){return super.data(e)}}class oF{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new qh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Bm(this._firestore,this._userDataWriter,i.key,i,new qh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>{const d=new Bm(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const d=new Bm(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:aF(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){t=$s(t,Qi);const e=$s(t.firestore,_c);return U6(px(e),t._key).then(n=>dF(e,t,n))}class KA extends sF{constructor(e){super(),this.firestore=e}convertBytes(e){return new zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,n)}}function mv(t){t=$s(t,Zf);const e=$s(t.firestore,_c),n=px(e),i=new KA(e);return nF(t._query),$6(n,t._query).then(r=>new oF(e,i,t,r))}function ZA(t,e,n){t=$s(t,Qi);const i=$s(t.firestore,_c),r=WA(t.converter,e,n);return gv(i,[VA(dv(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,cs.none())])}function lF(t,e,n,...i){t=$s(t,Qi);const r=$s(t.firestore,_c),s=dv(r);let l;return l=typeof(e=qn(e))=="string"||e instanceof uv?X6(s,"updateDoc",t._key,e,n,i):Y6(s,"updateDoc",t._key,e),gv(r,[l.toMutation(t._key,cs.exists(!0))])}function uF(t){return gv($s(t.firestore,_c),[new Jw(t._key,cs.none())])}function cF(t,e){const n=$s(t.firestore,_c),i=lc(t),r=WA(t.converter,e);return gv(n,[VA(dv(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,cs.exists(!1))]).then(()=>i)}function gv(t,e){return function(i,r){const s=new Ca;return i.asyncQueue.enqueueAndForget(async()=>k6(await z6(i),r,s)),s.promise}(px(t),e)}function dF(t,e,n){const i=n.docs.get(e._key),r=new KA(t);return new qA(t,r,e._key,i,new qh(n.hasPendingWrites,n.fromCache),e.converter)}function hF(){return new _x("serverTimestamp")}(function(e,n=!0){(function(r){Kd=r})(Gd),Nd(new oc("firestore",(i,{instanceIdentifier:r,options:s})=>{const l=i.getProvider("app").getImmediate(),c=new _c(new i9(i.getProvider("auth-internal")),new a9(i.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Be(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(p.options.projectId,m)}(l,r),l);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),nu(VS,"4.7.6",e),nu(VS,"4.7.6","esm2017")})();function zr(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}const fF=t=>t.replace(/\D/g,"").slice(0,16).replace(/(\d{4})/g,"$1 ").trim(),pF=t=>{t.addToCart()};function QA(t){const e=["wine","champagne","whiskey","vodka","delicacy","glass","candle","cheese","cookie","sauce"].filter(n=>n!==t);return e[Math.floor(Math.random()*e.length)]}const mF=async()=>{try{return navigator.clipboard.writeText(window.location.href),window.location.href}catch(t){return console.error("Failed to copy: ",t),"failed to copy"}};function gF(t){if(!t)return null;const e=["Bulgaria","England","Finland","France","Greece","Ireland","Italy","Poland","Scotland","Spain","Sweden","Switzerland","Ukraine"],n=["Japan","Thailand"],i=["Australia","Canada","Madagascar","USA"];return e.includes(t)?"europe":n.includes(t)?"asia":i.includes(t)?"other":null}function vF(t){if(t&&t.length>0){const e=t.reduce((n,i)=>n+i.rating,0);return Math.round(e/t.length*10)/10}else return 5}const _F=t=>{if(t instanceof Vn&&(t=t.toDate()),!(t instanceof Date))return"Invalid date format";const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${e}.${n}.${i} ${r}:${s}`};function yF(t){return`${t}?t=${new Date().getTime()}`}function Xf(t){return`/wineset/${t.replace(/^\.?\//,"")}`}const wF=t=>t.map(e=>` ${e.kindOfProduct}: ${e.name}  ${e.cartQuantity}   ${e.price} = ${e.cartQuantity*e.price} ( ${e.discount}%)`).join(`
`);function xF(t){return t.id!==void 0}function bF(t){return t.path!==void 0}const SF=()=>{const t=new Date,e=t.getDate(),n=t.getMonth()+1;return[{day:1,month:1},{day:8,month:3},{day:11,month:5},{day:4,month:10}].some(r=>r.day===e&&r.month===n)},In={hidden:{opacity:0,y:-80},visible:t=>({opacity:1,y:0,transition:{delay:t*.2}})},sc={hidden:{opacity:0,x:200},visible:t=>({opacity:1,x:0,transition:{delay:t*.1}})},_m={hidden:{width:0},visible:t=>({width:`${t}px`})};function _g({message:t}){return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"myContainer py-[20px] text-center text-[60px] font-[Cormorant] font-bold flex gap-10 justify-between items-center max-[500px]:flex-col max-[500px]:text-[40px] max-[500px]:pt-[20px]",children:[w.jsx(Ge.h3,{variants:In,className:"flex-1/2",children:t}),w.jsx(Ge.div,{variants:sc,className:"flex-1/2",children:w.jsx("img",{src:Xf("/ErrorPage/cat-w-wine.jpg"),alt:"cat"})})]})}function TF(){const t=ja();return B.useLayoutEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");const e=sessionStorage.getItem(t.pathname);e?window.scrollTo(0,Number(e)):window.scrollTo(0,0);const n=()=>{sessionStorage.setItem(t.pathname,window.scrollY.toString())},i=()=>{const r=sessionStorage.getItem(t.pathname);r&&window.scrollTo(0,Number(r))};return window.addEventListener("beforeunload",n),window.addEventListener("load",i),()=>{n(),window.removeEventListener("beforeunload",n),window.removeEventListener("load",i)}},[t]),null}var Gh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var EF=Gh.exports,TT;function PF(){return TT||(TT=1,function(t,e){(function(n,i){i(e)})(EF,function(n){var i="1.9.4";function r(a){var h,_,b,A;for(_=1,b=arguments.length;_<b;_++){A=arguments[_];for(h in A)a[h]=A[h]}return a}var s=Object.create||function(){function a(){}return function(h){return a.prototype=h,new a}}();function l(a,h){var _=Array.prototype.slice;if(a.bind)return a.bind.apply(a,_.call(arguments,1));var b=_.call(arguments,2);return function(){return a.apply(h,b.length?b.concat(_.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function p(a,h,_){var b,A,j,Y;return Y=function(){b=!1,A&&(j.apply(_,A),A=!1)},j=function(){b?A=arguments:(a.apply(_,arguments),setTimeout(Y,h),b=!0)},j}function m(a,h,_){var b=h[1],A=h[0],j=b-A;return a===b&&_?a:((a-A)%j+j)%j+A}function v(){return!1}function x(a,h){if(h===!1)return a;var _=Math.pow(10,h===void 0?6:h);return Math.round(a*_)/_}function T(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function I(a){return T(a).split(/\s+/)}function C(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var _ in h)a.options[_]=h[_];return a.options}function k(a,h,_){var b=[];for(var A in a)b.push(encodeURIComponent(_?A.toUpperCase():A)+"="+encodeURIComponent(a[A]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function F(a,h){return a.replace(R,function(_,b){var A=h[b];if(A===void 0)throw new Error("No value provided for variable "+_);return typeof A=="function"&&(A=A(h)),A})}var D=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Z(a,h){for(var _=0;_<a.length;_++)if(a[_]===h)return _;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var U=0;function N(a){var h=+new Date,_=Math.max(0,16-(h-U));return U=h+_,window.setTimeout(a,_)}var V=window.requestAnimationFrame||Q("RequestAnimationFrame")||N,z=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function G(a,h,_){if(_&&V===N)a.call(h);else return V.call(window,l(a,h))}function q(a){a&&z.call(window,a)}var $={__proto__:null,extend:r,create:s,bind:l,get lastId(){return c},stamp:d,throttle:p,wrapNum:m,falseFn:v,formatNum:x,trim:T,splitWords:I,setOptions:C,getParamString:k,template:F,isArray:D,indexOf:Z,emptyImageUrl:H,requestFn:V,cancelFn:z,requestAnimFrame:G,cancelAnimFrame:q};function xe(){}xe.extend=function(a){var h=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,b=s(_);b.constructor=h,h.prototype=b;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(h[A]=this[A]);return a.statics&&r(h,a.statics),a.includes&&(Oe(a.includes),r.apply(null,[b].concat(a.includes))),r(b,a),delete b.statics,delete b.includes,b.options&&(b.options=_.options?s(_.options):{},r(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,Y=b._initHooks.length;j<Y;j++)b._initHooks[j].call(this)}},h},xe.include=function(a){var h=this.prototype.options;return r(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},xe.mergeOptions=function(a){return r(this.prototype.options,a),this},xe.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),_=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function Oe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=D(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(a,h,_){if(typeof a=="object")for(var b in a)this._on(b,a[b],h);else{a=I(a);for(var A=0,j=a.length;A<j;A++)this._on(a[A],h,_)}return this},off:function(a,h,_){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],h);else{a=I(a);for(var A=arguments.length===1,j=0,Y=a.length;j<Y;j++)A?this._off(a[j]):this._off(a[j],h,_)}return this},_on:function(a,h,_,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,_)===!1){_===this&&(_=void 0);var A={fn:h,ctx:_};b&&(A.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(A)}},_off:function(a,h,_){var b,A,j;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(A=0,j=b.length;A<j;A++)b[A].fn=v;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Y=this._listens(a,h,_);if(Y!==!1){var se=b[Y];this._firingCount&&(se.fn=v,this._events[a]=b=b.slice()),b.splice(Y,1)}}},fire:function(a,h,_){if(!this.listens(a,_))return this;var b=r({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var A=this._events[a];if(A){this._firingCount=this._firingCount+1||1;for(var j=0,Y=A.length;j<Y;j++){var se=A[j],de=se.fn;se.once&&this.off(a,de,se.ctx),de.call(se.ctx||this,b)}this._firingCount--}}return _&&this._propagateEvent(b),this},listens:function(a,h,_,b){typeof a!="string"&&console.warn('"string" type argument expected');var A=h;typeof h!="function"&&(b=!!h,A=void 0,_=void 0);var j=this._events&&this._events[a];if(j&&j.length&&this._listens(a,A,_)!==!1)return!0;if(b){for(var Y in this._eventParents)if(this._eventParents[Y].listens(a,h,_,b))return!0}return!1},_listens:function(a,h,_){if(!this._events)return!1;var b=this._events[a]||[];if(!h)return!!b.length;_===this&&(_=void 0);for(var A=0,j=b.length;A<j;A++)if(b[A].fn===h&&b[A].ctx===_)return A;return!1},once:function(a,h,_){if(typeof a=="object")for(var b in a)this._on(b,a[b],h,!0);else{a=I(a);for(var A=0,j=a.length;A<j;A++)this._on(a[A],h,_,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,r({layer:a.target,propagatedFrom:a.target},a),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var Pe=xe.extend(Re);function ie(a,h,_){this.x=_?Math.round(a):a,this.y=_?Math.round(h):h}var _e=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(a){return this.clone()._add(ae(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ae(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ie(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ie(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_e(this.x),this.y=_e(this.y),this},distanceTo:function(a){a=ae(a);var h=a.x-this.x,_=a.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(a){return a=ae(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ae(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function ae(a,h,_){return a instanceof ie?a:D(a)?new ie(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ie(a.x,a.y):new ie(a,h,_)}function ee(a,h){if(a)for(var _=h?[a,h]:a,b=0,A=_.length;b<A;b++)this.extend(_[b])}ee.prototype={extend:function(a){var h,_;if(!a)return this;if(a instanceof ie||typeof a[0]=="number"||"x"in a)h=_=ae(a);else if(a=ce(a),h=a.min,_=a.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(a){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,_;return typeof a[0]=="number"||a instanceof ie?a=ae(a):a=ce(a),a instanceof ee?(h=a.min,_=a.max):h=_=a,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(a){a=ce(a);var h=this.min,_=this.max,b=a.min,A=a.max,j=A.x>=h.x&&b.x<=_.x,Y=A.y>=h.y&&b.y<=_.y;return j&&Y},overlaps:function(a){a=ce(a);var h=this.min,_=this.max,b=a.min,A=a.max,j=A.x>h.x&&b.x<_.x,Y=A.y>h.y&&b.y<_.y;return j&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,_=this.max,b=Math.abs(h.x-_.x)*a,A=Math.abs(h.y-_.y)*a;return ce(ae(h.x-b,h.y-A),ae(_.x+b,_.y+A))},equals:function(a){return a?(a=ce(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ce(a,h){return!a||a instanceof ee?a:new ee(a,h)}function Ee(a,h){if(a)for(var _=h?[a,h]:a,b=0,A=_.length;b<A;b++)this.extend(_[b])}Ee.prototype={extend:function(a){var h=this._southWest,_=this._northEast,b,A;if(a instanceof Le)b=a,A=a;else if(a instanceof Ee){if(b=a._southWest,A=a._northEast,!b||!A)return this}else return a?this.extend(Ce(a)||De(a)):this;return!h&&!_?(this._southWest=new Le(b.lat,b.lng),this._northEast=new Le(A.lat,A.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),_.lat=Math.max(A.lat,_.lat),_.lng=Math.max(A.lng,_.lng)),this},pad:function(a){var h=this._southWest,_=this._northEast,b=Math.abs(h.lat-_.lat)*a,A=Math.abs(h.lng-_.lng)*a;return new Ee(new Le(h.lat-b,h.lng-A),new Le(_.lat+b,_.lng+A))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Le||"lat"in a?a=Ce(a):a=De(a);var h=this._southWest,_=this._northEast,b,A;return a instanceof Ee?(b=a.getSouthWest(),A=a.getNorthEast()):b=A=a,b.lat>=h.lat&&A.lat<=_.lat&&b.lng>=h.lng&&A.lng<=_.lng},intersects:function(a){a=De(a);var h=this._southWest,_=this._northEast,b=a.getSouthWest(),A=a.getNorthEast(),j=A.lat>=h.lat&&b.lat<=_.lat,Y=A.lng>=h.lng&&b.lng<=_.lng;return j&&Y},overlaps:function(a){a=De(a);var h=this._southWest,_=this._northEast,b=a.getSouthWest(),A=a.getNorthEast(),j=A.lat>h.lat&&b.lat<_.lat,Y=A.lng>h.lng&&b.lng<_.lng;return j&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=De(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(a,h){return a instanceof Ee?a:new Ee(a,h)}function Le(a,h,_){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,_!==void 0&&(this.alt=+_)}Le.prototype={equals:function(a,h){if(!a)return!1;a=Ce(a);var _=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return _<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return Qe.distance(this,Ce(a))},wrap:function(){return Qe.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,_=h/Math.cos(Math.PI/180*this.lat);return De([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function Ce(a,h,_){return a instanceof Le?a:D(a)&&typeof a[0]!="object"?a.length===3?new Le(a[0],a[1],a[2]):a.length===2?new Le(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Le(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new Le(a,h,_)}var Xe={latLngToPoint:function(a,h){var _=this.projection.project(a),b=this.scale(h);return this.transformation._transform(_,b)},pointToLatLng:function(a,h){var _=this.scale(h),b=this.transformation.untransform(a,_);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(a),b=this.transformation.transform(h.min,_),A=this.transformation.transform(h.max,_);return new ee(b,A)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?m(a.lng,this.wrapLng,!0):a.lng,_=this.wrapLat?m(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Le(_,h,b)},wrapLatLngBounds:function(a){var h=a.getCenter(),_=this.wrapLatLng(h),b=h.lat-_.lat,A=h.lng-_.lng;if(b===0&&A===0)return a;var j=a.getSouthWest(),Y=a.getNorthEast(),se=new Le(j.lat-b,j.lng-A),de=new Le(Y.lat-b,Y.lng-A);return new Ee(se,de)}},Qe=r({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var _=Math.PI/180,b=a.lat*_,A=h.lat*_,j=Math.sin((h.lat-a.lat)*_/2),Y=Math.sin((h.lng-a.lng)*_/2),se=j*j+Math.cos(b)*Math.cos(A)*Y*Y,de=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*de}}),Tt=6378137,Xt={R:Tt,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,_=this.MAX_LATITUDE,b=Math.max(Math.min(_,a.lat),-_),A=Math.sin(b*h);return new ie(this.R*a.lng*h,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(a){var h=180/Math.PI;return new Le((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:function(){var a=Tt*Math.PI;return new ee([-a,-a],[a,a])}()};function jn(a,h,_,b){if(D(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=_,this._d=b}jn.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new ie((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function ni(a,h,_,b){return new jn(a,h,_,b)}var ii=r({},Qe,{code:"EPSG:3857",projection:Xt,transformation:function(){var a=.5/(Math.PI*Xt.R);return ni(a,.5,-a,.5)}()}),Di=r({},ii,{code:"EPSG:900913"});function Ur(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Lo(a,h){var _="",b,A,j,Y,se,de;for(b=0,j=a.length;b<j;b++){for(se=a[b],A=0,Y=se.length;A<Y;A++)de=se[A],_+=(A?"L":"M")+de.x+" "+de.y;_+=h?$e.svg?"z":"x":""}return _||"M0 0"}var Gs=document.documentElement.style,X="ActiveXObject"in window,ue=X&&!document.addEventListener,pe="msLaunchUri"in navigator&&!("documentMode"in document),ke=Kn("webkit"),Ie=Kn("android"),Se=Kn("android 2")||Kn("android 3"),We=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ft=Ie&&Kn("Google")&&We<537&&!("AudioNode"in window),vt=!!window.opera,yt=!pe&&Kn("chrome"),xn=Kn("gecko")&&!ke&&!vt&&!X,Oo=!yt&&Kn("safari"),Vi=Kn("phantom"),Ji="OTransition"in Gs,fs=navigator.platform.indexOf("Win")===0,ps=X&&"transition"in Gs,ms="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,gs="MozPerspective"in Gs,vu=!window.L_DISABLE_3D&&(ps||ms||gs)&&!Ji&&!Vi,vs=typeof orientation<"u"||Kn("mobile"),No=vs&&ke,$a=vs&&ms,Mo=!window.PointerEvent&&window.MSPointerEvent,ji=!!(window.PointerEvent||Mo),Pr="ontouchstart"in window||!!window.TouchEvent,Ha=!window.L_NO_TOUCH&&(Pr||ji),$r=vs&&vt,_u=vs&&xn,Do=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yu=function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",v,h),window.removeEventListener("testPassiveEventSupport",v,h)}catch{}return a}(),_s=function(){return!!document.createElement("canvas").getContext}(),Vo=!!(document.createElementNS&&Ur("svg").createSVGRect),ln=!!Vo&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wa=!Vo&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Cr=navigator.platform.indexOf("Mac")===0,jo=navigator.platform.indexOf("Linux")===0;function Kn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var $e={ie:X,ielt9:ue,edge:pe,webkit:ke,android:Ie,android23:Se,androidStock:ft,opera:vt,chrome:yt,gecko:xn,safari:Oo,phantom:Vi,opera12:Ji,win:fs,ie3d:ps,webkit3d:ms,gecko3d:gs,any3d:vu,mobile:vs,mobileWebkit:No,mobileWebkit3d:$a,msPointer:Mo,pointer:ji,touch:Ha,touchNative:Pr,mobileOpera:$r,mobileGecko:_u,retina:Do,passiveEvents:yu,canvas:_s,svg:Vo,vml:Wa,inlineSvg:ln,mac:Cr,linux:jo},er=$e.msPointer?"MSPointerDown":"pointerdown",qa=$e.msPointer?"MSPointerMove":"pointermove",wc=$e.msPointer?"MSPointerUp":"pointerup",Fo=$e.msPointer?"MSPointerCancel":"pointercancel",Ga={touchstart:er,touchmove:qa,touchend:wc,touchcancel:Fo},tr={touchstart:Kt,touchmove:Ya,touchend:Ya,touchcancel:Ya},nr={},ir=!1;function xc(a,h,_){return h==="touchstart"&&bc(),tr[h]?(_=tr[h].bind(this,_),a.addEventListener(Ga[h],_,!1),_):(console.warn("wrong event specified:",h),v)}function wu(a,h,_){if(!Ga[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(Ga[h],_,!1)}function Ka(a){nr[a.pointerId]=a}function Za(a){nr[a.pointerId]&&(nr[a.pointerId]=a)}function Qa(a){delete nr[a.pointerId]}function bc(){ir||(document.addEventListener(er,Ka,!0),document.addEventListener(qa,Za,!0),document.addEventListener(wc,Qa,!0),document.addEventListener(Fo,Qa,!0),ir=!0)}function Ya(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in nr)h.touches.push(nr[_]);h.changedTouches=[h],a(h)}}function Kt(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Wt(h),Ya(a,h)}function Sc(a){var h={},_,b;for(b in a)_=a[b],h[b]=_&&_.bind?_.bind(a):_;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Bo=200;function Ks(a,h){a.addEventListener("dblclick",h);var _=0,b;function A(j){if(j.detail!==1){b=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var Y=Wr(j);if(!(Y.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!Y.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var se=Date.now();se-_<=Bo?(b++,b===2&&h(Sc(j))):b=1,_=se}}}return a.addEventListener("click",A),{dblclick:h,simDblclick:A}}function rr(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var zo=Ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zs=Ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qs=Zs==="webkitTransition"||Zs==="OTransition"?Zs+"End":"transitionend";function vi(a){return typeof a=="string"?document.getElementById(a):a}function Ys(a,h){var _=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);_=b?b[h]:null}return _==="auto"?null:_}function lt(a,h,_){var b=document.createElement(a);return b.className=h||"",_&&_.appendChild(b),b}function $t(a){var h=a.parentNode;h&&h.removeChild(a)}function Uo(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ys(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function Ir(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function Xs(a,h){if(a.classList!==void 0)return a.classList.contains(h);var _=sr(a);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function at(a,h){if(a.classList!==void 0)for(var _=I(h),b=0,A=_.length;b<A;b++)a.classList.add(_[b]);else if(!Xs(a,h)){var j=sr(a);xu(a,(j?j+" ":"")+h)}}function Ht(a,h){a.classList!==void 0?a.classList.remove(h):xu(a,T((" "+sr(a)+" ").replace(" "+h+" "," ")))}function xu(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function sr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Jt(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&$o(a,h)}function $o(a,h){var _=!1,b="DXImageTransform.Microsoft.Alpha";try{_=a.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):a.style.filter+=" progid:"+b+"(opacity="+h+")"}function Ar(a){for(var h=document.documentElement.style,_=0;_<a.length;_++)if(a[_]in h)return a[_];return!1}function _i(a,h,_){var b=h||new ie(0,0);a.style[zo]=($e.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(_?" scale("+_+")":"")}function ut(a,h){a._leaflet_pos=h,$e.any3d?_i(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function yi(a){return a._leaflet_pos||new ie(0,0)}var wt,or,Xa;if("onselectstart"in document)wt=function(){Ke(window,"selectstart",Wt)},or=function(){Vt(window,"selectstart",Wt)};else{var Hr=Ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wt=function(){if(Hr){var a=document.documentElement.style;Xa=a[Hr],a[Hr]="none"}},or=function(){Hr&&(document.documentElement.style[Hr]=Xa,Xa=void 0)}}function Ja(){Ke(window,"dragstart",Wt)}function el(){Vt(window,"dragstart",Wt)}var Ho,Wo;function ar(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(mn(),Ho=a,Wo=a.style.outlineStyle,a.style.outlineStyle="none",Ke(window,"keydown",mn))}function mn(){Ho&&(Ho.style.outlineStyle=Wo,Ho=void 0,Wo=void 0,Vt(window,"keydown",mn))}function lr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Fi(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var Js={__proto__:null,TRANSFORM:zo,TRANSITION:Zs,TRANSITION_END:Qs,get:vi,getStyle:Ys,create:lt,remove:$t,empty:Uo,toFront:ys,toBack:Ir,hasClass:Xs,addClass:at,removeClass:Ht,setClass:xu,getClass:sr,setOpacity:Jt,testProp:Ar,setTransform:_i,setPosition:ut,getPosition:yi,get disableTextSelection(){return wt},get enableTextSelection(){return or},disableImageDrag:Ja,enableImageDrag:el,preventOutline:ar,restoreOutline:mn,getSizedParentNode:lr,getScale:Fi};function Ke(a,h,_,b){if(h&&typeof h=="object")for(var A in h)Su(a,A,h[A],_);else{h=I(h);for(var j=0,Y=h.length;j<Y;j++)Su(a,h[j],_,b)}return this}var bn="_leaflet_events";function Vt(a,h,_,b){if(arguments.length===1)bu(a),delete a[bn];else if(h&&typeof h=="object")for(var A in h)tl(a,A,h[A],_);else if(h=I(h),arguments.length===2)bu(a,function(se){return Z(h,se)!==-1});else for(var j=0,Y=h.length;j<Y;j++)tl(a,h[j],_,b);return this}function bu(a,h){for(var _ in a[bn]){var b=_.split(/\d/)[0];(!h||h(b))&&tl(a,b,null,null,_)}}var Zn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Su(a,h,_,b){var A=h+d(_)+(b?"_"+d(b):"");if(a[bn]&&a[bn][A])return this;var j=function(se){return _.call(b||a,se||window.event)},Y=j;!$e.touchNative&&$e.pointer&&h.indexOf("touch")===0?j=xc(a,h,j):$e.touch&&h==="dblclick"?j=Ks(a,j):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(Zn[h]||h,j,$e.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(j=function(se){se=se||window.event,qo(a,se)&&Y(se)},a.addEventListener(Zn[h],j,!1)):a.addEventListener(h,Y,!1):a.attachEvent("on"+h,j),a[bn]=a[bn]||{},a[bn][A]=j}function tl(a,h,_,b,A){A=A||h+d(_)+(b?"_"+d(b):"");var j=a[bn]&&a[bn][A];if(!j)return this;!$e.touchNative&&$e.pointer&&h.indexOf("touch")===0?wu(a,h,j):$e.touch&&h==="dblclick"?rr(a,j):"removeEventListener"in a?a.removeEventListener(Zn[h]||h,j,!1):a.detachEvent("on"+h,j),a[bn][A]=null}function ri(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ws(a){return Su(a,"wheel",ri),this}function eo(a){return Ke(a,"mousedown touchstart dblclick contextmenu",ri),a._leaflet_disable_click=!0,this}function Wt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Fn(a){return Wt(a),ri(a),this}function Wr(a){if(a.composedPath)return a.composedPath();for(var h=[],_=a.target;_;)h.push(_),_=_.parentNode;return h}function xs(a,h){if(!h)return new ie(a.clientX,a.clientY);var _=Fi(h),b=_.boundingClientRect;return new ie((a.clientX-b.left)/_.x-h.clientLeft,(a.clientY-b.top)/_.y-h.clientTop)}var en=$e.linux&&$e.chrome?window.devicePixelRatio:$e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tc(a){return $e.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/en:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function qo(a,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==a;)_=_.parentNode}catch{return!1}return _!==a}var Go={__proto__:null,on:Ke,off:Vt,stopPropagation:ri,disableScrollPropagation:ws,disableClickPropagation:eo,preventDefault:Wt,stop:Fn,getPropagationPath:Wr,getMousePosition:xs,getWheelDelta:Tc,isExternalTarget:qo,addListener:Ke,removeListener:Vt},Ko=Pe.extend({run:function(a,h,_,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=yi(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var _=this._startPos.add(this._offset.multiplyBy(a));h&&_._round(),ut(this._el,_),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),xt=Pe.extend({options:{crs:ii,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=C(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Ce(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zs&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,Qs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(Ce(a),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=r({animate:_.animate},_.zoom),_.pan=r({animate:_.animate,duration:_.duration},_.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,_.zoom):this._tryAnimatedPan(a,_.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,_){var b=this.getZoomScale(h),A=this.getSize().divideBy(2),j=a instanceof ie?a:this.latLngToContainerPoint(a),Y=j.subtract(A).multiplyBy(1-1/b),se=this.containerPointToLatLng(A.add(Y));return this.setView(se,h,{zoom:_})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():De(a);var _=ae(h.paddingTopLeft||h.padding||[0,0]),b=ae(h.paddingBottomRight||h.padding||[0,0]),A=this.getBoundsZoom(a,!1,_.add(b));if(A=typeof h.maxZoom=="number"?Math.min(h.maxZoom,A):A,A===1/0)return{center:a.getCenter(),zoom:A};var j=b.subtract(_).divideBy(2),Y=this.project(a.getSouthWest(),A),se=this.project(a.getNorthEast(),A),de=this.unproject(Y.add(se).divideBy(2).add(j),A);return{center:de,zoom:A}},fitBounds:function(a,h){if(a=De(a),!a.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(a,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=ae(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ko,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){at(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,_){if(_=_||{},_.animate===!1||!$e.any3d)return this.setView(a,h,_);this._stop();var b=this.project(this.getCenter()),A=this.project(a),j=this.getSize(),Y=this._zoom;a=Ce(a),h=h===void 0?Y:h;var se=Math.max(j.x,j.y),de=se*this.getZoomScale(Y,h),ve=A.distanceTo(b)||1,Me=1.42,Je=Me*Me;function _t(Ft){var xl=Ft?-1:1,Dv=Ft?de:se,Vv=de*de-se*se+xl*Je*Je*ve*ve,ta=2*Dv*Je*ve,na=Vv/ta,ia=Math.sqrt(na*na+1)-na,jc=ia<1e-9?-18:Math.log(ia);return jc}function Bn(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function Ln(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function Ui(Ft){return Bn(Ft)/Ln(Ft)}var bi=_t(0);function yl(Ft){return se*(Ln(bi)/Ln(bi+Me*Ft))}function gh(Ft){return se*(Ln(bi)*Ui(bi+Me*Ft)-Bn(bi))/Je}function so(Ft){return 1-Math.pow(1-Ft,1.5)}var bp=Date.now(),ea=(_t(1)-bi)/Me,Qr=_.duration?1e3*_.duration:1e3*ea*.8;function wl(){var Ft=(Date.now()-bp)/Qr,xl=so(Ft)*ea;Ft<=1?(this._flyToFrame=G(wl,this),this._move(this.unproject(b.add(A.subtract(b).multiplyBy(gh(xl)/ve)),Y),this.getScaleZoom(se/yl(xl),Y),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),wl.call(this),this},flyToBounds:function(a,h){var _=this._getBoundsCenterZoom(a,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(a){return a=De(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var _=this.getCenter(),b=this._limitCenter(_,this._zoom,De(a));return _.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var _=ae(h.paddingTopLeft||h.padding||[0,0]),b=ae(h.paddingBottomRight||h.padding||[0,0]),A=this.project(this.getCenter()),j=this.project(a),Y=this.getPixelBounds(),se=ce([Y.min.add(_),Y.max.subtract(b)]),de=se.getSize();if(!se.contains(j)){this._enforcingBounds=!0;var ve=j.subtract(se.getCenter()),Me=se.extend(j).getSize().subtract(de);A.x+=ve.x<0?-Me.x:Me.x,A.y+=ve.y<0?-Me.y:Me.y,this.panTo(this.unproject(A),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=r({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),b=h.divideBy(2).round(),A=_.divideBy(2).round(),j=b.subtract(A);return!j.x&&!j.y?this:(a.animate&&a.pan?this.panBy(j):(a.pan&&this._rawPanBy(j),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=r({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=l(this._handleGeolocationResponse,this),_=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,a):navigator.geolocation.getCurrentPosition(h,_,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,_=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,_=a.coords.longitude,b=new Le(h,_),A=b.toBounds(a.coords.accuracy*2),j=this._locateOptions;if(j.setView){var Y=this.getBoundsZoom(A);this.setView(b,j.maxZoom?Math.min(Y,j.maxZoom):Y)}var se={latlng:b,bounds:A,timestamp:a.timestamp};for(var de in a.coords)typeof a.coords[de]=="number"&&(se[de]=a.coords[de]);this.fire("locationfound",se)}},addHandler:function(a,h){if(!h)return this;var _=this[a]=new h(this);return this._handlers.push(_),this.options[a]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)$t(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var _="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=lt("div",_,h||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),_=this.unproject(a.getTopRight());return new Ee(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,_){a=De(a),_=ae(_||[0,0]);var b=this.getZoom()||0,A=this.getMinZoom(),j=this.getMaxZoom(),Y=a.getNorthWest(),se=a.getSouthEast(),de=this.getSize().subtract(_),ve=ce(this.project(se,b),this.project(Y,b)).getSize(),Me=$e.any3d?this.options.zoomSnap:1,Je=de.x/ve.x,_t=de.y/ve.y,Bn=h?Math.max(Je,_t):Math.min(Je,_t);return b=this.getScaleZoom(Bn,b),Me&&(b=Math.round(b/(Me/100))*(Me/100),b=h?Math.ceil(b/Me)*Me:Math.floor(b/Me)*Me),Math.max(A,Math.min(j,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var _=this._getTopLeftPoint(a,h);return new ee(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(a)/_.scale(h)},getScaleZoom:function(a,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var b=_.zoom(a*_.scale(h));return isNaN(b)?1/0:b},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Ce(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(ae(a),h)},layerPointToLatLng:function(a){var h=ae(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(Ce(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ce(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(De(a))},distance:function(a,h){return this.options.crs.distance(Ce(a),Ce(h))},containerPointToLayerPoint:function(a){return ae(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ae(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(ae(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ce(a)))},mouseEventToContainerPoint:function(a){return xs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=vi(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ke(h,"scroll",this._onScroll,this),this._containerId=d(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,at(a,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Ys(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(at(a.markerPane,"leaflet-zoom-hide"),at(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,_){ut(this._mapPane,new ie(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var A=this._zoom!==h;this._moveStart(A,_)._move(a,h)._moveEnd(A),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,_,b){h===void 0&&(h=this._zoom);var A=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?_&&_.pinch&&this.fire("zoom",_):((A||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ut(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var h=a?Vt:Ke;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var _=[],b,A=h==="mouseout"||h==="mouseover",j=a.target||a.srcElement,Y=!1;j;){if(b=this._targets[d(j)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){Y=!0;break}if(b&&b.listens(h,!0)&&(A&&!qo(j,a)||(_.push(b),A))||j===this._container)break;j=j.parentNode}return!_.length&&!Y&&!A&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var _=a.type;_==="mousedown"&&ar(h),this._fireDOMEvent(a,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,_){if(a.type==="click"){var b=r({},a);b.type="preclick",this._fireDOMEvent(b,b.type,_)}var A=this._findEventTargets(a,h);if(_){for(var j=[],Y=0;Y<_.length;Y++)_[Y].listens(h,!0)&&j.push(_[Y]);A=j.concat(A)}if(A.length){h==="contextmenu"&&Wt(a);var se=A[0],de={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ve=se.getLatLng&&(!se._radius||se._radius<=10);de.containerPoint=ve?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(a),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=ve?se.getLatLng():this.layerPointToLatLng(de.layerPoint)}for(Y=0;Y<A.length;Y++)if(A[Y].fire(h,de,!0),de.originalEvent._stopped||A[Y].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return yi(this._mapPane)||new ie(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var _=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var _=this.getSize()._divideBy(2);return this.project(a,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,_){var b=this._getNewPixelOrigin(_,h);return this.project(a,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,h,_){var b=this._getNewPixelOrigin(_,h);return ce([this.project(a.getSouthWest(),h)._subtract(b),this.project(a.getNorthWest(),h)._subtract(b),this.project(a.getSouthEast(),h)._subtract(b),this.project(a.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,_){if(!_)return a;var b=this.project(a,h),A=this.getSize().divideBy(2),j=new ee(b.subtract(A),b.add(A)),Y=this._getBoundsOffset(j,_,h);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?a:this.unproject(b.add(Y),h)},_limitOffset:function(a,h){if(!h)return a;var _=this.getPixelBounds(),b=new ee(_.min.add(a),_.max.add(a));return a.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(a,h,_){var b=ce(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),A=b.min.subtract(a.min),j=b.max.subtract(a.max),Y=this._rebound(A.x,-j.x),se=this._rebound(A.y,-j.y);return new ie(Y,se)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),_=this.getMaxZoom(),b=$e.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(h,Math.min(_,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var _=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var a=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var _=zo,b=this._proxy.style[_];_i(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();_i(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),A=this._getCenterOffset(a)._divideBy(1-1/b);return _.animate!==!0&&!this.getSize().contains(A)?!1:(G(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,_,b){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,at(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bi(a,h){return new xt(a,h)}var Qn=xe.extend({options:{position:"topright"},initialize:function(a){C(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),_=this.getPosition(),b=a._controlCorners[_];return at(h,"leaflet-control"),_.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),An=function(a){return new Qn(a)};xt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",_=this._controlContainer=lt("div",h+"control-container",this._container);function b(A,j){var Y=h+A+" "+h+j;a[A+j]=lt("div",Y,_)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)$t(this._controlCorners[a]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nl=Qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,_,b){return _<b?-1:b<_?1:0}},initialize:function(a,h,_){C(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Qn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(d(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){at(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(at(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=lt("div",a),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),eo(h),ws(h);var b=this._section=lt("section",a+"-list");_&&(this._map.on("click",this.collapse,this),Ke(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=lt("a",a+"-toggle",h);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ke(A,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){Wt(j),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=lt("div",a+"-base",b),this._separator=lt("div",a+"-separator",b),this._overlaysList=lt("div",a+"-overlays",b),h.appendChild(b)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&d(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,_){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(l(function(b,A){return this.options.sortFunction(b.layer,A.layer,b.name,A.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Uo(this._baseLayersList),Uo(this._overlaysList),this._layerControlInputs=[];var a,h,_,b,A=0;for(_=0;_<this._layers.length;_++)b=this._layers[_],this._addItem(b),h=h||b.overlay,a=a||!b.overlay,A+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&A>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(d(a.target)),_=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(a,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=_,b.firstChild},_addItem:function(a){var h=document.createElement("label"),_=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=_):b=this._createRadioElement("leaflet-base-layers_"+d(this),_),this._layerControlInputs.push(b),b.layerId=d(a.layer),Ke(b,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+a.name;var j=document.createElement("span");h.appendChild(j),j.appendChild(b),j.appendChild(A);var Y=a.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,_,b=[],A=[];this._handlingClick=!0;for(var j=a.length-1;j>=0;j--)h=a[j],_=this._getLayer(h.layerId).layer,h.checked?b.push(_):h.checked||A.push(_);for(j=0;j<A.length;j++)this._map.hasLayer(A[j])&&this._map.removeLayer(A[j]);for(j=0;j<b.length;j++)this._map.hasLayer(b[j])||this._map.addLayer(b[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,_,b=this._map.getZoom(),A=a.length-1;A>=0;A--)h=a[A],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&b<_.options.minZoom||_.options.maxZoom!==void 0&&b>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ke(a,"click",Wt),this.expand();var h=this;setTimeout(function(){Vt(a,"click",Wt),h._preventClick=!1})}}),il=function(a,h,_){return new nl(a,h,_)},ur=Qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",_=lt("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,_,b,A){var j=lt("a",_,b);return j.innerHTML=a,j.href="#",j.title=h,j.setAttribute("role","button"),j.setAttribute("aria-label",h),eo(j),Ke(j,"click",Fn),Ke(j,"click",A,this),Ke(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";Ht(this._zoomInButton,h),Ht(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(at(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(at(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ur,this.addControl(this.zoomControl))});var Tu=function(a){return new ur(a)},kn=Qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",_=lt("div",h),b=this.options;return this._addScales(b,h+"-line",_),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),_},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,_){a.metric&&(this._mScale=lt("div",h,_)),a.imperial&&(this._iScale=lt("div",h,_))},_update:function(){var a=this._map,h=a.getSize().y/2,_=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/a)},_updateImperial:function(a){var h=a*3.2808399,_,b,A;h>5280?(_=h/5280,b=this._getRoundNum(_),this._updateScale(this._iScale,b+" mi",b/_)):(A=this._getRoundNum(h),this._updateScale(this._iScale,A+" ft",A/h))},_updateScale:function(a,h,_){a.style.width=Math.round(this.options.maxWidth*_)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),_=a/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),kr=function(a){return new kn(a)},rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cr=Qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?rl+" ":"")+"Leaflet</a>"},initialize:function(a){C(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),eo(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),a.length&&_.push(a.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new cr().addTo(this)});var rh=function(a){return new cr(a)};Qn.Layers=nl,Qn.Zoom=ur,Qn.Scale=kn,Qn.Attribution=cr,An.layers=il,An.zoom=Tu,An.scale=kr,An.attribution=rh;var si=xe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(a,h){return a.addHandler(h,this),this};var bs={Events:Re},Ss=$e.touch?"touchstart mousedown":"mousedown",wi=Pe.extend({options:{clickTolerance:3},initialize:function(a,h,_,b){C(this,b),this._element=a,this._dragStartTarget=h||a,this._preventOutline=_},enable:function(){this._enabled||(Ke(this._dragStartTarget,Ss,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wi._dragging===this&&this.finishDrag(!0),Vt(this._dragStartTarget,Ss,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Xs(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){wi._dragging===this&&this.finishDrag();return}if(!(wi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(wi._dragging=this,this._preventOutline&&ar(this._element),Ja(),wt(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,_=lr(this._element);this._startPoint=new ie(h.clientX,h.clientY),this._startPos=yi(this._element),this._parentScale=Fi(_);var b=a.type==="mousedown";Ke(document,b?"mousemove":"touchmove",this._onMove,this),Ke(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,_=new ie(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Wt(a),this._moved||(this.fire("dragstart"),this._moved=!0,at(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),at(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),ut(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vt(document,"mousemove touchmove",this._onMove,this),Vt(document,"mouseup touchend touchcancel",this._onUp,this),el(),or();var h=this._moved&&this._moving;this._moving=!1,wi._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Zo(a,h,_){var b,A=[1,4,2,8],j,Y,se,de,ve,Me,Je,_t;for(j=0,Me=a.length;j<Me;j++)a[j]._code=qr(a[j],h);for(se=0;se<4;se++){for(Je=A[se],b=[],j=0,Me=a.length,Y=Me-1;j<Me;Y=j++)de=a[j],ve=a[Y],de._code&Je?ve._code&Je||(_t=Rn(ve,de,Je,h,_),_t._code=qr(_t,h),b.push(_t)):(ve._code&Je&&(_t=Rn(ve,de,Je,h,_),_t._code=qr(_t,h),b.push(_t)),b.push(de));a=b}return a}function sl(a,h){var _,b,A,j,Y,se,de,ve,Me;if(!a||a.length===0)throw new Error("latlngs not passed");g(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Je=Ce([0,0]),_t=De(a),Bn=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());Bn<1700&&(Je=ol(a));var Ln=a.length,Ui=[];for(_=0;_<Ln;_++){var bi=Ce(a[_]);Ui.push(h.project(Ce([bi.lat-Je.lat,bi.lng-Je.lng])))}for(se=de=ve=0,_=0,b=Ln-1;_<Ln;b=_++)A=Ui[_],j=Ui[b],Y=A.y*j.x-j.y*A.x,de+=(A.x+j.x)*Y,ve+=(A.y+j.y)*Y,se+=Y*3;se===0?Me=Ui[0]:Me=[de/se,ve/se];var yl=h.unproject(ae(Me));return Ce([yl.lat+Je.lat,yl.lng+Je.lng])}function ol(a){for(var h=0,_=0,b=0,A=0;A<a.length;A++){var j=Ce(a[A]);h+=j.lat,_+=j.lng,b++}return Ce([h/b,_/b])}var al={__proto__:null,clipPolygon:Zo,polygonCenter:sl,centroid:ol};function Qo(a,h){if(!h||!a.length)return a.slice();var _=h*h;return a=Pc(a,_),a=Ec(a,_),a}function Eu(a,h,_){return Math.sqrt(xi(a,h,_,!0))}function Ts(a,h,_){return xi(a,h,_)}function Ec(a,h){var _=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,A=new b(_);A[0]=A[_-1]=1,ll(a,A,h,0,_-1);var j,Y=[];for(j=0;j<_;j++)A[j]&&Y.push(a[j]);return Y}function ll(a,h,_,b,A){var j=0,Y,se,de;for(se=b+1;se<=A-1;se++)de=xi(a[se],a[b],a[A],!0),de>j&&(Y=se,j=de);j>_&&(h[Y]=1,ll(a,h,_,b,Y),ll(a,h,_,Y,A))}function Pc(a,h){for(var _=[a[0]],b=1,A=0,j=a.length;b<j;b++)Cc(a[b],a[A])>h&&(_.push(a[b]),A=b);return A<j-1&&_.push(a[j-1]),_}var ul;function Yo(a,h,_,b,A){var j=b?ul:qr(a,_),Y=qr(h,_),se,de,ve;for(ul=Y;;){if(!(j|Y))return[a,h];if(j&Y)return!1;se=j||Y,de=Rn(a,h,se,_,A),ve=qr(de,_),se===j?(a=de,j=ve):(h=de,Y=ve)}}function Rn(a,h,_,b,A){var j=h.x-a.x,Y=h.y-a.y,se=b.min,de=b.max,ve,Me;return _&8?(ve=a.x+j*(de.y-a.y)/Y,Me=de.y):_&4?(ve=a.x+j*(se.y-a.y)/Y,Me=se.y):_&2?(ve=de.x,Me=a.y+Y*(de.x-a.x)/j):_&1&&(ve=se.x,Me=a.y+Y*(se.x-a.x)/j),new ie(ve,Me,A)}function qr(a,h){var _=0;return a.x<h.min.x?_|=1:a.x>h.max.x&&(_|=2),a.y<h.min.y?_|=4:a.y>h.max.y&&(_|=8),_}function Cc(a,h){var _=h.x-a.x,b=h.y-a.y;return _*_+b*b}function xi(a,h,_,b){var A=h.x,j=h.y,Y=_.x-A,se=_.y-j,de=Y*Y+se*se,ve;return de>0&&(ve=((a.x-A)*Y+(a.y-j)*se)/de,ve>1?(A=_.x,j=_.y):ve>0&&(A+=Y*ve,j+=se*ve)),Y=a.x-A,se=a.y-j,b?Y*Y+se*se:new ie(A,j)}function g(a){return!D(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function E(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(a)}function O(a,h){var _,b,A,j,Y,se,de,ve;if(!a||a.length===0)throw new Error("latlngs not passed");g(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Me=Ce([0,0]),Je=De(a),_t=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());_t<1700&&(Me=ol(a));var Bn=a.length,Ln=[];for(_=0;_<Bn;_++){var Ui=Ce(a[_]);Ln.push(h.project(Ce([Ui.lat-Me.lat,Ui.lng-Me.lng])))}for(_=0,b=0;_<Bn-1;_++)b+=Ln[_].distanceTo(Ln[_+1])/2;if(b===0)ve=Ln[0];else for(_=0,j=0;_<Bn-1;_++)if(Y=Ln[_],se=Ln[_+1],A=Y.distanceTo(se),j+=A,j>b){de=(j-b)/A,ve=[se.x-de*(se.x-Y.x),se.y-de*(se.y-Y.y)];break}var bi=h.unproject(ae(ve));return Ce([bi.lat+Me.lat,bi.lng+Me.lng])}var W={__proto__:null,simplify:Qo,pointToSegmentDistance:Eu,closestPointOnSegment:Ts,clipSegment:Yo,_getEdgeIntersection:Rn,_getBitCode:qr,_sqClosestPointOnSegment:xi,isFlat:g,_flat:E,polylineCenter:O},re={project:function(a){return new ie(a.lng,a.lat)},unproject:function(a){return new Le(a.y,a.x)},bounds:new ee([-180,-90],[180,90])},fe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,_=this.R,b=a.lat*h,A=this.R_MINOR/_,j=Math.sqrt(1-A*A),Y=j*Math.sin(b),se=Math.tan(Math.PI/4-b/2)/Math.pow((1-Y)/(1+Y),j/2);return b=-_*Math.log(Math.max(se,1e-10)),new ie(a.lng*h*_,b)},unproject:function(a){for(var h=180/Math.PI,_=this.R,b=this.R_MINOR/_,A=Math.sqrt(1-b*b),j=Math.exp(-a.y/_),Y=Math.PI/2-2*Math.atan(j),se=0,de=.1,ve;se<15&&Math.abs(de)>1e-7;se++)ve=A*Math.sin(Y),ve=Math.pow((1-ve)/(1+ve),A/2),de=Math.PI/2-2*Math.atan(j*ve)-Y,Y+=de;return new Le(Y*h,a.x*h/_)}},Ae={__proto__:null,LonLat:re,Mercator:fe,SphericalMercator:Xt},Nt=r({},Qe,{code:"EPSG:3395",projection:fe,transformation:function(){var a=.5/(Math.PI*fe.R);return ni(a,.5,-a,.5)}()}),gn=r({},Qe,{code:"EPSG:4326",projection:re,transformation:ni(1/180,1,-1/180,.5)}),Et=r({},Xe,{projection:re,transformation:ni(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var _=h.lng-a.lng,b=h.lat-a.lat;return Math.sqrt(_*_+b*b)},infinite:!0});Xe.Earth=Qe,Xe.EPSG3395=Nt,Xe.EPSG3857=ii,Xe.EPSG900913=Di,Xe.EPSG4326=gn,Xe.Simple=Et;var jt=Pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=d(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=d(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,h){for(var _ in this._layers)a.call(h,this._layers[_]);return this},_addLayers:function(a){a=a?D(a)?a:[a]:[];for(var h=0,_=a.length;h<_;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=d(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,_=this._getZoomSpan();for(var b in this._zoomBoundLayers){var A=this._zoomBoundLayers[b].options;a=A.minZoom===void 0?a:Math.min(a,A.minZoom),h=A.maxZoom===void 0?h:Math.max(h,A.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qt=jt.extend({initialize:function(a,h){C(this,h),this._layers={};var _,b;if(a)for(_=0,b=a.length;_<b;_++)this.addLayer(a[_])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),_,b;for(_ in this._layers)b=this._layers[_],b[a]&&b[a].apply(b,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var _ in this._layers)a.call(h,this._layers[_]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),dr=function(a,h){return new Qt(a,h)},un=Qt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Qt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Qt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Ee;for(var h in this._layers){var _=this._layers[h];a.extend(_.getBounds?_.getBounds():_.getLatLng())}return a}}),Xo=function(a,h){return new un(a,h)},Rr=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){C(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var _=this._getIconUrl(a);if(!_){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,h){var _=this.options,b=_[h+"Size"];typeof b=="number"&&(b=[b,b]);var A=ae(b),j=ae(h==="shadow"&&_.shadowAnchor||_.iconAnchor||A&&A.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(_.className||""),j&&(a.style.marginLeft=-j.x+"px",a.style.marginTop=-j.y+"px"),A&&(a.style.width=A.x+"px",a.style.height=A.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return $e.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function dp(a){return new Rr(a)}var cl=Rr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof cl.imagePath!="string"&&(cl.imagePath=this._detectIconPath()),(this.options.imagePath||cl.imagePath)+Rr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(_,b,A){var j=b.exec(_);return j&&j[A]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=lt("div","leaflet-default-icon-path",document.body),h=Ys(a,"background-image")||Ys(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),sh=si.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new wi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),at(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,_=h._map,b=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,j=yi(h._icon),Y=_.getPixelBounds(),se=_.getPixelOrigin(),de=ce(Y.min._subtract(se).add(A),Y.max._subtract(se).subtract(A));if(!de.contains(j)){var ve=ae((Math.max(de.max.x,j.x)-de.max.x)/(Y.max.x-de.max.x)-(Math.min(de.min.x,j.x)-de.min.x)/(Y.min.x-de.min.x),(Math.max(de.max.y,j.y)-de.max.y)/(Y.max.y-de.max.y)-(Math.min(de.min.y,j.y)-de.min.y)/(Y.min.y-de.min.y)).multiplyBy(b);_.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),ut(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=G(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,_=h._shadow,b=yi(h._icon),A=h._map.layerPointToLatLng(b);_&&ut(_,b),h._latlng=A,a.latlng=A,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Es=jt.extend({options:{icon:new cl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){C(this,h),this._latlng=Ce(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=Ce(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=a.icon.createIcon(this._icon),b=!1;_!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(_.title=a.title),_.tagName==="IMG"&&(_.alt=a.alt||"")),at(_,h),a.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(_,"focus",this._panOnFocus,this);var A=a.icon.createShadow(this._shadow),j=!1;A!==this._shadow&&(this._removeShadow(),j=!0),A&&(at(A,h),A.alt=""),this._shadow=A,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&j&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&ut(this._icon,a),this._shadow&&ut(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(at(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sh)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sh(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Jt(this._icon,a),this._shadow&&Jt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,_=h.iconSize?ae(h.iconSize):ae(0,0),b=h.iconAnchor?ae(h.iconAnchor):ae(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:_.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lv(a,h){return new Es(a,h)}var to=jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return C(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ic=to.extend({options:{fill:!0,radius:10},initialize:function(a,h){C(this,h),this._latlng=Ce(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=Ce(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return to.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,_=this._clickTolerance(),b=[a+_,h+_];this._pxBounds=new ee(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hp(a,h){return new Ic(a,h)}var Ac=Ic.extend({initialize:function(a,h,_){if(typeof h=="number"&&(h=r({},_,{radius:h})),C(this,h),this._latlng=Ce(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:to.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,_=this._map,b=_.options.crs;if(b.distance===Qe.distance){var A=Math.PI/180,j=this._mRadius/Qe.R/A,Y=_.project([h+j,a]),se=_.project([h-j,a]),de=Y.add(se).divideBy(2),ve=_.unproject(de).lat,Me=Math.acos((Math.cos(j*A)-Math.sin(h*A)*Math.sin(ve*A))/(Math.cos(h*A)*Math.cos(ve*A)))/A;(isNaN(Me)||Me===0)&&(Me=j/Math.cos(Math.PI/180*h)),this._point=de.subtract(_.getPixelOrigin()),this._radius=isNaN(Me)?0:de.x-_.project([ve,a-Me]).x,this._radiusY=de.y-Y.y}else{var Je=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Je).x}this._updateBounds()}});function Pu(a,h,_){return new Ac(a,h,_)}var zi=to.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){C(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,_=null,b=xi,A,j,Y=0,se=this._parts.length;Y<se;Y++)for(var de=this._parts[Y],ve=1,Me=de.length;ve<Me;ve++){A=de[ve-1],j=de[ve];var Je=b(a,A,j,!0);Je<h&&(h=Je,_=b(a,A,j))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return O(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=Ce(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Ee,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],_=g(a),b=0,A=a.length;b<A;b++)_?(h[b]=Ce(a[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(a[b]);return h},_project:function(){var a=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new ie(a,a);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,_){var b=a[0]instanceof Le,A=a.length,j,Y;if(b){for(Y=[],j=0;j<A;j++)Y[j]=this._map.latLngToLayerPoint(a[j]),_.extend(Y[j]);h.push(Y)}else for(j=0;j<A;j++)this._projectLatlngs(a[j],h,_)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,b,A,j,Y,se,de;for(_=0,A=0,j=this._rings.length;_<j;_++)for(de=this._rings[_],b=0,Y=de.length;b<Y-1;b++)se=Yo(de[b],de[b+1],a,b,!0),se&&(h[A]=h[A]||[],h[A].push(se[0]),(se[1]!==de[b+1]||b===Y-2)&&(h[A].push(se[1]),A++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,_=0,b=a.length;_<b;_++)a[_]=Qo(a[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var _,b,A,j,Y,se,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(_=0,j=this._parts.length;_<j;_++)for(se=this._parts[_],b=0,Y=se.length,A=Y-1;b<Y;A=b++)if(!(!h&&b===0)&&Eu(a,se[A],se[b])<=de)return!0;return!1}});function Ov(a,h){return new zi(a,h)}zi._flat=E;var Ps=zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=zi.prototype._convertLatLngs.call(this,a),_=h.length;return _>=2&&h[0]instanceof Le&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(a){zi.prototype._setLatLngs.call(this,a),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,_=new ie(h,h);if(a=new ee(a.min.subtract(_),a.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,A=this._rings.length,j;b<A;b++)j=Zo(this._rings[b],a,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,_,b,A,j,Y,se,de,ve;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(j=0,de=this._parts.length;j<de;j++)for(_=this._parts[j],Y=0,ve=_.length,se=ve-1;Y<ve;se=Y++)b=_[Y],A=_[se],b.y>a.y!=A.y>a.y&&a.x<(A.x-b.x)*(a.y-b.y)/(A.y-b.y)+b.x&&(h=!h);return h||zi.prototype._containsPoint.call(this,a,!0)}});function Nv(a,h){return new Ps(a,h)}var Gr=un.extend({initialize:function(a,h){C(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=D(a)?a:a.features,_,b,A;if(h){for(_=0,b=h.length;_<b;_++)A=h[_],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var j=this.options;if(j.filter&&!j.filter(a))return this;var Y=dl(a,j);return Y?(Y.feature=Nc(a),Y.defaultOptions=Y.options,this.resetStyle(Y),j.onEachFeature&&j.onEachFeature(a,Y),this.addLayer(Y)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=r({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function dl(a,h){var _=a.type==="Feature"?a.geometry:a,b=_?_.coordinates:null,A=[],j=h&&h.pointToLayer,Y=h&&h.coordsToLatLng||Rc,se,de,ve,Me;if(!b&&!_)return null;switch(_.type){case"Point":return se=Y(b),kc(j,a,se,h);case"MultiPoint":for(ve=0,Me=b.length;ve<Me;ve++)se=Y(b[ve]),A.push(kc(j,a,se,h));return new un(A);case"LineString":case"MultiLineString":return de=Cu(b,_.type==="LineString"?0:1,Y),new zi(de,h);case"Polygon":case"MultiPolygon":return de=Cu(b,_.type==="Polygon"?1:2,Y),new Ps(de,h);case"GeometryCollection":for(ve=0,Me=_.geometries.length;ve<Me;ve++){var Je=dl({geometry:_.geometries[ve],type:"Feature",properties:a.properties},h);Je&&A.push(Je)}return new un(A);case"FeatureCollection":for(ve=0,Me=_.features.length;ve<Me;ve++){var _t=dl(_.features[ve],h);_t&&A.push(_t)}return new un(A);default:throw new Error("Invalid GeoJSON object.")}}function kc(a,h,_,b){return a?a(h,_):new Es(_,b&&b.markersInheritOptions&&b)}function Rc(a){return new Le(a[1],a[0],a[2])}function Cu(a,h,_){for(var b=[],A=0,j=a.length,Y;A<j;A++)Y=h?Cu(a[A],h-1,_):(_||Rc)(a[A]),b.push(Y);return b}function Lc(a,h){return a=Ce(a),a.alt!==void 0?[x(a.lng,h),x(a.lat,h),x(a.alt,h)]:[x(a.lng,h),x(a.lat,h)]}function Oc(a,h,_,b){for(var A=[],j=0,Y=a.length;j<Y;j++)A.push(h?Oc(a[j],g(a[j])?0:h-1,_,b):Lc(a[j],b));return!h&&_&&A.length>0&&A.push(A[0].slice()),A}function hl(a,h){return a.feature?r({},a.feature,{geometry:h}):Nc(h)}function Nc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var oh={toGeoJSON:function(a){return hl(this,{type:"Point",coordinates:Lc(this.getLatLng(),a)})}};Es.include(oh),Ac.include(oh),Ic.include(oh),zi.include({toGeoJSON:function(a){var h=!g(this._latlngs),_=Oc(this._latlngs,h?1:0,!1,a);return hl(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),Ps.include({toGeoJSON:function(a){var h=!g(this._latlngs),_=h&&!g(this._latlngs[0]),b=Oc(this._latlngs,_?2:h?1:0,!0,a);return h||(b=[b]),hl(this,{type:(_?"Multi":"")+"Polygon",coordinates:b})}}),Qt.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(a).geometry.coordinates)}),hl(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var _=h==="GeometryCollection",b=[];return this.eachLayer(function(A){if(A.toGeoJSON){var j=A.toGeoJSON(a);if(_)b.push(j.geometry);else{var Y=Nc(j);Y.type==="FeatureCollection"?b.push.apply(b,Y.features):b.push(Y)}}}),_?hl(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function fp(a,h){return new Gr(a,h)}var Lr=fp,no=jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,_){this._url=a,this._bounds=De(h),C(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(at(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ys(this._image),this},bringToBack:function(){return this._map&&Ir(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=De(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:lt("img");if(at(h,"leaflet-image-layer"),this._zoomAnimated&&at(h,"leaflet-zoom-animated"),this.options.className&&at(h,this.options.className),h.onselectstart=v,h.onmousemove=v,h.onload=l(this.fire,this,"load"),h.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;_i(this._image,_,h)},_reset:function(){var a=this._image,h=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();ut(a,h.min),a.style.width=_.x+"px",a.style.height=_.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),pp=function(a,h,_){return new no(a,h,_)},ah=no.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:lt("video");if(at(h,"leaflet-image-layer"),this._zoomAnimated&&at(h,"leaflet-zoom-animated"),this.options.className&&at(h,this.options.className),h.onselectstart=v,h.onmousemove=v,h.onloadeddata=l(this.fire,this,"load"),a){for(var _=h.getElementsByTagName("source"),b=[],A=0;A<_.length;A++)b.push(_[A].src);this._url=_.length>0?b:[h.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var Y=lt("source");Y.src=this._url[j],h.appendChild(Y)}}});function mp(a,h,_){return new ah(a,h,_)}var lh=no.extend({_initImage:function(){var a=this._image=this._url;at(a,"leaflet-image-layer"),this._zoomAnimated&&at(a,"leaflet-zoom-animated"),this.options.className&&at(a,this.options.className),a.onselectstart=v,a.onmousemove=v}});function uh(a,h,_){return new lh(a,h,_)}var Kr=jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof Le||D(a))?(this._latlng=Ce(a),C(this,h)):(C(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(at(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(l($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ce(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ys(this._container),this},bringToBack:function(){return this._map&&Ir(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof un){h=null;var _=this._source._layers;for(var b in _)if(_[b]._map){h=_[b];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=ae(this.options.offset),_=this._getAnchor();this._zoomAnimated?ut(this._container,a.add(_)):h=h.add(a).add(_);var b=this._containerBottom=-h.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(a,h,_,b){var A=h;return A instanceof a||(A=new a(b).setContent(h)),_&&A.setLatLng(_),A}}),jt.include({_initOverlay:function(a,h,_,b){var A=_;return A instanceof a?(C(A,b),A._source=this):(A=h&&!b?h:new a(b,this),A.setContent(_)),A}});var Mc=Kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Kr.prototype.openOn.call(this,a)},onAdd:function(a){Kr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof to||this._source.on("preclick",ri))},onRemove:function(a){Kr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof to||this._source.off("preclick",ri))},getEvents:function(){var a=Kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=lt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=lt("div",a+"-content-wrapper",h);if(this._contentNode=lt("div",a+"-content",_),eo(h),ws(this._contentNode),Ke(h,"contextmenu",ri),this._tipContainer=lt("div",a+"-tip-container",h),this._tip=lt("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=lt("a",a+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(b,"click",function(A){Wt(A),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var _=a.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var b=a.offsetHeight,A=this.options.maxHeight,j="leaflet-popup-scrolled";A&&b>A?(h.height=A+"px",at(a,j)):Ht(a,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),_=this._getAnchor();ut(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(Ys(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,b=this._containerWidth,A=new ie(this._containerLeft,-_-this._containerBottom);A._add(yi(this._container));var j=a.layerPointToContainerPoint(A),Y=ae(this.options.autoPanPadding),se=ae(this.options.autoPanPaddingTopLeft||Y),de=ae(this.options.autoPanPaddingBottomRight||Y),ve=a.getSize(),Me=0,Je=0;j.x+b+de.x>ve.x&&(Me=j.x+b-ve.x+de.x),j.x-Me-se.x<0&&(Me=j.x-se.x),j.y+_+de.y>ve.y&&(Je=j.y+_-ve.y+de.y),j.y-Je-se.y<0&&(Je=j.y-se.y),(Me||Je)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Me,Je]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fl=function(a,h){return new Mc(a,h)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(a,h,_){return this._initOverlay(Mc,a,h,_).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),jt.include({bindPopup:function(a,h){return this._popup=this._initOverlay(Mc,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof un||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Fn(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof to)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var pl=Kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Kr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Kr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Kr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,_,b=this._map,A=this._container,j=b.latLngToContainerPoint(b.getCenter()),Y=b.layerPointToContainerPoint(a),se=this.options.direction,de=A.offsetWidth,ve=A.offsetHeight,Me=ae(this.options.offset),Je=this._getAnchor();se==="top"?(h=de/2,_=ve):se==="bottom"?(h=de/2,_=0):se==="center"?(h=de/2,_=ve/2):se==="right"?(h=0,_=ve/2):se==="left"?(h=de,_=ve/2):Y.x<j.x?(se="right",h=0,_=ve/2):(se="left",h=de+(Me.x+Je.x)*2,_=ve/2),a=a.subtract(ae(h,_,!0)).add(Me).add(Je),Ht(A,"leaflet-tooltip-right"),Ht(A,"leaflet-tooltip-left"),Ht(A,"leaflet-tooltip-top"),Ht(A,"leaflet-tooltip-bottom"),at(A,"leaflet-tooltip-"+se),ut(A,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Jt(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Iu=function(a,h){return new pl(a,h)};xt.include({openTooltip:function(a,h,_){return this._initOverlay(pl,a,h,_).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),jt.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pl,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof un||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(Ke(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ke(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,_,b;this._tooltip.options.sticky&&a.originalEvent&&(_=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var Dc=Rr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Uo(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var b=ae(_.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function gp(a){return new Dc(a)}Rr.Default=cl;var io=jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){C(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),$t(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ys(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ir(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ie?a:new ie(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,_=-a(-1/0,1/0),b=0,A=h.length,j;b<A;b++)j=h[b].style.zIndex,h[b]!==this._container&&j&&(_=a(_,+j));isFinite(_)&&(this.options.zIndex=_+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){Jt(this._container,this.options.opacity);var a=+new Date,h=!1,_=!1;for(var b in this._tiles){var A=this._tiles[b];if(!(!A.current||!A.loaded)){var j=Math.min(1,(a-A.loaded)/200);Jt(A.el,j),j<1?h=!0:(A.active?_=!0:this._onOpaqueTile(A),A.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(q(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===a?(this._levels[_].el.style.zIndex=h-Math.abs(a-_),this._onUpdateLevel(_)):($t(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var b=this._levels[a],A=this._map;return b||(b=this._levels[a]={},b.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=A.project(A.unproject(A.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,A.getCenter(),A.getZoom()),v(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var a,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)$t(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,_,b){var A=Math.floor(a/2),j=Math.floor(h/2),Y=_-1,se=new ie(+A,+j);se.z=+Y;var de=this._tileCoordsToKey(se),ve=this._tiles[de];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),Y>b?this._retainParent(A,j,Y,b):!1)},_retainChildren:function(a,h,_,b){for(var A=2*a;A<2*a+2;A++)for(var j=2*h;j<2*h+2;j++){var Y=new ie(A,j);Y.z=_+1;var se=this._tileCoordsToKey(Y),de=this._tiles[se];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);_+1<b&&this._retainChildren(A,j,_+1,b)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,_,b){var A=Math.round(h);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var j=this.options.updateWhenZooming&&A!==this._tileZoom;(!b||j)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(a),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],a,h)},_setZoomTransform:function(a,h,_){var b=this._map.getZoomScale(_,a.zoom),A=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,_)).round();$e.any3d?_i(a.el,A,b):ut(a.el,A)},_resetGrid:function(){var a=this._map,h=a.options.crs,_=this._tileSize=this.getTileSize(),b=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],b).x/_.x),Math.ceil(a.project([0,h.wrapLng[1]],b).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],b).y/_.x),Math.ceil(a.project([h.wrapLat[1],0],b).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(_,this._tileZoom),A=h.project(a,this._tileZoom).floor(),j=h.getSize().divideBy(b*2);return new ee(A.subtract(j),A.add(j))},_update:function(a){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),A=this._pxBoundsToTileRange(b),j=A.getCenter(),Y=[],se=this.options.keepBuffer,de=new ee(A.getBottomLeft().subtract([se,-se]),A.getTopRight().add([se,-se]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var Me=this._tiles[ve].coords;(Me.z!==this._tileZoom||!de.contains(new ie(Me.x,Me.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(a,_);return}for(var Je=A.min.y;Je<=A.max.y;Je++)for(var _t=A.min.x;_t<=A.max.x;_t++){var Bn=new ie(_t,Je);if(Bn.z=this._tileZoom,!!this._isValidTile(Bn)){var Ln=this._tiles[this._tileCoordsToKey(Bn)];Ln?Ln.current=!0:Y.push(Bn)}}if(Y.sort(function(bi,yl){return bi.distanceTo(j)-yl.distanceTo(j)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ui=document.createDocumentFragment();for(_t=0;_t<Y.length;_t++)this._addTile(Y[_t],Ui);this._level.el.appendChild(Ui)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(a.x<_.min.x||a.x>_.max.x)||!h.wrapLat&&(a.y<_.min.y||a.y>_.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return De(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,_=this.getTileSize(),b=a.scaleBy(_),A=b.add(_),j=h.unproject(b,a.z),Y=h.unproject(A,a.z);return[j,Y]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),_=new Ee(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),_=new ie(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(a){var h=this._tiles[a];h&&($t(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){at(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=v,a.onmousemove=v,$e.ielt9&&this.options.opacity<1&&Jt(a,this.options.opacity)},_addTile:function(a,h){var _=this._getTilePos(a),b=this._tileCoordsToKey(a),A=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(A),this.createTile.length<2&&G(l(this._tileReady,this,a,null,A)),ut(A,_),this._tiles[b]={el:A,coords:a,current:!0},h.appendChild(A),this.fire("tileloadstart",{tile:A,coords:a})},_tileReady:function(a,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:a});var b=this._tileCoordsToKey(a);_=this._tiles[b],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Jt(_.el,0),q(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(at(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new ie(this._wrapX?m(a.x,this._wrapX):a.x,this._wrapY?m(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new ee(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ml(a){return new io(a)}var ro=io.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=C(this,h),h.detectRetina&&$e.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var _=document.createElement("img");return Ke(_,"load",l(this._tileOnLoad,this,h,_)),Ke(_,"error",l(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(a),_},getTileUrl:function(a){var h={r:$e.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=_),h["-y"]=_}return F(this._url,r(h,this.options))},_tileOnLoad:function(a,h){$e.ielt9?setTimeout(l(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,_){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),a(_,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,b=this.options.zoomOffset;return _&&(a=h-a),a+b},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=v,h.onerror=v,!h.complete)){h.src=H;var _=this._tiles[a].coords;$t(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",H),io.prototype._removeTile.call(this,a)},_tileReady:function(a,h,_){if(!(!this._map||_&&_.getAttribute("src")===H))return io.prototype._tileReady.call(this,a,h,_)}});function ch(a,h){return new ro(a,h)}var Au=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var _=r({},this.defaultWmsParams);for(var b in h)b in this.options||(_[b]=h[b]);h=C(this,h);var A=h.detectRetina&&$e.retina?2:1,j=this.getTileSize();_.width=j.x*A,_.height=j.y*A,this.wmsParams=_},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,ro.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),_=this._crs,b=ce(_.project(h[0]),_.project(h[1])),A=b.min,j=b.max,Y=(this._wmsVersion>=1.3&&this._crs===gn?[A.y,A.x,j.y,j.x]:[A.x,A.y,j.x,j.y]).join(","),se=ro.prototype.getTileUrl.call(this,a);return se+k(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(a,h){return r(this.wmsParams,a),h||this.redraw(),this}});function vp(a,h){return new Au(a,h)}ro.WMS=Au,ch.wms=vp;var Zr=jt.extend({options:{padding:.1},initialize:function(a){C(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),at(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var _=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,h),j=b.multiplyBy(-_).add(A).subtract(this._map._getNewPixelOrigin(a,h));$e.any3d?_i(this._container,j,_):ut(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new ee(_,_.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dh=Zr.extend({options:{tolerance:0},getEvents:function(){var a=Zr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ke(a,"mousemove",this._onMouseMove,this),Ke(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,$t(this._container),Vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var a=this._bounds,h=this._container,_=a.getSize(),b=$e.retina?2:1;ut(h,a.min),h.width=b*_.x,h.height=b*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,_=h.next,b=h.prev;_?_.prev=b:this._drawLast=b,b?b.next=_:this._drawFirst=_,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),_=[],b,A;for(A=0;A<h.length;A++){if(b=Number(h[A]),isNaN(b))return;_.push(b)}a.options._dashArray=_}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var _,b,A,j,Y=a._parts,se=Y.length,de=this._ctx;if(se){for(de.beginPath(),_=0;_<se;_++){for(b=0,A=Y[_].length;b<A;b++)j=Y[_][b],de[b?"lineTo":"moveTo"](j.x,j.y);h&&de.closePath()}this._fillStroke(de,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,_=this._ctx,b=Math.max(Math.round(a._radius),1),A=(Math.max(Math.round(a._radiusY),1)||b)/b;A!==1&&(_.save(),_.scale(1,A)),_.beginPath(),_.arc(h.x,h.y/A,b,0,Math.PI*2,!1),A!==1&&_.restore(),this._fillStroke(_,a)}},_fillStroke:function(a,h){var _=h.options;_.fill&&(a.globalAlpha=_.fillOpacity,a.fillStyle=_.fillColor||_.color,a.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=_.opacity,a.lineWidth=_.weight,a.strokeStyle=_.color,a.lineCap=_.lineCap,a.lineJoin=_.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),_,b,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(_))&&(b=_);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var _,b,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(h)&&(b=_);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(at(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,_){this._map._fireDOMEvent(h,_||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var _=h.next,b=h.prev;if(_)_.prev=b;else return;b?b.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var _=h.next,b=h.prev;if(b)b.next=_;else return;_?_.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function hh(a){return $e.canvas?new dh(a):null}var gl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_p={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=gl("shape");at(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=gl("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;$t(h),a.removeInteractiveTarget(h),delete this._layers[d(a)]},_updateStyle:function(a){var h=a._stroke,_=a._fill,b=a.options,A=a._container;A.stroked=!!b.stroke,A.filled=!!b.fill,b.stroke?(h||(h=a._stroke=gl("stroke")),A.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=D(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(A.removeChild(h),a._stroke=null),b.fill?(_||(_=a._fill=gl("fill")),A.appendChild(_),_.color=b.fillColor||b.color,_.opacity=b.fillOpacity):_&&(A.removeChild(_),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),_=Math.round(a._radius),b=Math.round(a._radiusY||_);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+b+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){ys(a._container)},_bringToBack:function(a){Ir(a._container)}},Or=$e.vml?gl:Ur,Jo=Zr.extend({_initContainer:function(){this._container=Or("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Or("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),Vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var a=this._bounds,h=a.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),ut(_,a.min),_.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=Or("path");a.options.className&&at(h,a.options.className),a.options.interactive&&at(h,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){$t(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,_=a.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,Lo(a._parts,h))},_updateCircle:function(a){var h=a._point,_=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||_,A="a"+_+","+b+" 0 1,0 ",j=a._empty()?"M0 0":"M"+(h.x-_)+","+h.y+A+_*2+",0 "+A+-_*2+",0 ";this._setPath(a,j)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){ys(a._path)},_bringToBack:function(a){Ir(a._path)}});$e.vml&&Jo.include(_p);function Vc(a){return $e.svg||$e.vml?new Jo(a):null}xt.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&hh(a)||Vc(a)}});var yp=Ps.extend({initialize:function(a,h){Ps.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=De(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Mv(a,h){return new yp(a,h)}Jo.create=Or,Jo.pointsToPath=Lo,Gr.geometryToLayer=dl,Gr.coordsToLatLng=Rc,Gr.coordsToLatLngs=Cu,Gr.latLngToCoords=Lc,Gr.latLngsToCoords=Oc,Gr.getFeature=hl,Gr.asFeature=Nc,xt.mergeOptions({boxZoom:!0});var vl=si.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wt(),Ja(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ke(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),at(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new ee(this._point,this._startPoint),_=h.getSize();ut(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&($t(this._box),Ht(this._container,"leaflet-crosshair")),or(),el(),Vt(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var h=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",vl),xt.mergeOptions({doubleClickZoom:!0});var wp=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,_=h.getZoom(),b=h.options.zoomDelta,A=a.originalEvent.shiftKey?_-b:_+b;h.options.doubleClickZoom==="center"?h.setZoom(A):h.setZoomAround(a.containerPoint,A)}});xt.addInitHook("addHandler","doubleClickZoom",wp),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fh=si.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new wi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}at(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=De(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),_=this._initialWorldOffset,b=this._draggable._newPos.x,A=(b-h+_)%a+h-_,j=(b+h+_)%a-h-_,Y=Math.abs(A+_)<Math.abs(j+_)?A:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(a){var h=this._map,_=h.options,b=!_.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),b)h.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,Y=_.easeLinearity,se=A.multiplyBy(Y/j),de=se.distanceTo([0,0]),ve=Math.min(_.inertiaMaxSpeed,de),Me=se.multiplyBy(ve/de),Je=ve/(_.inertiaDeceleration*Y),_t=Me.multiplyBy(-Je/2).round();!_t.x&&!_t.y?h.fire("moveend"):(_t=h._limitOffset(_t,h.options.maxBounds),G(function(){h.panBy(_t,{duration:Je,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",fh),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ph=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ke(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,_=a.scrollTop||h.scrollTop,b=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},_=this.keyCodes,b,A;for(b=0,A=_.left.length;b<A;b++)h[_.left[b]]=[-1*a,0];for(b=0,A=_.right.length;b<A;b++)h[_.right[b]]=[a,0];for(b=0,A=_.down.length;b<A;b++)h[_.down[b]]=[0,a];for(b=0,A=_.up.length;b<A;b++)h[_.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},_=this.keyCodes,b,A;for(b=0,A=_.zoomIn.length;b<A;b++)h[_.zoomIn[b]]=a;for(b=0,A=_.zoomOut.length;b<A;b++)h[_.zoomOut[b]]=-a},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,_=this._map,b;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(b=this._panKeys[h],a.shiftKey&&(b=ae(b).multiplyBy(3)),_.options.maxBounds&&(b=_._limitOffset(ae(b),_.options.maxBounds)),_.options.worldCopyJump){var A=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(b)));_.panTo(A)}else _.panBy(b)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;Fn(a)}}});xt.addInitHook("addHandler","keyboard",ph),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zt=si.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=Tc(a),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),b),Fn(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),_=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,j=_?Math.ceil(A/_)*_:A,Y=a._limitZoom(h+(this._delta>0?j:-j))-h;this._delta=0,this._startTime=null,Y&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+Y):a.setZoomAround(this._lastMousePos,h+Y))}});xt.addInitHook("addHandler","scrollWheelZoom",Zt);var mh=600;xt.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var ku=si.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new ie(h.clientX,h.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",Wt),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),mh),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Vt(document,"touchend",Wt),Vt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new ie(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var _=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});xt.addInitHook("addHandler","tapHold",ku),xt.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var _l=si.extend({addHooks:function(){at(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(b)._divideBy(2))),this._startDist=_.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),Wt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]),A=_.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(A,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&A<1||this._zoom>h.getMaxZoom()&&A>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var j=_._add(b)._divideBy(2)._subtract(this._centerPoint);if(A===1&&j.x===0&&j.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var Y=l(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(Y,this,!0),Wt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",_l),xt.BoxZoom=vl,xt.DoubleClickZoom=wp,xt.Drag=fh,xt.Keyboard=ph,xt.ScrollWheelZoom=Zt,xt.TapHold=ku,xt.TouchZoom=_l,n.Bounds=ee,n.Browser=$e,n.CRS=Xe,n.Canvas=dh,n.Circle=Ac,n.CircleMarker=Ic,n.Class=xe,n.Control=Qn,n.DivIcon=Dc,n.DivOverlay=Kr,n.DomEvent=Go,n.DomUtil=Js,n.Draggable=wi,n.Evented=Pe,n.FeatureGroup=un,n.GeoJSON=Gr,n.GridLayer=io,n.Handler=si,n.Icon=Rr,n.ImageOverlay=no,n.LatLng=Le,n.LatLngBounds=Ee,n.Layer=jt,n.LayerGroup=Qt,n.LineUtil=W,n.Map=xt,n.Marker=Es,n.Mixin=bs,n.Path=to,n.Point=ie,n.PolyUtil=al,n.Polygon=Ps,n.Polyline=zi,n.Popup=Mc,n.PosAnimation=Ko,n.Projection=Ae,n.Rectangle=yp,n.Renderer=Zr,n.SVG=Jo,n.SVGOverlay=lh,n.TileLayer=ro,n.Tooltip=pl,n.Transformation=jn,n.Util=$,n.VideoOverlay=ah,n.bind=l,n.bounds=ce,n.canvas=hh,n.circle=Pu,n.circleMarker=hp,n.control=An,n.divIcon=gp,n.extend=r,n.featureGroup=Xo,n.geoJSON=fp,n.geoJson=Lr,n.gridLayer=ml,n.icon=dp,n.imageOverlay=pp,n.latLng=Ce,n.latLngBounds=De,n.layerGroup=dr,n.map=Bi,n.marker=Lv,n.point=ae,n.polygon=Nv,n.polyline=Ov,n.popup=fl,n.rectangle=Mv,n.setOptions=C,n.stamp=d,n.svg=Vc,n.svgOverlay=uh,n.tileLayer=ch,n.tooltip=Iu,n.transformation=ni,n.version=i,n.videoOverlay=mp;var xp=window.L;n.noConflict=function(){return window.L=xp,this},window.L=n})}(Gh,Gh.exports)),Gh.exports}var CF=PF();const g_=iw(CF);function IF({lat:t,lng:e,zoom:n,markerLat:i,markerLng:r,popupContent:s}){const l=B.useRef(null),c=B.useRef(null);return B.useEffect(()=>!l.current||c.current?void 0:(c.current=g_.map(l.current,{preferCanvas:!0}).setView([t,e],n),g_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',crossOrigin:"anonymous"}).addTo(c.current),g_.marker([i,r]).addTo(c.current).bindPopup(s).openPopup(),()=>{c.current&&(c.current.remove(),c.current=null)}),[t,e,n,i,r,s]),l}const AF="_map_12ntd_3",kF={map:AF};function YA({height:t=void 0,zoom:e=17}){const n=IF({lat:50.43675236189238,lng:30.514976398846958,zoom:e,markerLat:50.43575236189238,markerLng:30.514976398846958,popupContent:"<b>Wineset</b><br>Zabuttsia Sahakanskiy, 25, Kyiv"});return w.jsx("div",{ref:n,className:kF.map,style:{height:t}})}const RF="_special_13lco_2",LF="_special__content_13lco_9",OF="_special__img_13lco_13",NF="_special__suptitle_13lco_56",MF="_special__title_13lco_72",DF="_special__subtitle_13lco_90",$u={special:RF,special__content:LF,special__img:OF,special__suptitle:NF,special__title:MF,special__subtitle:DF},ET=t=>{let e;const n=new Set,i=(p,m)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(T=>T(e,x))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p))},d=e=t(i,r,c);return c},VF=t=>t?ET(t):ET,jF=t=>t;function FF(t,e=jF){const n=ot.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ot.useDebugValue(n),n}const PT=t=>{const e=VF(t),n=i=>FF(e,i);return Object.assign(n,e),n},mu=t=>t?PT(t):PT;var BF="firebase",zF="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nu(BF,zF,"app");function Tx(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UF=XA,JA=new $f("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new $w("@firebase/auth");function $F(t,...e){yg.logLevel<=Pt.WARN&&yg.warn(`Auth (${Gd}): ${t}`,...e)}function zm(t,...e){yg.logLevel<=Pt.ERROR&&yg.error(`Auth (${Gd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw Px(t,...e)}function zs(t,...e){return Px(t,...e)}function Ex(t,e,n){const i=Object.assign(Object.assign({},UF()),{[e]:n});return new $f("auth","Firebase",i).create(e,{appName:t.name})}function Ia(t){return Ex(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HF(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ds(t,"argument-error"),Ex(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Px(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JA.create(t,...e)}function ct(t,e,...n){if(!t)throw Px(e,...n)}function wa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zm(e),new Error(e)}function Da(t,e){t||wa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ek(){return CT()==="http:"||CT()==="https:"}function CT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ek()||MV()||"connection"in navigator)?navigator.onLine:!0}function qF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Da(n>e,"Short delay should be less than long delay!"),this.isMobile=LV()||DV()}get(){return WF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e){Da(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=new Jf(3e4,6e4);function Ba(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function za(t,e,n,i,r={}){return nk(t,r,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const c=Hf(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},s);return NV()||(p.referrerPolicy="no-referrer"),tk.fetch()(ik(t,t.config.apiHost,n,c),p)})}async function nk(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},GF),e);try{const r=new QF(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ym(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ym(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ym(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw ym(t,"user-disabled",l);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ex(t,m,p);ds(t,m)}}catch(r){if(r instanceof Fa)throw r;ds(t,"network-request-failed",{message:String(r)})}}async function ep(t,e,n,i,r={}){const s=await za(t,e,n,i,r);return"mfaPendingCredential"in s&&ds(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ik(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Cx(t.config,r):`${t.config.apiScheme}://${r}`}function ZF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(zs(this.auth,"network-request-failed")),KF.get())})}}function ym(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=zs(t,e,i);return r.customData._tokenResponse=n,r}function IT(t){return t!==void 0&&t.enterprise!==void 0}class YF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XF(t,e){return za(t,"GET","/v2/recaptchaConfig",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(t,e){return za(t,"POST","/v1/accounts:delete",e)}async function rk(t,e){return za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e7(t,e=!1){const n=qn(t),i=await n.getIdToken(e),r=Ix(i);ct(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:rf(v_(r.auth_time)),issuedAtTime:rf(v_(r.iat)),expirationTime:rf(v_(r.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function v_(t){return Number(t)*1e3}function Ix(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return zm("JWT malformed, contained fewer than 3 sections"),null;try{const r=dI(n);return r?JSON.parse(r):(zm("Failed to decode base64 JWT payload"),null)}catch(r){return zm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function AT(t){const e=Ix(t);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Fa&&t7(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function t7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rf(this.lastLoginAt),this.creationTime=rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Tf(t,rk(n,{idToken:i}));ct(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sk(s.providerUserInfo):[],c=r7(t.providerData,l),d=t.isAnonymous,p=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ey(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function i7(t){const e=qn(t);await xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r7(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function sk(t){return t.map(e=>{var{providerId:n}=e,i=Tx(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e){const n=await nk(t,{},async()=>{const i=Hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,l=ik(t,r,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",tk.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o7(t,e){return za(t,"POST","/v2/accounts:revokeToken",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const n=AT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await s7(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,l=new hd;return i&&(ct(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(ct(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),s&&(ct(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hd,this.toJSON())}_performRefresh(){return wa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t,e){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xa{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Tx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Tf(this,this.stsTokenManager.getToken(this.auth,e));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e7(this,e)}reload(){return i7(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await xg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bs(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await Tf(this,JF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,l,c,d,p,m;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,x=(r=n.email)!==null&&r!==void 0?r:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(p=n.createdAt)!==null&&p!==void 0?p:void 0,F=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:D,emailVerified:Z,isAnonymous:H,providerData:Q,stsTokenManager:U}=n;ct(D&&U,e,"internal-error");const N=hd.fromJSON(this.name,U);ct(typeof D=="string",e,"internal-error"),Nl(v,e.name),Nl(x,e.name),ct(typeof Z=="boolean",e,"internal-error"),ct(typeof H=="boolean",e,"internal-error"),Nl(T,e.name),Nl(I,e.name),Nl(C,e.name),Nl(k,e.name),Nl(R,e.name),Nl(F,e.name);const V=new xa({uid:D,auth:e,email:x,emailVerified:Z,displayName:v,isAnonymous:H,photoURL:I,phoneNumber:T,tenantId:C,stsTokenManager:N,createdAt:R,lastLoginAt:F});return Q&&Array.isArray(Q)&&(V.providerData=Q.map(z=>Object.assign({},z))),k&&(V._redirectEventId=k),V}static async _fromIdTokenResponse(e,n,i=!1){const r=new hd;r.updateFromServerResponse(n);const s=new xa({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await xg(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ct(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?sk(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new hd;c.updateFromIdToken(i);const d=new xa({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ey(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;function ba(t){Da(t instanceof Function,"Expected a class definition");let e=kT.get(t);return e?(Da(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ok.type="NONE";const RT=ok;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,n){return`firebase:${t}:${e}:${n}`}class fd{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Um(this.userKey,r.apiKey,s),this.fullPersistenceKey=Um("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fd(ba(RT),e,i);const r=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=r[0]||ba(RT);const l=Um(i,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){const v=xa._fromJSON(e,m);p!==s&&(c=v),s=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new fd(s,e,i):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==s)try{await p._remove(l)}catch{}})),new fd(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ak(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hk(e))return"Blackberry";if(fk(e))return"Webos";if(lk(e))return"Safari";if((e.includes("chrome/")||uk(e))&&!e.includes("edge/"))return"Chrome";if(dk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ak(t=Mi()){return/firefox\//i.test(t)}function lk(t=Mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uk(t=Mi()){return/crios\//i.test(t)}function ck(t=Mi()){return/iemobile/i.test(t)}function dk(t=Mi()){return/android/i.test(t)}function hk(t=Mi()){return/blackberry/i.test(t)}function fk(t=Mi()){return/webos/i.test(t)}function Ax(t=Mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a7(t=Mi()){var e;return Ax(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l7(){return VV()&&document.documentMode===10}function pk(t=Mi()){return Ax(t)||dk(t)||fk(t)||hk(t)||/windows phone/i.test(t)||ck(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e=[]){let n;switch(t){case"Browser":n=LT(Mi());break;case"Worker":n=`${LT(Mi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gd}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e={}){return za(t,"GET","/v2/passwordPolicy",Ba(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=6;class h7{constructor(e){var n,i,r,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:d7,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new u7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ba(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await fd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rk(this,{idToken:e}),i=await xa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bs(this.app))return Promise.reject(Ia(this));const n=e?qn(e):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bs(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bs(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ba(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c7(this),n=new h7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $f("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await o7(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ba(e)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await fd.create(this,[ba(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$F(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gu(t){return qn(t)}class OT{constructor(e){this.auth=e,this.observer=null,this.addObserver=WV(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p7(t){vv=t}function gk(t){return vv.loadJS(t)}function m7(){return vv.recaptchaEnterpriseScript}function g7(){return vv.gapiScript}function v7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _7{constructor(){this.enterprise=new y7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const w7="recaptcha-enterprise",vk="NO_RECAPTCHA";class x7{constructor(e){this.type=w7,this.auth=gu(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{XF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new YF(d);return s.tenantId==null?s._agentRecaptchaConfig=p:s._tenantRecaptchaConfigs[s.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function r(s,l,c){const d=window.grecaptcha;IT(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(p=>{l(p)}).catch(()=>{l(vk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _7().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{i(this.auth).then(c=>{if(!n&&IT(window.grecaptcha))r(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=m7();d.length!==0&&(d+=c),gk(d).then(()=>{r(c,s,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function NT(t,e,n,i=!1,r=!1){const s=new x7(t);let l;if(r)l=vk;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Py(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await NT(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await NT(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e){const n=Ww(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(lg(s,e??{}))return r;ds(r,"already-initialized")}return n.initialize({options:e})}function S7(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ba);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function T7(t,e,n){const i=gu(t);ct(i._canInitEmulator,i,"emulator-config-failed"),ct(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=_k(e),{host:l,port:c}=E7(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),P7()}function _k(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E7(t){const e=_k(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:MT(i.substr(s.length+1))}}else{const[s,l]=i.split(":");return{host:s,port:MT(l)}}}function MT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,n){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function C7(t,e){return za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e){return ep(t,"POST","/v1/accounts:signInWithPassword",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,e){return ep(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}async function k7(t,e){return ep(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends kx{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ef(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ef(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(e,n,"signInWithPassword",I7);case"emailLink":return A7(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(e,i,"signUpPassword",C7);case"emailLink":return k7(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t,e){return ep(t,"POST","/v1/accounts:signInWithIdp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="http://localhost";class uc extends kx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Tx(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new uc(i,r);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return pd(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,pd(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pd(e,n)}buildRequest(){const e={requestUri:R7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O7(t){const e=zh(Uh(t)).link,n=e?zh(Uh(e)).deep_link_id:null,i=zh(Uh(t)).deep_link_id;return(i?zh(Uh(i)).link:null)||i||n||e||t}class Rx{constructor(e){var n,i,r,s,l,c;const d=zh(Uh(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=L7((r=d.mode)!==null&&r!==void 0?r:null);ct(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=O7(e);try{return new Rx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.providerId=Jd.PROVIDER_ID}static credential(e,n){return Ef._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Rx.parseLink(n);return ct(i,"argument-error"),Ef._fromEmailAndCode(e,i.code,i.tenantId)}}Jd.PROVIDER_ID="password";Jd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Lx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends tp{constructor(){super("facebook.com")}static credential(e){return uc._fromParams({providerId:Vl.PROVIDER_ID,signInMethod:Vl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vl.credentialFromTaggedObject(e)}static credentialFromError(e){return Vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vl.credential(e.oauthAccessToken)}catch{return null}}}Vl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends tp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uc._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ya.credential(n,i)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends tp{constructor(){super("github.com")}static credential(e){return uc._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jl.credential(e.oauthAccessToken)}catch{return null}}}jl.GITHUB_SIGN_IN_METHOD="github.com";jl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends tp{constructor(){super("twitter.com")}static credential(e,n){return uc._fromParams({providerId:Fl.PROVIDER_ID,signInMethod:Fl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fl.credentialFromTaggedObject(e)}static credentialFromError(e){return Fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fl.credential(n,i)}catch{return null}}}Fl.TWITTER_SIGN_IN_METHOD="twitter.com";Fl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(t,e){return ep(t,"POST","/v1/accounts:signUp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await xa._fromIdTokenResponse(e,i,r),l=DT(i);return new cc({user:s,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=DT(i);return new cc({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function DT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends Fa{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new bg(e,n,i,r)}}function yk(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bg._fromErrorAndOperation(t,s,e,i):s})}async function M7(t,e,n=!1){const i=await Tf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t,e,n=!1){const{auth:i}=t;if(Bs(i.app))return Promise.reject(Ia(i));const r="reauthenticate";try{const s=await Tf(t,yk(i,r,e,t),n);ct(s.idToken,i,"internal-error");const l=Ix(s.idToken);ct(l,i,"internal-error");const{sub:c}=l;return ct(t.uid===c,i,"user-mismatch"),cc._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ds(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e,n=!1){if(Bs(t.app))return Promise.reject(Ia(t));const i="signIn",r=await yk(t,i,e),s=await cc._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function V7(t,e){return wk(gu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t){const e=gu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j7(t,e,n){if(Bs(t.app))return Promise.reject(Ia(t));const i=gu(t),l=await Py(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N7).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&xk(t),d}),c=await cc._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function F7(t,e,n){return Bs(t.app)?Promise.reject(Ia(t)):V7(qn(t),Jd.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&xk(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){return za(t,"POST","/v1/accounts:createAuthUri",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(t,e){const n=ek()?wg():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=await B7(qn(t),i);return r||[]}function U7(t,e,n,i){return qn(t).onIdTokenChanged(e,n,i)}function $7(t,e,n){return qn(t).beforeAuthStateChanged(e,n)}function H7(t,e,n,i){return qn(t).onAuthStateChanged(e,n,i)}function W7(t){return qn(t).signOut()}const Sg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=1e3,G7=10;class Sk extends bk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},s=this.storage.getItem(i);l7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,G7):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sk.type="LOCAL";const K7=Sk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk extends bk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tk.type="SESSION";const Ek=Tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new _v(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async p=>p(n.origin,s)),d=await Z7(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_v.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const p=Ox("",20);r.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(x.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return window}function Y7(t){To().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){return typeof To().WorkerGlobalScope<"u"&&typeof To().importScripts=="function"}async function X7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e8(){return Pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="firebaseLocalStorageDb",t8=1,Tg="firebaseLocalStorage",Ik="fbase_key";class np{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yv(t,e){return t.transaction([Tg],e?"readwrite":"readonly").objectStore(Tg)}function n8(){const t=indexedDB.deleteDatabase(Ck);return new np(t).toPromise()}function Cy(){const t=indexedDB.open(Ck,t8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Tg,{keyPath:Ik})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Tg)?e(i):(i.close(),await n8(),e(await Cy()))})})}async function VT(t,e,n){const i=yv(t,!0).put({[Ik]:e,value:n});return new np(i).toPromise()}async function i8(t,e){const n=yv(t,!1).get(e),i=await new np(n).toPromise();return i===void 0?null:i.value}function jT(t,e){const n=yv(t,!0).delete(e);return new np(n).toPromise()}const r8=800,s8=3;class Ak{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>s8)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_v._getInstance(e8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X7(),!this.activeServiceWorker)return;this.sender=new Q7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cy();return await VT(e,Sg,"1"),await jT(e,Sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>VT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>i8(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=yv(r,!1).getAll();return new np(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ak.type="LOCAL";const o8=Ak;new Jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){return e?ba(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends kx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a8(t){return wk(t.auth,new Nx(t),t.bypassAuthState)}function l8(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),D7(n,new Nx(t),t.bypassAuthState)}async function u8(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),M7(n,new Nx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a8;case"linkViaPopup":case"linkViaRedirect":return u8;case"reauthViaPopup":case"reauthViaRedirect":return l8;default:ds(this.auth,"internal-error")}}resolve(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new Jf(2e3,1e4);async function FT(t,e,n){if(Bs(t.app))return Promise.reject(zs(t,"operation-not-supported-in-this-environment"));const i=gu(t);HF(t,e,Lx);const r=kk(i,n);return new Ku(i,"signInViaPopup",e,r).executeNotNull()}class Ku extends Rk{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ku.currentPopupAction&&Ku.currentPopupAction.cancel(),Ku.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){Da(this.filter.length===1,"Popup operations only handle one event");const e=Ox();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ku.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c8.get())};e()}}Ku.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="pendingRedirect",$m=new Map;class h8 extends Rk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=$m.get(this.auth._key());if(!e){try{const i=await f8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}$m.set(this.auth._key(),e)}return this.bypassAuthState||$m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f8(t,e){const n=g8(e),i=m8(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function p8(t,e){$m.set(t._key(),e)}function m8(t){return ba(t._redirectPersistence)}function g8(t){return Um(d8,t.config.apiKey,t.name)}async function v8(t,e,n=!1){if(Bs(t.app))return Promise.reject(Ia(t));const i=gu(t),r=kk(i,e),l=await new h8(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=10*60*1e3;class y8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Lk(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(zs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_8&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}}function BT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e={}){return za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S8=/^https?/;async function T8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x8(t);for(const n of e)try{if(E8(n))return}catch{}ds(t,"unauthorized-domain")}function E8(t){const e=wg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!S8.test(n))return!1;if(b8.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=new Jf(3e4,6e4);function zT(){const t=To().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C8(t){return new Promise((e,n)=>{var i,r,s;function l(){zT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zT(),n(zs(t,"network-request-failed"))},timeout:P8.get()})}if(!((r=(i=To().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=To().gapi)===null||s===void 0)&&s.load)l();else{const c=v7("iframefcb");return To()[c]=()=>{gapi.load?l():n(zs(t,"network-request-failed"))},gk(`${g7()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Hm=null,e})}let Hm=null;function I8(t){return Hm=Hm||C8(t),Hm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new Jf(5e3,15e3),k8="__/auth/iframe",R8="emulator/auth/iframe",L8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N8(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cx(e,R8):`https://${t.config.authDomain}/${k8}`,i={apiKey:e.apiKey,appName:t.name,v:Gd},r=O8.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Hf(i).slice(1)}`}async function M8(t){const e=await I8(t),n=To().gapi;return ct(n,t,"internal-error"),e.open({where:document.body,url:N8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L8,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const l=zs(t,"network-request-failed"),c=To().setTimeout(()=>{s(l)},A8.get());function d(){To().clearTimeout(c),r(i)}i.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V8=500,j8=600,F8="_blank",B8="http://localhost";class UT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z8(t,e,n,i=V8,r=j8){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},D8),{width:i.toString(),height:r.toString(),top:s,left:l}),p=Mi().toLowerCase();n&&(c=uk(p)?F8:n),ak(p)&&(e=e||B8,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[T,I])=>`${x}${T}=${I},`,"");if(a7(p)&&c!=="_self")return U8(e||"",c),new UT(null);const v=window.open(e||"",c,m);ct(v,t,"popup-blocked");try{v.focus()}catch{}return new UT(v)}function U8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="__/auth/handler",H8="emulator/auth/handler",W8=encodeURIComponent("fac");async function $T(t,e,n,i,r,s){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Gd,eventId:r};if(e instanceof Lx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",HV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof tp){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),p=d?`#${W8}=${encodeURIComponent(d)}`:"";return`${q8(t)}?${Hf(c).slice(1)}${p}`}function q8({config:t}){return t.emulator?Cx(t,H8):`https://${t.authDomain}/${$8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="webStorageSupport";class G8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ek,this._completeRedirectFn=v8,this._overrideRedirectResult=p8}async _openPopup(e,n,i,r){var s;Da((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await $T(e,n,i,wg(),r);return z8(e,l,Ox())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await $T(e,n,i,wg(),r);return Y7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Da(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await M8(e),i=new y8(e);return n.register("authEvent",r=>(ct(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(__,{type:__},r=>{var s;const l=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[__];l!==void 0&&n(!!l),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pk()||lk()||Ax()}}const K8=G8;var HT="@firebase/auth",WT="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y8(t){Nd(new oc("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mk(t)},p=new f7(i,r,s,d);return S7(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Nd(new oc("auth-internal",e=>{const n=gu(e.getProvider("auth").getImmediate());return(i=>new Z8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nu(HT,WT,Q8(t)),nu(HT,WT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=5*60,J8=pI("authIdTokenMaxAge")||X8;let qT=null;const eB=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>J8)return;const r=n==null?void 0:n.token;qT!==r&&(qT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function tB(t=_I()){const e=Ww(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b7(t,{popupRedirectResolver:K8,persistence:[o8,K7,Ek]}),i=pI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const l=eB(s.toString());$7(n,l,()=>l(n.currentUser)),U7(n,c=>l(c))}}const r=hI("auth");return r&&T7(n,`http://${r}`),n}function nB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p7({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=zs("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",nB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y8("Browser");const iB="AIzaSyCOnfNbS86LqUlJR_SOFdX8IBO9-R7nyrU",rB="wineset-fd2d9.firebaseapp.com",sB="wineset-fd2d9",oB="wineset-fd2d9.firebasestorage.app",aB="662337353602",lB="1:662337353602:web:2ee5b36f77106d1926419b",uB="G-WMCD2MQED9",cB={apiKey:iB,authDomain:rB,projectId:sB,storageBucket:oB,messagingSenderId:aB,appId:lB,measurementId:uB},dB=vI(cB),Hs=q6(dB),GT=new ya,pa=tB(),KT={BASE_URL:"/wineset/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyCOnfNbS86LqUlJR_SOFdX8IBO9-R7nyrU",VITE_APP_ID:"1:662337353602:web:2ee5b36f77106d1926419b",VITE_AUTH_DOMAIN:"wineset-fd2d9.firebaseapp.com",VITE_EMAILJS_SERVICE_ID:"service_6bxbs4a",VITE_EMAILJS_TEMPLATE_ID:"template_tiwy8bx",VITE_EMAILJS_TEMPLATE_ORDER_ID:"template_kjr3yzf",VITE_EMAILJS_USER_ID:"hqt9CD7I-ql_oArvG",VITE_MEASUREMENT_ID:"G-WMCD2MQED9",VITE_MESSAGING_SENDER_ID:"662337353602",VITE_PROJECT_ID:"wineset-fd2d9",VITE_STORAGE_BUCKET:"wineset-fd2d9.firebasestorage.app"},Iy=new Map,wm=t=>{const e=Iy.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,i])=>[n,i.getState()])):{}},hB=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const i=Iy.get(n.name);if(i)return{type:"tracked",store:t,...i};const r={connection:e.connect(n),stores:{}};return Iy.set(n.name,r),{type:"tracked",store:t,...r}},fB=(t,e={})=>(n,i,r)=>{const{enabled:s,anonymousActionType:l,store:c,...d}=e;let p;try{p=(s??(KT?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return t(n,i,r);const{connection:m,...v}=hB(c,p,d);let x=!0;r.setState=(C,k,R)=>{const F=n(C,k);if(!x)return F;const D=R===void 0?{type:l||"anonymous"}:typeof R=="string"?{type:R}:R;return c===void 0?(m==null||m.send(D,i()),F):(m==null||m.send({...D,type:`${c}/${D.type}`},{...wm(d.name),[c]:r.getState()}),F)};const T=(...C)=>{const k=x;x=!1,n(...C),x=k},I=t(r.setState,i,r);if(v.type==="untracked"?m==null||m.init(I):(v.stores[v.store]=r,m==null||m.init(Object.fromEntries(Object.entries(v.stores).map(([C,k])=>[C,C===v.store?I:k.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let C=!1;const k=r.dispatch;r.dispatch=(...R)=>{(KT?"production":void 0)!=="production"&&R[0].type==="__setState"&&!C&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),C=!0),k(...R)}}return m.subscribe(C=>{var k;switch(C.type){case"ACTION":if(typeof C.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return y_(C.payload,R=>{if(R.type==="__setState"){if(c===void 0){T(R.state);return}Object.keys(R.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const F=R.state[c];if(F==null)return;JSON.stringify(r.getState())!==JSON.stringify(F)&&T(F);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(R)});case"DISPATCH":switch(C.payload.type){case"RESET":return T(I),c===void 0?m==null?void 0:m.init(r.getState()):m==null?void 0:m.init(wm(d.name));case"COMMIT":if(c===void 0){m==null||m.init(r.getState());return}return m==null?void 0:m.init(wm(d.name));case"ROLLBACK":return y_(C.state,R=>{if(c===void 0){T(R),m==null||m.init(r.getState());return}T(R[c]),m==null||m.init(wm(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return y_(C.state,R=>{if(c===void 0){T(R);return}JSON.stringify(r.getState())!==JSON.stringify(R[c])&&T(R[c])});case"IMPORT_STATE":{const{nextLiftedState:R}=C.payload,F=(k=R.computedStates.slice(-1)[0])==null?void 0:k.state;if(!F)return;T(c===void 0?F:F[c]),m==null||m.send(null,R);return}case"PAUSE_RECORDING":return x=!x}return}}),I},wv=fB,y_=(t,e)=>{let n;try{n=JSON.parse(t)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}n!==void 0&&e(n)};function pB(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),c=(s=n.getItem(r))!=null?s:null;return c instanceof Promise?c.then(l):l(c)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const Ay=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return Ay(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Ay(i)(n)}}}},mB=(t,e)=>(n,i,r)=>{let s={storage:pB(()=>localStorage),partialize:C=>C,version:0,merge:(C,k)=>({...k,...C}),...e},l=!1;const c=new Set,d=new Set;let p=s.storage;if(!p)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...C)},i,r);const m=()=>{const C=s.partialize({...i()});return p.setItem(s.name,{state:C,version:s.version})},v=r.setState;r.setState=(C,k)=>{v(C,k),m()};const x=t((...C)=>{n(...C),m()},i,r);r.getInitialState=()=>x;let T;const I=()=>{var C,k;if(!p)return;l=!1,c.forEach(F=>{var D;return F((D=i())!=null?D:x)});const R=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(C=i())!=null?C:x))||void 0;return Ay(p.getItem.bind(p))(s.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==s.version){if(s.migrate){const D=s.migrate(F.state,F.version);return D instanceof Promise?D.then(Z=>[!0,Z]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var D;const[Z,H]=F;if(T=s.merge(H,(D=i())!=null?D:x),n(T,!0),Z)return m()}).then(()=>{R==null||R(T,void 0),T=i(),l=!0,d.forEach(F=>F(T))}).catch(F=>{R==null||R(void 0,F)})};return r.persist={setOptions:C=>{s={...s,...C},C.storage&&(p=C.storage)},clearStorage:()=>{p==null||p.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>I(),hasHydrated:()=>l,onHydrate:C=>(c.add(C),()=>{c.delete(C)}),onFinishHydration:C=>(d.add(C),()=>{d.delete(C)})},s.skipHydration||I(),T||x},Mx=mB,Yi=mu()(wv(Mx((t,e)=>({cartIds:[],cartProducts:[],totalCartPriceWithoutDiscount:0,totalCartPriceWithDiscount:0,totalCartDiscount:0,initializeCart:async()=>{var i;const n=localStorage.getItem("cart-storage");if(n)try{const r=JSON.parse(n),s=(i=r==null?void 0:r.state)==null?void 0:i.cartIds;if(Array.isArray(s)){t({cartIds:s});const l=await e().loadCartProducts(s);t({cartProducts:l}),e().updateCartTotals(l);//!
}else console.error("cartIds     parsedCart.state."),t({cartIds:[]})}catch(r){console.error("    localStorage:",r),t({cartIds:[]})}else t({cartIds:[]})},loadCartProducts:async n=>{try{return(await Promise.all(n.map(async([r,s,l])=>{try{const c=s.charAt(0).toUpperCase()+s.slice(1),d=await rp(c,r);return d.cartQuantity=l,d}catch(c){return console.error(`Err loading Products in Cart: ${r}:`,c),null}}))).filter(r=>r!==null)}catch(i){return console.error("Err loading Products in Cart:",i),[]}},findSameProductInCartById:n=>{const{cartProducts:i}=e();return i.find(r=>r.id===n)},addToCart:(n,i=1)=>{const{cartIds:r,cartProducts:s}=e(),l=r.findIndex(([c])=>c===n.id);if(l!==-1){const[c,d,p]=r[l];if(p+i<=n.quantity){const m=[...r];m[l]=[c,d,p+i];const v=s.find(x=>x.id===n.id);v&&(v.cartQuantity=(v.cartQuantity||0)+i),t({cartIds:m,cartProducts:s}),e().updateCartTotals(s)}else console.warn(",    ,  .")}else if(i<=n.quantity){const c=[...r,[n.id,n.kindOfProduct,i]];n.cartQuantity=i;const d=[...s,n];t({cartIds:c,cartProducts:d}),e().updateCartTotals(d)}else console.warn(",    ,  .")},removeFromCart:(n,i=1)=>{const{cartIds:r,cartProducts:s}=e(),l=r.findIndex(([c])=>c===n.id);if(l!==-1){const[c,d,p]=r[l],m=[...r],v=s.find(x=>x.id===n.id);if(v){const x=(p||0)-i;if(x>0)m[l]=[c,d,x],v.cartQuantity=x;else{m.splice(l,1);const T=s.filter(I=>I.id!==n.id);t({cartIds:m,cartProducts:T}),e().updateCartTotals(T);return}t({cartIds:m,cartProducts:[...s]}),e().updateCartTotals(s)}else console.warn(`  ID ${n.id}    cartProducts.`)}else console.warn(`  ID ${n.id}    cartIds.`)},updateCartTotals:async n=>{let i=0,r=0;for(const l of n){const c=l.cartQuantity||0,d=await l.getAsyncPrice(),p=await l.getDiscountedPrice();i+=c*d,r+=c*p}i=parseFloat(i.toFixed(2)),r=parseFloat(r.toFixed(2));const s=parseFloat((i-r).toFixed(2));t({totalCartPriceWithoutDiscount:i,totalCartPriceWithDiscount:r,totalCartDiscount:s})},clearCart:()=>{t(()=>({cartIds:[],cartProducts:[],totalCartPriceWithoutDiscount:0,totalCartPriceWithDiscount:0,totalCartDiscount:0}))},getCartTotal:()=>e().cartProducts.length}),{name:"cart-storage"}))),Ao=mu()(wv((t,e)=>({wishlistIds:[],wishlistProducts:[],initializeWishlist:async()=>{const n=e().wishlistIds,i=await e().loadWishlistProducts(n);t({wishlistProducts:i})},loadWishlistProducts:async n=>{try{return(await Promise.all(n.map(async([r,s])=>{try{const l=s.charAt(0).toUpperCase()+s.slice(1);return await rp(l,r)}catch(l){return console.error(`Err loading Product for wishlist: ${r}`,l),null}}))).filter(r=>r!==null)}catch(i){return console.error("Error loading wishlist products:",i),[]}},addToWishlist:n=>{const{wishlistIds:i,wishlistProducts:r}=e();if(!i.some(([l])=>l===n.id))if(n.id){const l=[...i,[n.id,n.kindOfProduct]];t({wishlistIds:l,wishlistProducts:[...r,n]})}else console.warn("Product ID is undefined, cannot add to wishlist.")},removeFromWishlist:n=>{const{wishlistIds:i,wishlistProducts:r}=e(),s=i.filter(([c])=>c!==n.id),l=r.filter(c=>c.id!==n.id);t({wishlistIds:s,wishlistProducts:l})},clearWishlist:()=>{t({wishlistIds:[],wishlistProducts:[]})},findSameProductInCartById:n=>e().wishlistProducts.find(i=>i.id===n),saveWishlistByUserToDB:async n=>{const{wishlistIds:i}=e(),r=JSON.stringify(i);try{await ZA(lc(Hs,"wishlists",n.uid),{wishlist:r})}catch(s){console.error("Error saving wishlist to DB:",s)}},loadWishlistByUserFromDB:async n=>{try{const i=await GA(lc(Hs,"wishlists",n.uid));if(i.exists()){const r=i.data().wishlist,s=JSON.parse(r);t({wishlistIds:s});const l=await e().loadWishlistProducts(s);t({wishlistProducts:l})}}catch(i){console.error("Error loading wishlist from DB:",i)}},getWishlistTotal:()=>e().wishlistProducts.length,setWishlistIds:n=>t({wishlistIds:n}),setWishlistProducts:n=>t({wishlistProducts:n})})));let Dx=class{constructor({id:e,name:n,price:i,imageUrl:r="/Products/no-img.jpg",quantity:s=1/0,description:l,discount:c,country:d,fullDescription:p,fullReviews:m}){kt(this,"_id");kt(this,"_name");kt(this,"_price");kt(this,"_quantity");kt(this,"_imageUrl");kt(this,"_description");kt(this,"_discount");kt(this,"_country");kt(this,"_fullDescription");kt(this,"_fullReviews");kt(this,"_volume");kt(this,"_weight");this._id=e??`${n.toLowerCase().trim().replace(/\s+/g,"-")}`,this._name=n,this._price=i,this._quantity=s,this._imageUrl=r,this._description=l,this._discount=c,this._country=d,this._fullDescription=p,this._fullReviews=m}get id(){return this._id}get name(){return this._name}get price(){return this._price}get quantity(){return this._quantity}set quantity(e){e>=0&&(this._quantity=e)}get description(){return this._description}get discount(){return this._discount}get imageUrl(){return this._imageUrl}get country(){return this._country}get fullDescription(){return this._fullDescription}get fullReviews(){return this._fullReviews}addToCart(e=1){e<=this.quantity&&e>0&&Yi.getState().addToCart(this,e)}removeFromCart(e=1){e<=this.quantity&&e>0&&Yi.getState().removeFromCart(this,e)}addToWishList(){Ao.getState().addToWishlist(this)}removeFromWishList(){Ao.getState().removeFromWishlist(this)}async getAsyncPrice(){return this._price}getDiscountedPrice(){return this._discount?this._price-this._price*this._discount/100:this._price}};class ip extends Dx{constructor({volume:n,...i}){super(i);kt(this,"_volume");this._volume=n}get volume(){return this._volume}}class gB extends ip{constructor(){super(...arguments);kt(this,"kindOfProduct","wine")}}class vB extends ip{constructor(){super(...arguments);kt(this,"kindOfProduct","champagne")}}class _B extends ip{constructor(){super(...arguments);kt(this,"kindOfProduct","whiskey")}}class yB extends ip{constructor(){super(...arguments);kt(this,"kindOfProduct","vodka")}}class yc extends Dx{constructor({weight:n,volume:i,...r}){super(r);kt(this,"_weight");kt(this,"_volume");this._weight=n,this._volume=i}get weight(){return this._weight}get volume(){return this._volume}}class wB extends yc{constructor(){super(...arguments);kt(this,"kindOfProduct","delicacy")}}class xB extends yc{constructor(){super(...arguments);kt(this,"kindOfProduct","glass")}}class bB extends yc{constructor(){super(...arguments);kt(this,"kindOfProduct","candle")}}class SB extends yc{constructor(){super(...arguments);kt(this,"kindOfProduct","cheese")}}class TB extends yc{constructor(){super(...arguments);kt(this,"kindOfProduct","cookie")}}class EB extends yc{constructor(){super(...arguments);kt(this,"kindOfProduct","sauce")}}class Vx extends Dx{constructor({structure:n,weight:i,...r}){super({...r,price:0});kt(this,"_structure");kt(this,"_weight");kt(this,"kindOfProduct","box");this._structure=n,this._weight=i,this.getAsyncPrice()}get weight(){return this._weight}get structure(){return this._structure}get price(){return this._price}async getAsyncPrice(){if(this._price!==0)return this._price;{const n=await this.fetchDetailedStructure(),i=(await Promise.all(n.map(r=>r.price))).reduce((r,s)=>r+s,0);return this._price=i,i}}async fetchDetailedStructure(){return await PB.call(this)}async fetchProductInfo(){const n=await this.fetchDetailedStructure(),i=await Promise.all(n.map(async r=>{var l;return{name:r.name,description:r.description??"no description available",maker:((l=r.fullDescription)==null?void 0:l.maker)??"unknown maker",weightOrVolume:this.getWeightOrVolume(r)}}));return{nameInfo:this.name,structureInfo:i}}getWeightOrVolume(n){return n instanceof ip?`${n.volume}L`:n instanceof yc?n.weight?`${n.weight}kg`:`${n.volume}l`:"not specified"}}const Ok={wine:gB,champagne:vB,whiskey:_B,vodka:yB,delicacy:wB,glass:xB,candle:bB,cheese:SB,cookie:TB,sauce:EB,box:Vx};function jx(t){const{kindOfProduct:e}=t,n=Ok[e];if(!n)throw new Error(`Unsupported product type: ${e}`);return n}const Fx=async t=>{const e=[];try{(await mv(Qf(Hs,"Products",t,"items"))).forEach(i=>{const r=i.data();try{const s=jx(r),l=new s(r);e.push(l)}catch{console.error("Error creating product instance")}})}catch(n){console.error("Error fetching products:",n)}return e},rp=async(t,e)=>{try{const n=Qf(Hs,"Products",t,"items"),i=$A(n,iF("id","==",e)),r=await mv(i);if(!r.empty){const l=r.docs[0].data();try{const c=jx(l);return new c(l)}catch(c){return console.error("Error creating product instance:",c),null}}}catch(n){console.error("Error fetching product by ID:",n)}return null},PB=async function(){//! use with call/apply to set the context of this function to the Box instance
const t=[];for(const[e,n]of Object.entries(this._structure))try{const i=e.charAt(0).toUpperCase()+e.slice(1),r=await Promise.all(n.map(s=>rp(i,s)));t.push(...r.filter(s=>s!==null))}catch(i){console.error("Error fetching detailed structure:",i)}return t},CB=async t=>{const e=t.map(async n=>{const{id:i,cartQuantity:r=0,quantity:s,kindOfProduct:l}=n;if(!i||s===void 0)return;const c=s-r;if(isNaN(c)||c<0){console.warn(`   id ${i}   `);return}const d=lc(Hs,"Products",zr(l),"items",i);try{await lF(d,{quantity:c})}catch(p){console.error(` Failed to update item with id ${i}:`,p)}});await Promise.all(e)},IB=async()=>{const t=[];for(const e of Object.keys(Ok))try{(await mv(Qf(Hs,"Products",zr(e),"items"))).forEach(i=>{const r=i.data();try{const s=jx(r),l=new s(r);t.push(l)}catch(s){console.error(`     ${e}:`,s)}})}catch(n){console.error(`   ${e}:`,n)}return t},Bx=mu(t=>({productsByType:{},filteredProductsByType:{},filtersByType:{},isLoading:!1,setFilters:(e,n)=>{t(i=>{let s=[...i.productsByType[e]||[]];return s=({"With discount":()=>s.filter(c=>c.discount!==void 0&&c.discount>0),"Without discount":()=>s.filter(c=>c.discount===void 0||c.discount===0),"All prices":()=>s}[n.discount]||(()=>s))(),n.country!=="All countries"&&(s=s.filter(c=>c.country===n.country)),{...i,filtersByType:{...i.filtersByType,[e]:n},filteredProductsByType:{...i.filteredProductsByType,[e]:s}}})},loadProductsByType:async e=>{t({isLoading:!0});try{const n={};for(const i of e){const r=i.charAt(0).toUpperCase()+i.slice(1),s=await Fx(r);n[i]=s}t({productsByType:n,filteredProductsByType:n,isLoading:!1})}catch(n){console.error("Product boot error:",n),t({isLoading:!1})}}}));function Gn({imgSrc:t,supTitle:e,title:n,subTitle:i,subTitleLink:r,scrollTo:s,contentWidth:l,product:c}){const{setFilters:d}=Bx();function p(m){if(c){d(c,{discount:"With discount",country:"All countries"});const v=document.querySelector(m);if(v){const x=window.innerWidth<768?84:143,T=v.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:T-x,behavior:"smooth"})}else console.error("Section not found for class:",m)}}return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:$u.special,children:[w.jsx("div",{className:$u.special__img,children:w.jsx("img",{src:t,alt:"special-offer-img"})}),w.jsxs(Ge.div,{variants:sc,className:$u.special__content,children:[w.jsx("h3",{className:$u.special__suptitle,children:e}),w.jsx("h2",{style:{maxWidth:`${l}px`},className:$u.special__title,children:n}),r&&w.jsx(Gt,{className:$u.special__subtitle,to:r,children:i}),s&&w.jsx("button",{onClick:()=>p(s),className:$u.special__subtitle,children:i})]})]})}const AB="_contact_1kfsj_2",kB="_contact__container_1kfsj_15",RB="_contact__info_1kfsj_30",LB="_contact__title_1kfsj_41",OB="_contact__form_1kfsj_56",NB="_contact__form_name_1kfsj_68",MB="_contact__form_email_1kfsj_74",DB="_contact__form_message_1kfsj_80",VB="_contact__form_btn_1kfsj_88",jB="_contact__form_status_1kfsj_122",FB="_contact__img_1kfsj_130",BB="_contact__winespot_1kfsj_150",rs={contact:AB,contact__container:kB,contact__info:RB,contact__title:LB,contact__form:OB,contact__form_name:NB,contact__form_email:MB,contact__form_message:DB,contact__form_btn:VB,contact__form_status:jB,contact__img:FB,contact__winespot:BB};class sp{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const zB=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},pi={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:zB()},zx=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},UB=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=zx(t);pi.publicKey=n.publicKey,pi.blockHeadless=n.blockHeadless,pi.storageProvider=n.storageProvider,pi.blockList=n.blockList,pi.limitRate=n.limitRate,pi.origin=n.origin||e},Nk=async(t,e,n={})=>{const i=await fetch(pi.origin+t,{method:"POST",headers:n,body:e}),r=await i.text(),s=new sp(i.status,r);if(i.ok)return s;throw s},Mk=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},$B=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Dk=t=>t.webdriver||!t.languages||t.languages.length===0,Vk=()=>new sp(451,"Unavailable For Headless Browser"),HB=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},WB=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},qB=(t,e)=>t instanceof FormData?t.get(e):t[e],jk=(t,e)=>{if(WB(t))return!1;HB(t.list,t.watchVariable);const n=qB(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},Fk=()=>new sp(403,"Forbidden"),GB=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},KB=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},Bk=async(t,e,n)=>{if(!e.throttle||!n)return!1;GB(e.throttle,e.id);const i=e.id||t;return await KB(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},zk=()=>new sp(429,"Too Many Requests"),ZB=async(t,e,n,i)=>{const r=zx(i),s=r.publicKey||pi.publicKey,l=r.blockHeadless||pi.blockHeadless,c=r.storageProvider||pi.storageProvider,d={...pi.blockList,...r.blockList},p={...pi.limitRate,...r.limitRate};return l&&Dk(navigator)?Promise.reject(Vk()):(Mk(s,t,e),$B(n),n&&jk(d,n)?Promise.reject(Fk()):await Bk(location.pathname,p,c)?Promise.reject(zk()):Nk("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},QB=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},YB=t=>typeof t=="string"?document.querySelector(t):t,XB=async(t,e,n,i)=>{const r=zx(i),s=r.publicKey||pi.publicKey,l=r.blockHeadless||pi.blockHeadless,c=pi.storageProvider||r.storageProvider,d={...pi.blockList,...r.blockList},p={...pi.limitRate,...r.limitRate};if(l&&Dk(navigator))return Promise.reject(Vk());const m=YB(n);Mk(s,t,e),QB(m);const v=new FormData(m);return jk(d,v)?Promise.reject(Fk()):await Bk(location.pathname,p,c)?Promise.reject(zk()):(v.append("lib_version","4.4.1"),v.append("service_id",t),v.append("template_id",e),v.append("user_id",s),Nk("/api/v1.0/email/send-form",v))},Eg={init:UB,send:ZB,sendForm:XB,EmailJSResponseStatus:sp};function Ro(){const[t,e]=B.useState(1),n=B.useRef(null);return B.useEffect(()=>{const i=()=>{if(!n.current)return;const{top:r,height:s}=n.current.getBoundingClientRect(),l=window.innerHeight;if(r+s<0||r>l)e(0);else{const c=Math.abs(l/2-(r+s/2)),d=s/2,p=1-Math.min(c/d,1);e(p)}};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]),{opacity:t,blockRef:n}}var op=t=>t.type==="checkbox",Zu=t=>t instanceof Date,Ki=t=>t==null;const Uk=t=>typeof t=="object";var Cn=t=>!Ki(t)&&!Array.isArray(t)&&Uk(t)&&!Zu(t),$k=t=>Cn(t)&&t.target?op(t.target)?t.target.checked:t.target.value:t,JB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Hk=(t,e)=>t.has(JB(e)),ez=t=>{const e=t.constructor&&t.constructor.prototype;return Cn(e)&&e.hasOwnProperty("isPrototypeOf")},Ux=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ux&&(t instanceof Blob||i))&&(n||Cn(t)))if(e=n?[]:{},!n&&!ez(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_r(t[r]));else return t;return e}var xv=t=>Array.isArray(t)?t.filter(Boolean):[],Pn=t=>t===void 0,Ne=(t,e,n)=>{if(!e||!Cn(t))return n;const i=xv(e.split(/[,[\].]+?/)).reduce((r,s)=>Ki(r)?r:r[s],t);return Pn(i)||i===t?Pn(t[e])?n:t[e]:i},ls=t=>typeof t=="boolean",$x=t=>/^\w*$/.test(t),Wk=t=>xv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Yt=(t,e,n)=>{let i=-1;const r=$x(e)?[e]:Wk(e),s=r.length,l=s-1;for(;++i<s;){const c=r[i];let d=n;if(i!==l){const p=t[c];d=Cn(p)||Array.isArray(p)?p:isNaN(+r[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=d,t=t[c]}return t};const Pg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tz=ot.createContext(null),Hx=()=>ot.useContext(tz);var qk=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const l=s;return e._proxyFormState[l]!==Fs.all&&(e._proxyFormState[l]=!i||Fs.all),n&&(n[l]=!0),t[l]}});return r},xr=t=>Cn(t)&&!Object.keys(t).length,Gk=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return xr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(l=>e[l]===(!i||Fs.all))},sf=t=>Array.isArray(t)?t:[t],Kk=(t,e,n)=>!t||!e||t===e||sf(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i)));function Wx(t){const e=ot.useRef(t);e.current=t,ot.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function nz(t){const e=Hx(),{control:n=e.control,disabled:i,name:r,exact:s}=t||{},[l,c]=ot.useState(n._formState),d=ot.useRef(!0),p=ot.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=ot.useRef(r);return m.current=r,Wx({disabled:i,next:v=>d.current&&Kk(m.current,v.name,s)&&Gk(v,p.current,n._updateFormState)&&c({...n._formState,...v}),subject:n._subjects.state}),ot.useEffect(()=>(d.current=!0,p.current.isValid&&n._updateValid(!0),()=>{d.current=!1}),[n]),ot.useMemo(()=>qk(l,n,p.current,!1),[l,n])}var _o=t=>typeof t=="string",Zk=(t,e,n,i,r)=>_o(t)?(i&&e.watch.add(t),Ne(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),Ne(n,s))):(i&&(e.watchAll=!0),n);function iz(t){const e=Hx(),{control:n=e.control,name:i,defaultValue:r,disabled:s,exact:l}=t||{},c=ot.useRef(i);c.current=i,Wx({disabled:s,subject:n._subjects.values,next:m=>{Kk(c.current,m.name,l)&&p(_r(Zk(c.current,n._names,m.values||n._formValues,!1,r)))}});const[d,p]=ot.useState(n._getWatch(i,r));return ot.useEffect(()=>n._removeUnmounted()),d}function rz(t){const e=Hx(),{name:n,disabled:i,control:r=e.control,shouldUnregister:s}=t,l=Hk(r._names.array,n),c=iz({control:r,name:n,defaultValue:Ne(r._formValues,n,Ne(r._defaultValues,n,t.defaultValue)),exact:!0}),d=nz({control:r,name:n,exact:!0}),p=ot.useRef(r.register(n,{...t.rules,value:c,...ls(t.disabled)?{disabled:t.disabled}:{}})),m=ot.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ne(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ne(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ne(d.validatingFields,n)},error:{enumerable:!0,get:()=>Ne(d.errors,n)}}),[d,n]),v=ot.useMemo(()=>({name:n,value:c,...ls(i)||d.disabled?{disabled:d.disabled||i}:{},onChange:x=>p.current.onChange({target:{value:$k(x),name:n},type:Pg.CHANGE}),onBlur:()=>p.current.onBlur({target:{value:Ne(r._formValues,n),name:n},type:Pg.BLUR}),ref:x=>{const T=Ne(r._fields,n);T&&x&&(T._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:I=>x.setCustomValidity(I),reportValidity:()=>x.reportValidity()})}}),[n,r._formValues,i,d.disabled,c,r._fields]);return ot.useEffect(()=>{const x=r._options.shouldUnregister||s,T=(I,C)=>{const k=Ne(r._fields,I);k&&k._f&&(k._f.mount=C)};if(T(n,!0),x){const I=_r(Ne(r._options.defaultValues,n));Yt(r._defaultValues,n,I),Pn(Ne(r._formValues,n))&&Yt(r._formValues,n,I)}return!l&&r.register(n),()=>{(l?x&&!r._state.action:x)?r.unregister(n):T(n,!1)}},[n,r,l,s]),ot.useEffect(()=>{r._updateDisabledField({disabled:i,fields:r._fields,name:n})},[i,n,r]),ot.useMemo(()=>({field:v,formState:d,fieldState:m}),[v,d,m])}const Qk=t=>t.render(rz(t));var sz=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},ZT=t=>({isOnSubmit:!t||t===Fs.onSubmit,isOnBlur:t===Fs.onBlur,isOnChange:t===Fs.onChange,isOnAll:t===Fs.all,isOnTouch:t===Fs.onTouched}),QT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const of=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=Ne(t,r);if(s){const{_f:l,...c}=s;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],r)&&!i)return!0;if(l.ref&&e(l.ref,l.name)&&!i)return!0;if(of(c,e))break}else if(Cn(c)&&of(c,e))break}}};var oz=(t,e,n)=>{const i=sf(Ne(t,n));return Yt(i,"root",e[n]),Yt(t,n,i),t},qx=t=>t.type==="file",vo=t=>typeof t=="function",Cg=t=>{if(!Ux)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wm=t=>_o(t),Gx=t=>t.type==="radio",Ig=t=>t instanceof RegExp;const YT={value:!1,isValid:!1},XT={value:!0,isValid:!0};var Yk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pn(t[0].attributes.value)?Pn(t[0].value)||t[0].value===""?XT:{value:t[0].value,isValid:!0}:XT:YT}return YT};const JT={isValid:!1,value:null};var Xk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,JT):JT;function eE(t,e,n="validate"){if(Wm(t)||Array.isArray(t)&&t.every(Wm)||ls(t)&&!t)return{type:n,message:Wm(t)?t:"",ref:e}}var Jc=t=>Cn(t)&&!Ig(t)?t:{value:t,message:""},tE=async(t,e,n,i,r,s)=>{const{ref:l,refs:c,required:d,maxLength:p,minLength:m,min:v,max:x,pattern:T,validate:I,name:C,valueAsNumber:k,mount:R}=t._f,F=Ne(n,C);if(!R||e.has(C))return{};const D=c?c[0]:l,Z=q=>{r&&D.reportValidity&&(D.setCustomValidity(ls(q)?"":q||""),D.reportValidity())},H={},Q=Gx(l),U=op(l),N=Q||U,V=(k||qx(l))&&Pn(l.value)&&Pn(F)||Cg(l)&&l.value===""||F===""||Array.isArray(F)&&!F.length,z=sz.bind(null,C,i,H),G=(q,$,xe,Oe=da.maxLength,Re=da.minLength)=>{const Pe=q?$:xe;H[C]={type:q?Oe:Re,message:Pe,ref:l,...z(q?Oe:Re,Pe)}};if(s?!Array.isArray(F)||!F.length:d&&(!N&&(V||Ki(F))||ls(F)&&!F||U&&!Yk(c).isValid||Q&&!Xk(c).isValid)){const{value:q,message:$}=Wm(d)?{value:!!d,message:d}:Jc(d);if(q&&(H[C]={type:da.required,message:$,ref:D,...z(da.required,$)},!i))return Z($),H}if(!V&&(!Ki(v)||!Ki(x))){let q,$;const xe=Jc(x),Oe=Jc(v);if(!Ki(F)&&!isNaN(F)){const Re=l.valueAsNumber||F&&+F;Ki(xe.value)||(q=Re>xe.value),Ki(Oe.value)||($=Re<Oe.value)}else{const Re=l.valueAsDate||new Date(F),Pe=ae=>new Date(new Date().toDateString()+" "+ae),ie=l.type=="time",_e=l.type=="week";_o(xe.value)&&F&&(q=ie?Pe(F)>Pe(xe.value):_e?F>xe.value:Re>new Date(xe.value)),_o(Oe.value)&&F&&($=ie?Pe(F)<Pe(Oe.value):_e?F<Oe.value:Re<new Date(Oe.value))}if((q||$)&&(G(!!q,xe.message,Oe.message,da.max,da.min),!i))return Z(H[C].message),H}if((p||m)&&!V&&(_o(F)||s&&Array.isArray(F))){const q=Jc(p),$=Jc(m),xe=!Ki(q.value)&&F.length>+q.value,Oe=!Ki($.value)&&F.length<+$.value;if((xe||Oe)&&(G(xe,q.message,$.message),!i))return Z(H[C].message),H}if(T&&!V&&_o(F)){const{value:q,message:$}=Jc(T);if(Ig(q)&&!F.match(q)&&(H[C]={type:da.pattern,message:$,ref:l,...z(da.pattern,$)},!i))return Z($),H}if(I){if(vo(I)){const q=await I(F,n),$=eE(q,D);if($&&(H[C]={...$,...z(da.validate,$.message)},!i))return Z($.message),H}else if(Cn(I)){let q={};for(const $ in I){if(!xr(q)&&!i)break;const xe=eE(await I[$](F,n),D,$);xe&&(q={...xe,...z($,xe.message)},Z(xe.message),i&&(H[C]=q))}if(!xr(q)&&(H[C]={ref:D,...q},!i))return H}}return Z(!0),H};function az(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Pn(t)?i++:t[e[i++]];return t}function lz(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pn(t[e]))return!1;return!0}function $n(t,e){const n=Array.isArray(e)?e:$x(e)?[e]:Wk(e),i=n.length===1?t:az(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(Cn(i)&&xr(i)||Array.isArray(i)&&lz(i))&&$n(t,n.slice(0,-1)),t}var w_=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}},ky=t=>Ki(t)||!Uk(t);function Bl(t,e){if(ky(t)||ky(e))return t===e;if(Zu(t)&&Zu(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const r of n){const s=t[r];if(!i.includes(r))return!1;if(r!=="ref"){const l=e[r];if(Zu(s)&&Zu(l)||Cn(s)&&Cn(l)||Array.isArray(s)&&Array.isArray(l)?!Bl(s,l):s!==l)return!1}}return!0}var Jk=t=>t.type==="select-multiple",uz=t=>Gx(t)||op(t),x_=t=>Cg(t)&&t.isConnected,eR=t=>{for(const e in t)if(vo(t[e]))return!0;return!1};function Ag(t,e={}){const n=Array.isArray(t);if(Cn(t)||n)for(const i in t)Array.isArray(t[i])||Cn(t[i])&&!eR(t[i])?(e[i]=Array.isArray(t[i])?[]:{},Ag(t[i],e[i])):Ki(t[i])||(e[i]=!0);return e}function tR(t,e,n){const i=Array.isArray(t);if(Cn(t)||i)for(const r in t)Array.isArray(t[r])||Cn(t[r])&&!eR(t[r])?Pn(e)||ky(n[r])?n[r]=Array.isArray(t[r])?Ag(t[r],[]):{...Ag(t[r])}:tR(t[r],Ki(e)?{}:e[r],n[r]):n[r]=!Bl(t[r],e[r]);return n}var Mh=(t,e)=>tR(t,e,Ag(e)),nR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Pn(t)?t:e?t===""?NaN:t&&+t:n&&_o(t)?new Date(t):i?i(t):t;function b_(t){const e=t.ref;return qx(e)?e.files:Gx(e)?Xk(t.refs).value:Jk(e)?[...e.selectedOptions].map(({value:n})=>n):op(e)?Yk(t.refs).value:nR(Pn(e.value)?t.ref.value:e.value,t)}var cz=(t,e,n,i)=>{const r={};for(const s of t){const l=Ne(e,s);l&&Yt(r,s,l._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},Dh=t=>Pn(t)?t:Ig(t)?t.source:Cn(t)?Ig(t.value)?t.value.source:t.value:t;const nE="AsyncFunction";var dz=t=>!!t&&!!t.validate&&!!(vo(t.validate)&&t.validate.constructor.name===nE||Cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nE)),hz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function iE(t,e,n){const i=Ne(t,n);if(i||$x(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),l=Ne(e,s),c=Ne(t,s);if(l&&!Array.isArray(l)&&n!==s)return{name:n};if(c&&c.type)return{name:s,error:c};r.pop()}return{name:n}}var fz=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,pz=(t,e)=>!xv(Ne(t,e)).length&&$n(t,e);const mz={mode:Fs.onSubmit,reValidateMode:Fs.onChange,shouldFocusError:!0};function gz(t={}){let e={...mz,...t},n={submitCount:0,isDirty:!1,isLoading:vo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=Cn(e.defaultValues)||Cn(e.values)?_r(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:_r(r),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,p=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:w_(),array:w_(),state:w_()},x=ZT(e.mode),T=ZT(e.reValidateMode),I=e.criteriaMode===Fs.all,C=X=>ue=>{clearTimeout(p),p=setTimeout(X,ue)},k=async X=>{if(!e.disabled&&(m.isValid||X)){const ue=e.resolver?xr((await N()).errors):await z(i,!0);ue!==n.isValid&&v.state.next({isValid:ue})}},R=(X,ue)=>{!e.disabled&&(m.isValidating||m.validatingFields)&&((X||Array.from(c.mount)).forEach(pe=>{pe&&(ue?Yt(n.validatingFields,pe,ue):$n(n.validatingFields,pe))}),v.state.next({validatingFields:n.validatingFields,isValidating:!xr(n.validatingFields)}))},F=(X,ue=[],pe,ke,Ie=!0,Se=!0)=>{if(ke&&pe&&!e.disabled){if(l.action=!0,Se&&Array.isArray(Ne(i,X))){const We=pe(Ne(i,X),ke.argA,ke.argB);Ie&&Yt(i,X,We)}if(Se&&Array.isArray(Ne(n.errors,X))){const We=pe(Ne(n.errors,X),ke.argA,ke.argB);Ie&&Yt(n.errors,X,We),pz(n.errors,X)}if(m.touchedFields&&Se&&Array.isArray(Ne(n.touchedFields,X))){const We=pe(Ne(n.touchedFields,X),ke.argA,ke.argB);Ie&&Yt(n.touchedFields,X,We)}m.dirtyFields&&(n.dirtyFields=Mh(r,s)),v.state.next({name:X,isDirty:q(X,ue),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Yt(s,X,ue)},D=(X,ue)=>{Yt(n.errors,X,ue),v.state.next({errors:n.errors})},Z=X=>{n.errors=X,v.state.next({errors:n.errors,isValid:!1})},H=(X,ue,pe,ke)=>{const Ie=Ne(i,X);if(Ie){const Se=Ne(s,X,Pn(pe)?Ne(r,X):pe);Pn(Se)||ke&&ke.defaultChecked||ue?Yt(s,X,ue?Se:b_(Ie._f)):Oe(X,Se),l.mount&&k()}},Q=(X,ue,pe,ke,Ie)=>{let Se=!1,We=!1;const ft={name:X};if(!e.disabled){const vt=!!(Ne(i,X)&&Ne(i,X)._f&&Ne(i,X)._f.disabled);if(!pe||ke){m.isDirty&&(We=n.isDirty,n.isDirty=ft.isDirty=q(),Se=We!==ft.isDirty);const yt=vt||Bl(Ne(r,X),ue);We=!!(!vt&&Ne(n.dirtyFields,X)),yt||vt?$n(n.dirtyFields,X):Yt(n.dirtyFields,X,!0),ft.dirtyFields=n.dirtyFields,Se=Se||m.dirtyFields&&We!==!yt}if(pe){const yt=Ne(n.touchedFields,X);yt||(Yt(n.touchedFields,X,pe),ft.touchedFields=n.touchedFields,Se=Se||m.touchedFields&&yt!==pe)}Se&&Ie&&v.state.next(ft)}return Se?ft:{}},U=(X,ue,pe,ke)=>{const Ie=Ne(n.errors,X),Se=m.isValid&&ls(ue)&&n.isValid!==ue;if(e.delayError&&pe?(d=C(()=>D(X,pe)),d(e.delayError)):(clearTimeout(p),d=null,pe?Yt(n.errors,X,pe):$n(n.errors,X)),(pe?!Bl(Ie,pe):Ie)||!xr(ke)||Se){const We={...ke,...Se&&ls(ue)?{isValid:ue}:{},errors:n.errors,name:X};n={...n,...We},v.state.next(We)}},N=async X=>{R(X,!0);const ue=await e.resolver(s,e.context,cz(X||c.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return R(X),ue},V=async X=>{const{errors:ue}=await N(X);if(X)for(const pe of X){const ke=Ne(ue,pe);ke?Yt(n.errors,pe,ke):$n(n.errors,pe)}else n.errors=ue;return ue},z=async(X,ue,pe={valid:!0})=>{for(const ke in X){const Ie=X[ke];if(Ie){const{_f:Se,...We}=Ie;if(Se){const ft=c.array.has(Se.name),vt=Ie._f&&dz(Ie._f);vt&&m.validatingFields&&R([ke],!0);const yt=await tE(Ie,c.disabled,s,I,e.shouldUseNativeValidation&&!ue,ft);if(vt&&m.validatingFields&&R([ke]),yt[Se.name]&&(pe.valid=!1,ue))break;!ue&&(Ne(yt,Se.name)?ft?oz(n.errors,yt,Se.name):Yt(n.errors,Se.name,yt[Se.name]):$n(n.errors,Se.name))}!xr(We)&&await z(We,ue,pe)}}return pe.valid},G=()=>{for(const X of c.unMount){const ue=Ne(i,X);ue&&(ue._f.refs?ue._f.refs.every(pe=>!x_(pe)):!x_(ue._f.ref))&&Ce(X)}c.unMount=new Set},q=(X,ue)=>!e.disabled&&(X&&ue&&Yt(s,X,ue),!Bl(ee(),r)),$=(X,ue,pe)=>Zk(X,c,{...l.mount?s:Pn(ue)?r:_o(X)?{[X]:ue}:ue},pe,ue),xe=X=>xv(Ne(l.mount?s:r,X,e.shouldUnregister?Ne(r,X,[]):[])),Oe=(X,ue,pe={})=>{const ke=Ne(i,X);let Ie=ue;if(ke){const Se=ke._f;Se&&(!Se.disabled&&Yt(s,X,nR(ue,Se)),Ie=Cg(Se.ref)&&Ki(ue)?"":ue,Jk(Se.ref)?[...Se.ref.options].forEach(We=>We.selected=Ie.includes(We.value)):Se.refs?op(Se.ref)?Se.refs.length>1?Se.refs.forEach(We=>(!We.defaultChecked||!We.disabled)&&(We.checked=Array.isArray(Ie)?!!Ie.find(ft=>ft===We.value):Ie===We.value)):Se.refs[0]&&(Se.refs[0].checked=!!Ie):Se.refs.forEach(We=>We.checked=We.value===Ie):qx(Se.ref)?Se.ref.value="":(Se.ref.value=Ie,Se.ref.type||v.values.next({name:X,values:{...s}})))}(pe.shouldDirty||pe.shouldTouch)&&Q(X,Ie,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&ae(X)},Re=(X,ue,pe)=>{for(const ke in ue){const Ie=ue[ke],Se=`${X}.${ke}`,We=Ne(i,Se);(c.array.has(X)||Cn(Ie)||We&&!We._f)&&!Zu(Ie)?Re(Se,Ie,pe):Oe(Se,Ie,pe)}},Pe=(X,ue,pe={})=>{const ke=Ne(i,X),Ie=c.array.has(X),Se=_r(ue);Yt(s,X,Se),Ie?(v.array.next({name:X,values:{...s}}),(m.isDirty||m.dirtyFields)&&pe.shouldDirty&&v.state.next({name:X,dirtyFields:Mh(r,s),isDirty:q(X,Se)})):ke&&!ke._f&&!Ki(Se)?Re(X,Se,pe):Oe(X,Se,pe),QT(X,c)&&v.state.next({...n}),v.values.next({name:l.mount?X:void 0,values:{...s}})},ie=async X=>{l.mount=!0;const ue=X.target;let pe=ue.name,ke=!0;const Ie=Ne(i,pe),Se=()=>ue.type?b_(Ie._f):$k(X),We=ft=>{ke=Number.isNaN(ft)||Zu(ft)&&isNaN(ft.getTime())||Bl(ft,Ne(s,pe,ft))};if(Ie){let ft,vt;const yt=Se(),xn=X.type===Pg.BLUR||X.type===Pg.FOCUS_OUT,Oo=!hz(Ie._f)&&!e.resolver&&!Ne(n.errors,pe)&&!Ie._f.deps||fz(xn,Ne(n.touchedFields,pe),n.isSubmitted,T,x),Vi=QT(pe,c,xn);Yt(s,pe,yt),xn?(Ie._f.onBlur&&Ie._f.onBlur(X),d&&d(0)):Ie._f.onChange&&Ie._f.onChange(X);const Ji=Q(pe,yt,xn,!1),fs=!xr(Ji)||Vi;if(!xn&&v.values.next({name:pe,type:X.type,values:{...s}}),Oo)return m.isValid&&(e.mode==="onBlur"&&xn?k():xn||k()),fs&&v.state.next({name:pe,...Vi?{}:Ji});if(!xn&&Vi&&v.state.next({...n}),e.resolver){const{errors:ps}=await N([pe]);if(We(yt),ke){const ms=iE(n.errors,i,pe),gs=iE(ps,i,ms.name||pe);ft=gs.error,pe=gs.name,vt=xr(ps)}}else R([pe],!0),ft=(await tE(Ie,c.disabled,s,I,e.shouldUseNativeValidation))[pe],R([pe]),We(yt),ke&&(ft?vt=!1:m.isValid&&(vt=await z(i,!0)));ke&&(Ie._f.deps&&ae(Ie._f.deps),U(pe,vt,ft,Ji))}},_e=(X,ue)=>{if(Ne(n.errors,ue)&&X.focus)return X.focus(),1},ae=async(X,ue={})=>{let pe,ke;const Ie=sf(X);if(e.resolver){const Se=await V(Pn(X)?X:Ie);pe=xr(Se),ke=X?!Ie.some(We=>Ne(Se,We)):pe}else X?(ke=(await Promise.all(Ie.map(async Se=>{const We=Ne(i,Se);return await z(We&&We._f?{[Se]:We}:We)}))).every(Boolean),!(!ke&&!n.isValid)&&k()):ke=pe=await z(i);return v.state.next({...!_o(X)||m.isValid&&pe!==n.isValid?{}:{name:X},...e.resolver||!X?{isValid:pe}:{},errors:n.errors}),ue.shouldFocus&&!ke&&of(i,_e,X?Ie:c.mount),ke},ee=X=>{const ue={...l.mount?s:r};return Pn(X)?ue:_o(X)?Ne(ue,X):X.map(pe=>Ne(ue,pe))},ce=(X,ue)=>({invalid:!!Ne((ue||n).errors,X),isDirty:!!Ne((ue||n).dirtyFields,X),error:Ne((ue||n).errors,X),isValidating:!!Ne(n.validatingFields,X),isTouched:!!Ne((ue||n).touchedFields,X)}),Ee=X=>{X&&sf(X).forEach(ue=>$n(n.errors,ue)),v.state.next({errors:X?n.errors:{}})},De=(X,ue,pe)=>{const ke=(Ne(i,X,{_f:{}})._f||{}).ref,Ie=Ne(n.errors,X)||{},{ref:Se,message:We,type:ft,...vt}=Ie;Yt(n.errors,X,{...vt,...ue,ref:ke}),v.state.next({name:X,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&ke&&ke.focus&&ke.focus()},Le=(X,ue)=>vo(X)?v.values.subscribe({next:pe=>X($(void 0,ue),pe)}):$(X,ue,!0),Ce=(X,ue={})=>{for(const pe of X?sf(X):c.mount)c.mount.delete(pe),c.array.delete(pe),ue.keepValue||($n(i,pe),$n(s,pe)),!ue.keepError&&$n(n.errors,pe),!ue.keepDirty&&$n(n.dirtyFields,pe),!ue.keepTouched&&$n(n.touchedFields,pe),!ue.keepIsValidating&&$n(n.validatingFields,pe),!e.shouldUnregister&&!ue.keepDefaultValue&&$n(r,pe);v.values.next({values:{...s}}),v.state.next({...n,...ue.keepDirty?{isDirty:q()}:{}}),!ue.keepIsValid&&k()},Xe=({disabled:X,name:ue,field:pe,fields:ke})=>{(ls(X)&&l.mount||X||c.disabled.has(ue))&&(X?c.disabled.add(ue):c.disabled.delete(ue),Q(ue,b_(pe?pe._f:Ne(ke,ue)._f),!1,!1,!0))},Qe=(X,ue={})=>{let pe=Ne(i,X);const ke=ls(ue.disabled)||ls(e.disabled);return Yt(i,X,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:X}},name:X,mount:!0,...ue}}),c.mount.add(X),pe?Xe({field:pe,disabled:ls(ue.disabled)?ue.disabled:e.disabled,name:X}):H(X,!0,ue.value),{...ke?{disabled:ue.disabled||e.disabled}:{},...e.progressive?{required:!!ue.required,min:Dh(ue.min),max:Dh(ue.max),minLength:Dh(ue.minLength),maxLength:Dh(ue.maxLength),pattern:Dh(ue.pattern)}:{},name:X,onChange:ie,onBlur:ie,ref:Ie=>{if(Ie){Qe(X,ue),pe=Ne(i,X);const Se=Pn(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,We=uz(Se),ft=pe._f.refs||[];if(We?ft.find(vt=>vt===Se):Se===pe._f.ref)return;Yt(i,X,{_f:{...pe._f,...We?{refs:[...ft.filter(x_),Se,...Array.isArray(Ne(r,X))?[{}]:[]],ref:{type:Se.type,name:X}}:{ref:Se}}}),H(X,!1,void 0,Se)}else pe=Ne(i,X,{}),pe._f&&(pe._f.mount=!1),(e.shouldUnregister||ue.shouldUnregister)&&!(Hk(c.array,X)&&l.action)&&c.unMount.add(X)}}},Tt=()=>e.shouldFocusError&&of(i,_e,c.mount),Xt=X=>{ls(X)&&(v.state.next({disabled:X}),of(i,(ue,pe)=>{const ke=Ne(i,pe);ke&&(ue.disabled=ke._f.disabled||X,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ie=>{Ie.disabled=ke._f.disabled||X}))},0,!1))},jn=(X,ue)=>async pe=>{let ke;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Ie=_r(s);if(c.disabled.size)for(const Se of c.disabled)Yt(Ie,Se,void 0);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:We}=await N();n.errors=Se,Ie=We}else await z(i);if($n(n.errors,"root"),xr(n.errors)){v.state.next({errors:{}});try{await X(Ie,pe)}catch(Se){ke=Se}}else ue&&await ue({...n.errors},pe),Tt(),setTimeout(Tt);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xr(n.errors)&&!ke,submitCount:n.submitCount+1,errors:n.errors}),ke)throw ke},ni=(X,ue={})=>{Ne(i,X)&&(Pn(ue.defaultValue)?Pe(X,_r(Ne(r,X))):(Pe(X,ue.defaultValue),Yt(r,X,_r(ue.defaultValue))),ue.keepTouched||$n(n.touchedFields,X),ue.keepDirty||($n(n.dirtyFields,X),n.isDirty=ue.defaultValue?q(X,_r(Ne(r,X))):q()),ue.keepError||($n(n.errors,X),m.isValid&&k()),v.state.next({...n}))},ii=(X,ue={})=>{const pe=X?_r(X):r,ke=_r(pe),Ie=xr(X),Se=Ie?r:ke;if(ue.keepDefaultValues||(r=pe),!ue.keepValues){if(ue.keepDirtyValues){const We=new Set([...c.mount,...Object.keys(Mh(r,s))]);for(const ft of Array.from(We))Ne(n.dirtyFields,ft)?Yt(Se,ft,Ne(s,ft)):Pe(ft,Ne(Se,ft))}else{if(Ux&&Pn(X))for(const We of c.mount){const ft=Ne(i,We);if(ft&&ft._f){const vt=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(Cg(vt)){const yt=vt.closest("form");if(yt){yt.reset();break}}}}i={}}s=e.shouldUnregister?ue.keepDefaultValues?_r(r):{}:_r(Se),v.array.next({values:{...Se}}),v.values.next({values:{...Se}})}c={mount:ue.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,l.watch=!!e.shouldUnregister,v.state.next({submitCount:ue.keepSubmitCount?n.submitCount:0,isDirty:Ie?!1:ue.keepDirty?n.isDirty:!!(ue.keepDefaultValues&&!Bl(X,r)),isSubmitted:ue.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ie?{}:ue.keepDirtyValues?ue.keepDefaultValues&&s?Mh(r,s):n.dirtyFields:ue.keepDefaultValues&&X?Mh(r,X):ue.keepDirty?n.dirtyFields:{},touchedFields:ue.keepTouched?n.touchedFields:{},errors:ue.keepErrors?n.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Di=(X,ue)=>ii(vo(X)?X(s):X,ue);return{control:{register:Qe,unregister:Ce,getFieldState:ce,handleSubmit:jn,setError:De,_executeSchema:N,_getWatch:$,_getDirty:q,_updateValid:k,_removeUnmounted:G,_updateFieldArray:F,_updateDisabledField:Xe,_getFieldArray:xe,_reset:ii,_resetDefaultValues:()=>vo(e.defaultValues)&&e.defaultValues().then(X=>{Di(X,e.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:X=>{n={...n,...X}},_disableForm:Xt,_subjects:v,_proxyFormState:m,_setErrors:Z,get _fields(){return i},get _formValues(){return s},get _state(){return l},set _state(X){l=X},get _defaultValues(){return r},get _names(){return c},set _names(X){c=X},get _formState(){return n},set _formState(X){n=X},get _options(){return e},set _options(X){e={...e,...X}}},trigger:ae,register:Qe,handleSubmit:jn,watch:Le,setValue:Pe,getValues:ee,reset:Di,resetField:ni,clearErrors:Ee,unregister:Ce,setError:De,setFocus:(X,ue={})=>{const pe=Ne(i,X),ke=pe&&pe._f;if(ke){const Ie=ke.refs?ke.refs[0]:ke.ref;Ie.focus&&(Ie.focus(),ue.shouldSelect&&vo(Ie.select)&&Ie.select())}},getFieldState:ce}}function ap(t={}){const e=ot.useRef(void 0),n=ot.useRef(void 0),[i,r]=ot.useState({isDirty:!1,isValidating:!1,isLoading:vo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:vo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...gz(t),formState:i});const s=e.current.control;return s._options=t,Wx({subject:s._subjects.state,next:l=>{Gk(l,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),ot.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ot.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==i.isDirty&&s._subjects.state.next({isDirty:l})}},[s,i.isDirty]),ot.useEffect(()=>{t.values&&!Bl(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,r(l=>({...l}))):s._resetDefaultValues()},[t.values,s]),ot.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ot.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ot.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=qk(i,s),e.current}function vz(){var d,p,m;const{opacity:t,blockRef:e}=Ro(),{register:n,handleSubmit:i,reset:r,formState:{errors:s,isSubmitting:l}}=ap();B.useEffect(()=>{Eg.init("hqt9CD7I-ql_oArvG")},[]);const c=async v=>{const x="service_6bxbs4a",T="template_tiwy8bx";try{await Eg.send(x,T,{...v}),alert("Email successfully sent. Thanks for your feedback."),r()}catch(I){alert("Email rejected, check error in console."),console.log(I)}};return w.jsxs("section",{ref:e,className:rs.contact,children:[w.jsxs("div",{className:rs.contact__container,children:[w.jsxs("div",{className:rs.contact__info,children:[w.jsx("h2",{className:rs.contact__title,children:"Contact us"}),w.jsxs("form",{className:rs.contact__form,id:"contact",onSubmit:i(c),children:[w.jsx("input",{placeholder:"Enter your name...",className:rs.contact__form_name,type:"text",...n("name",{required:"Name is required"})}),w.jsx("input",{placeholder:"Enter your email...",className:rs.contact__form_email,type:"email",...n("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}})}),w.jsx("textarea",{placeholder:"Your message...",className:rs.contact__form_message,...n("text",{required:"Message is required"})}),w.jsx("button",{type:"submit",className:rs.contact__form_btn,disabled:l,children:l?"Submitting...":"Submit"})]}),Object.keys(s).length>0&&w.jsx("p",{className:rs.contact__form_status,children:[(d=s.name)==null?void 0:d.message,(p=s.email)==null?void 0:p.message,(m=s.text)==null?void 0:m.message].filter(Boolean).join(", ")})]}),w.jsx("div",{className:rs.contact__img,children:w.jsx("img",{src:"./HomePage/ContactUs/wine-glass1.jpg",alt:"wine-glasses"})})]}),w.jsx("div",{style:{opacity:t},className:rs.contact__winespot,children:w.jsx("img",{src:"./WineSpots/wine-spot.png",alt:"wine-spot"})})]})}const _z="_delivery_1i7w2_2",yz="_delivery__container_1i7w2_6",wz="_delivery__content_1i7w2_14",xz="_delivery__title_1i7w2_30",bz="_delivery__img_1i7w2_46",Sz="_delivery__text_1i7w2_57",Tz="_delivery__text_block_1i7w2_69",Ez="_delivery__winespot2_1i7w2_107",ha={delivery:_z,delivery__container:yz,delivery__content:wz,delivery__title:xz,delivery__img:bz,delivery__text:Sz,delivery__text_block:Tz,delivery__winespot2:Ez};function lp({to:t,children:e}){return w.jsx(Gt,{to:t,className:`transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] 
               text-[#7a0000] font-inter font-semibold text-center uppercase 
               border border-[#7a0000] rounded-[50%] px-16 py-9 
               text-[16px] md:text-[14px] leading-normal 
               hover:text-white hover:bg-[#7a0000]`,children:e})}function Pz(){const{opacity:t,blockRef:e}=Ro();return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},ref:e,className:ha.delivery,children:[w.jsxs("div",{className:ha.delivery__container,children:[w.jsx(Ge.h2,{variants:In,className:ha.delivery__title,children:"Delivery"}),w.jsxs("div",{className:ha.delivery__content,children:[w.jsx("div",{className:ha.delivery__img,children:w.jsx("img",{src:"./HomePage/Delivery/wine-cork.jpg",alt:"cork"})}),w.jsx("div",{className:ha.delivery__text,children:"Wine delivery services provide customers with a convenient way to enjoy their favorite bottles without leaving home. Whether ordering a single bottle or stocking up for an event, stores offer a variety of delivery options to suit different needs. Many shops also provide special packaging to ensure that wines arrive in perfect condition. Some retailers even offer same-day delivery for last-minute plans, adding an extra layer of convenience. Additionally, many services include tracking features, so customers can monitor their order from dispatch to doorstep."}),w.jsxs("div",{className:ha.delivery__text_block,children:[w.jsx("div",{className:ha.delivery__text,children:"In addition to fast delivery, some wine stores offer curated selections tailored to individual tastes. Customers can subscribe to monthly wine boxes or choose from expertly recommended pairings for specific occasions. This combination of quality, convenience, and personalization makes wine delivery an increasingly popular choice."}),w.jsx(lp,{to:"/Delivery",children:"DELIVERY DETAILS"})]})]})]}),w.jsx("div",{style:{opacity:t},className:ha.delivery__winespot2,children:w.jsx("img",{src:"./WineSpots/wine-spot-2.png",alt:"wine-spot-2"})})]})}const Cz="_for__container_vd8ao_10",Iz="_for__top_vd8ao_16",Az="_for__title_vd8ao_23",kz="_for__navigation_vd8ao_42",Rz="_for__slider_vd8ao_56",Lz="_for__slide_vd8ao_56",Oz="_for__slide_img_vd8ao_71",Nz="_for__slide_label_vd8ao_91",Mz="_for__prev_vd8ao_117",Dz="_for__next_vd8ao_125",qt={for:"_for_vd8ao_2",for__container:Cz,for__top:Iz,for__title:Az,for__navigation:kz,for__slider:Rz,for__slide:Lz,for__slide_img:Oz,for__slide_label:Nz,for__prev:Mz,for__next:Dz};function rE(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Kx(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:rE(e[n])&&rE(t[n])&&Object.keys(e[n]).length>0&&Kx(t[n],e[n])})}const iR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Eo(){const t=typeof document<"u"?document:{};return Kx(t,iR),t}const Vz={document:iR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Xi(){const t=typeof window<"u"?window:{};return Kx(t,Vz),t}function jz(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Fz(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ry(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function kg(){return Date.now()}function Bz(t){const e=Xi();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function zz(t,e){e===void 0&&(e="x");const n=Xi();let i,r,s;const l=Bz(t);return n.WebKitCSSMatrix?(r=l.transform||l.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(c=>c.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function xm(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Uz(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Vr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!Uz(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,l=r.length;s<l;s+=1){const c=r[s],d=Object.getOwnPropertyDescriptor(i,c);d!==void 0&&d.enumerable&&(xm(t[c])&&xm(i[c])?i[c].__swiper__?t[c]=i[c]:Vr(t[c],i[c]):!xm(t[c])&&xm(i[c])?(t[c]={},i[c].__swiper__?t[c]=i[c]:Vr(t[c],i[c])):t[c]=i[c])}}}return t}function bm(t,e,n){t.style.setProperty(e,n)}function rR(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Xi(),s=-e.translate;let l=null,c;const d=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const p=n>s?"next":"prev",m=(x,T)=>p==="next"&&x>=T||p==="prev"&&x<=T,v=()=>{c=new Date().getTime(),l===null&&(l=c);const x=Math.max(Math.min((c-l)/d,1),0),T=.5-Math.cos(x*Math.PI)/2;let I=s+T*(n-s);if(m(I,n)&&(I=n),e.wrapperEl.scrollTo({[i]:I}),m(I,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:I})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(v)};v()}function Zx(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function yo(t,e){e===void 0&&(e="");const n=Xi(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function $z(t,e){var i,r;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((i=s.shadowRoot)==null?void 0:i.children)||[],...((r=s.assignedElements)==null?void 0:r.call(s))||[])}}function Hz(t,e){const n=Xi();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=$z(t,e))),i}function Rg(t){try{console.warn(t);return}catch{}}function Pf(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:jz(e)),n}function Wz(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function qz(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Xl(t,e){return Xi().getComputedStyle(t,null).getPropertyValue(e)}function sE(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Gz(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function oE(t,e,n){const i=Xi();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function fa(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Kz(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let S_;function Zz(){const t=Xi(),e=Eo();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function sR(){return S_||(S_=Zz()),S_}let T_;function Qz(t){let{userAgent:e}=t===void 0?{}:t;const n=sR(),i=Xi(),r=i.navigator.platform,s=e||i.navigator.userAgent,l={ios:!1,android:!1},c=i.screen.width,d=i.screen.height,p=s.match(/(Android);?[\s\/]+([\d.]+)?/);let m=s.match(/(iPad).*OS\s([\d_]+)/);const v=s.match(/(iPod)(.*OS\s([\d_]+))?/),x=!m&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=r==="Win32";let I=r==="MacIntel";const C=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&I&&n.touch&&C.indexOf(`${c}x${d}`)>=0&&(m=s.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),I=!1),p&&!T&&(l.os="android",l.android=!0),(m||x||v)&&(l.os="ios",l.ios=!0),l}function oR(t){return t===void 0&&(t={}),T_||(T_=Qz(t)),T_}let E_;function Yz(){const t=Xi(),e=oR();let n=!1;function i(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(i()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[d,p]=c.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=d<16||d===16&&p<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),l=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:l,isWebView:r}}function Xz(){return E_||(E_=Yz()),E_}function Jz(t){let{swiper:e,on:n,emit:i}=t;const r=Xi();let s=null,l=null;const c=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},d=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(v=>{l=r.requestAnimationFrame(()=>{const{width:x,height:T}=e;let I=x,C=T;v.forEach(k=>{let{contentBoxSize:R,contentRect:F,target:D}=k;D&&D!==e.el||(I=F?F.width:(R[0]||R).inlineSize,C=F?F.height:(R[0]||R).blockSize)}),(I!==x||C!==T)&&c()})}),s.observe(e.el))},p=()=>{l&&r.cancelAnimationFrame(l),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},m=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){d();return}r.addEventListener("resize",c),r.addEventListener("orientationchange",m)}),n("destroy",()=>{p(),r.removeEventListener("resize",c),r.removeEventListener("orientationchange",m)})}function eU(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],l=Xi(),c=function(m,v){v===void 0&&(v={});const x=l.MutationObserver||l.WebkitMutationObserver,T=new x(I=>{if(e.__preventObserver__)return;if(I.length===1){r("observerUpdate",I[0]);return}const C=function(){r("observerUpdate",I[0])};l.requestAnimationFrame?l.requestAnimationFrame(C):l.setTimeout(C,0)});T.observe(m,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),s.push(T)},d=()=>{if(e.params.observer){if(e.params.observeParents){const m=Gz(e.hostEl);for(let v=0;v<m.length;v+=1)c(m[v])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},p=()=>{s.forEach(m=>{m.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",d),i("destroy",p)}var tU={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];e.apply(i,l)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(d=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(p=>{p.apply(i,[d,...n])}),t.eventsListeners&&t.eventsListeners[d]&&t.eventsListeners[d].forEach(p=>{p.apply(i,n)})}),t}};function nU(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Xl(i,"padding-left")||0,10)-parseInt(Xl(i,"padding-right")||0,10),n=n-parseInt(Xl(i,"padding-top")||0,10)-parseInt(Xl(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function iU(){const t=this;function e(z,G){return parseFloat(z.getPropertyValue(t.getDirectionLabel(G))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:l,wrongRTL:c}=t,d=t.virtual&&n.virtual.enabled,p=d?t.virtual.slides.length:t.slides.length,m=yo(r,`.${t.params.slideClass}, swiper-slide`),v=d?t.virtual.slides.length:m.length;let x=[];const T=[],I=[];let C=n.slidesOffsetBefore;typeof C=="function"&&(C=n.slidesOffsetBefore.call(t));let k=n.slidesOffsetAfter;typeof k=="function"&&(k=n.slidesOffsetAfter.call(t));const R=t.snapGrid.length,F=t.slidesGrid.length;let D=n.spaceBetween,Z=-C,H=0,Q=0;if(typeof s>"u")return;typeof D=="string"&&D.indexOf("%")>=0?D=parseFloat(D.replace("%",""))/100*s:typeof D=="string"&&(D=parseFloat(D)),t.virtualSize=-D,m.forEach(z=>{l?z.style.marginLeft="":z.style.marginRight="",z.style.marginBottom="",z.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(bm(i,"--swiper-centered-offset-before",""),bm(i,"--swiper-centered-offset-after",""));const U=n.grid&&n.grid.rows>1&&t.grid;U?t.grid.initSlides(m):t.grid&&t.grid.unsetSlides();let N;const V=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(z=>typeof n.breakpoints[z].slidesPerView<"u").length>0;for(let z=0;z<v;z+=1){N=0;let G;if(m[z]&&(G=m[z]),U&&t.grid.updateSlide(z,G,m),!(m[z]&&Xl(G,"display")==="none")){if(n.slidesPerView==="auto"){V&&(m[z].style[t.getDirectionLabel("width")]="");const q=getComputedStyle(G),$=G.style.transform,xe=G.style.webkitTransform;if($&&(G.style.transform="none"),xe&&(G.style.webkitTransform="none"),n.roundLengths)N=t.isHorizontal()?oE(G,"width"):oE(G,"height");else{const Oe=e(q,"width"),Re=e(q,"padding-left"),Pe=e(q,"padding-right"),ie=e(q,"margin-left"),_e=e(q,"margin-right"),ae=q.getPropertyValue("box-sizing");if(ae&&ae==="border-box")N=Oe+ie+_e;else{const{clientWidth:ee,offsetWidth:ce}=G;N=Oe+Re+Pe+ie+_e+(ce-ee)}}$&&(G.style.transform=$),xe&&(G.style.webkitTransform=xe),n.roundLengths&&(N=Math.floor(N))}else N=(s-(n.slidesPerView-1)*D)/n.slidesPerView,n.roundLengths&&(N=Math.floor(N)),m[z]&&(m[z].style[t.getDirectionLabel("width")]=`${N}px`);m[z]&&(m[z].swiperSlideSize=N),I.push(N),n.centeredSlides?(Z=Z+N/2+H/2+D,H===0&&z!==0&&(Z=Z-s/2-D),z===0&&(Z=Z-s/2-D),Math.abs(Z)<1/1e3&&(Z=0),n.roundLengths&&(Z=Math.floor(Z)),Q%n.slidesPerGroup===0&&x.push(Z),T.push(Z)):(n.roundLengths&&(Z=Math.floor(Z)),(Q-Math.min(t.params.slidesPerGroupSkip,Q))%t.params.slidesPerGroup===0&&x.push(Z),T.push(Z),Z=Z+N+D),t.virtualSize+=N+D,H=N,Q+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+k,l&&c&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+D}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+D}px`),U&&t.grid.updateWrapperSize(N,x),!n.centeredSlides){const z=[];for(let G=0;G<x.length;G+=1){let q=x[G];n.roundLengths&&(q=Math.floor(q)),x[G]<=t.virtualSize-s&&z.push(q)}x=z,Math.floor(t.virtualSize-s)-Math.floor(x[x.length-1])>1&&x.push(t.virtualSize-s)}if(d&&n.loop){const z=I[0]+D;if(n.slidesPerGroup>1){const G=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),q=z*n.slidesPerGroup;for(let $=0;$<G;$+=1)x.push(x[x.length-1]+q)}for(let G=0;G<t.virtual.slidesBefore+t.virtual.slidesAfter;G+=1)n.slidesPerGroup===1&&x.push(x[x.length-1]+z),T.push(T[T.length-1]+z),t.virtualSize+=z}if(x.length===0&&(x=[0]),D!==0){const z=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");m.filter((G,q)=>!n.cssMode||n.loop?!0:q!==m.length-1).forEach(G=>{G.style[z]=`${D}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let z=0;I.forEach(q=>{z+=q+(D||0)}),z-=D;const G=z>s?z-s:0;x=x.map(q=>q<=0?-C:q>G?G+k:q)}if(n.centerInsufficientSlides){let z=0;I.forEach(q=>{z+=q+(D||0)}),z-=D;const G=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(z+G<s){const q=(s-z-G)/2;x.forEach(($,xe)=>{x[xe]=$-q}),T.forEach(($,xe)=>{T[xe]=$+q})}}if(Object.assign(t,{slides:m,snapGrid:x,slidesGrid:T,slidesSizesGrid:I}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){bm(i,"--swiper-centered-offset-before",`${-x[0]}px`),bm(i,"--swiper-centered-offset-after",`${t.size/2-I[I.length-1]/2}px`);const z=-t.snapGrid[0],G=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(q=>q+z),t.slidesGrid=t.slidesGrid.map(q=>q+G)}if(v!==p&&t.emit("slidesLengthChange"),x.length!==R&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),T.length!==F&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const z=`${n.containerModifierClass}backface-hidden`,G=t.el.classList.contains(z);v<=n.maxBackfaceHiddenSlides?G||t.el.classList.add(z):G&&t.el.classList.remove(z)}}function rU(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=c=>i?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{n.push(c)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const c=e.activeIndex+s;if(c>e.slides.length&&!i)break;n.push(l(c))}else n.push(l(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const c=n[s].offsetHeight;r=c>r?c:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function sU(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const aE=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function oU(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;r&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let d=0;d<i.length;d+=1){const p=i[d];let m=p.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=i[0].swiperSlideOffset);const v=(l+(n.centeredSlides?e.minTranslate():0)-m)/(p.swiperSlideSize+c),x=(l-s[0]+(n.centeredSlides?e.minTranslate():0)-m)/(p.swiperSlideSize+c),T=-(l-m),I=T+e.slidesSizesGrid[d],C=T>=0&&T<=e.size-e.slidesSizesGrid[d],k=T>=0&&T<e.size-1||I>1&&I<=e.size||T<=0&&I>=e.size;k&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(d)),aE(p,k,n.slideVisibleClass),aE(p,C,n.slideFullyVisibleClass),p.progress=r?-v:v,p.originalProgress=r?-x:x}}function aU(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:l,progressLoop:c}=e;const d=s,p=l;if(i===0)r=0,s=!0,l=!0;else{r=(t-e.minTranslate())/i;const m=Math.abs(t-e.minTranslate())<1,v=Math.abs(t-e.maxTranslate())<1;s=m||r<=0,l=v||r>=1,m&&(r=0),v&&(r=1)}if(n.loop){const m=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),x=e.slidesGrid[m],T=e.slidesGrid[v],I=e.slidesGrid[e.slidesGrid.length-1],C=Math.abs(t);C>=x?c=(C-x)/I:c=(C+I-T)/I,c>1&&(c-=1)}Object.assign(e,{progress:r,progressLoop:c,isBeginning:s,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!d&&e.emit("reachBeginning toEdge"),l&&!p&&e.emit("reachEnd toEdge"),(d&&!s||p&&!l)&&e.emit("fromEdge"),e.emit("progress",r)}const P_=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function lU(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,c=v=>yo(i,`.${n.slideClass}${v}, swiper-slide${v}`)[0];let d,p,m;if(s)if(n.loop){let v=r-t.virtual.slidesBefore;v<0&&(v=t.virtual.slides.length+v),v>=t.virtual.slides.length&&(v-=t.virtual.slides.length),d=c(`[data-swiper-slide-index="${v}"]`)}else d=c(`[data-swiper-slide-index="${r}"]`);else l?(d=e.find(v=>v.column===r),m=e.find(v=>v.column===r+1),p=e.find(v=>v.column===r-1)):d=e[r];d&&(l||(m=qz(d,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),p=Wz(d,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(v=>{P_(v,v===d,n.slideActiveClass),P_(v,v===m,n.slideNextClass),P_(v,v===p,n.slidePrevClass)}),t.emitSlidesClasses()}const qm=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},C_=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Ly=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=r,c=[l-e];c.push(...Array.from({length:e}).map((d,p)=>l+i+p)),t.slides.forEach((d,p)=>{c.includes(d.column)&&C_(t,p)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let l=r-e;l<=s+e;l+=1){const c=(l%n+n)%n;(c<r||c>s)&&C_(t,c)}else for(let l=Math.max(r-e,0);l<=Math.min(s+e,n-1);l+=1)l!==r&&(l>s||l<r)&&C_(t,l)};function uU(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function cU(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:l,snapIndex:c}=e;let d=t,p;const m=T=>{let I=T-e.virtual.slidesBefore;return I<0&&(I=e.virtual.slides.length+I),I>=e.virtual.slides.length&&(I-=e.virtual.slides.length),I};if(typeof d>"u"&&(d=uU(e)),i.indexOf(n)>=0)p=i.indexOf(n);else{const T=Math.min(r.slidesPerGroupSkip,d);p=T+Math.floor((d-T)/r.slidesPerGroup)}if(p>=i.length&&(p=i.length-1),d===s&&!e.params.loop){p!==c&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(d===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(d);return}const v=e.grid&&r.grid&&r.grid.rows>1;let x;if(e.virtual&&r.virtual.enabled&&r.loop)x=m(d);else if(v){const T=e.slides.find(C=>C.column===d);let I=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(I)&&(I=Math.max(e.slides.indexOf(T),0)),x=Math.floor(I/r.grid.rows)}else if(e.slides[d]){const T=e.slides[d].getAttribute("data-swiper-slide-index");T?x=parseInt(T,10):x=d}else x=d;Object.assign(e,{previousSnapIndex:c,snapIndex:p,previousRealIndex:l,realIndex:x,previousIndex:s,activeIndex:d}),e.initialized&&Ly(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==x&&e.emit("realIndexChange"),e.emit("slideChange"))}function dU(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(c=>{!r&&c.matches&&c.matches(`.${i.slideClass}, swiper-slide`)&&(r=c)});let s=!1,l;if(r){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===r){s=!0,l=c;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var hU={updateSize:nU,updateSlides:iU,updateAutoHeight:rU,updateSlidesOffset:sU,updateSlidesProgress:oU,updateProgress:aU,updateSlidesClasses:lU,updateActiveIndex:cU,updateClickedSlide:dU};function fU(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let l=zz(s,t);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function pU(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:l}=n;let c=0,d=0;const p=0;n.isHorizontal()?c=i?-t:t:d=t,r.roundLengths&&(c=Math.floor(c),d=Math.floor(d)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:d,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-d:r.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():d-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${c}px, ${d}px, ${p}px)`);let m;const v=n.maxTranslate()-n.minTranslate();v===0?m=0:m=(t-n.minTranslate())/v,m!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function mU(){return-this.snapGrid[0]}function gU(){return-this.snapGrid[this.snapGrid.length-1]}function vU(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:l,wrapperEl:c}=s;if(s.animating&&l.preventInteractionOnTransition)return!1;const d=s.minTranslate(),p=s.maxTranslate();let m;if(i&&t>d?m=d:i&&t<p?m=p:m=t,s.updateProgress(m),l.cssMode){const v=s.isHorizontal();if(e===0)c[v?"scrollLeft":"scrollTop"]=-m;else{if(!s.support.smoothScroll)return rR({swiper:s,targetPosition:-m,side:v?"left":"top"}),!0;c.scrollTo({[v?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(m),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(m),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(x){!s||s.destroyed||x.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var _U={getTranslate:fU,setTranslate:pU,minTranslate:mU,maxTranslate:gU,translateTo:vU};function yU(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function aR(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:l}=e;let c=i;if(c||(s>l?c="next":s<l?c="prev":c="reset"),e.emit(`transition${r}`),n&&s!==l){if(c==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),c==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function wU(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),aR({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function xU(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),aR({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var bU={setTransition:yU,transitionStart:wU,transitionEnd:xU};function SU(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let l=t;l<0&&(l=0);const{params:c,snapGrid:d,slidesGrid:p,previousIndex:m,activeIndex:v,rtlTranslate:x,wrapperEl:T,enabled:I}=s;if(!I&&!i&&!r||s.destroyed||s.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const C=Math.min(s.params.slidesPerGroupSkip,l);let k=C+Math.floor((l-C)/s.params.slidesPerGroup);k>=d.length&&(k=d.length-1);const R=-d[k];if(c.normalizeSlideIndex)for(let H=0;H<p.length;H+=1){const Q=-Math.floor(R*100),U=Math.floor(p[H]*100),N=Math.floor(p[H+1]*100);typeof p[H+1]<"u"?Q>=U&&Q<N-(N-U)/2?l=H:Q>=U&&Q<N&&(l=H+1):Q>=U&&(l=H)}if(s.initialized&&l!==v&&(!s.allowSlideNext&&(x?R>s.translate&&R>s.minTranslate():R<s.translate&&R<s.minTranslate())||!s.allowSlidePrev&&R>s.translate&&R>s.maxTranslate()&&(v||0)!==l))return!1;l!==(m||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(R);let F;l>v?F="next":l<v?F="prev":F="reset";const D=s.virtual&&s.params.virtual.enabled;if(!(D&&r)&&(x&&-R===s.translate||!x&&R===s.translate))return s.updateActiveIndex(l),c.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),c.effect!=="slide"&&s.setTranslate(R),F!=="reset"&&(s.transitionStart(n,F),s.transitionEnd(n,F)),!1;if(c.cssMode){const H=s.isHorizontal(),Q=x?R:-R;if(e===0)D&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),D&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[H?"scrollLeft":"scrollTop"]=Q})):T[H?"scrollLeft":"scrollTop"]=Q,D&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return rR({swiper:s,targetPosition:Q,side:H?"left":"top"}),!0;T.scrollTo({[H?"left":"top"]:Q,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(R),s.updateActiveIndex(l),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,F),e===0?s.transitionEnd(n,F):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(Q){!s||s.destroyed||Q.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,F))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function TU(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let l=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)l=l+r.virtual.slidesBefore;else{let c;if(s){const x=l*r.params.grid.rows;c=r.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===x).column}else c=r.getSlideIndexByData(l);const d=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:p}=r.params;let m=r.params.slidesPerView;m==="auto"?m=r.slidesPerViewDynamic():(m=Math.ceil(parseFloat(r.params.slidesPerView,10)),p&&m%2===0&&(m=m+1));let v=d-c<m;if(p&&(v=v||c<Math.ceil(m/2)),i&&p&&r.params.slidesPerView!=="auto"&&!s&&(v=!1),v){const x=p?c<r.activeIndex?"prev":"next":c-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?c+1:c-d+1,slideRealIndex:x==="next"?r.realIndex:void 0})}if(s){const x=l*r.params.grid.rows;l=r.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===x).column}else l=r.getSlideIndexByData(l)}return requestAnimationFrame(()=>{r.slideTo(l,e,n,i)}),r}function EU(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:l}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let c=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(c=Math.max(i.slidesPerViewDynamic("current",!0),1));const d=i.activeIndex<s.slidesPerGroupSkip?1:c,p=i.virtual&&s.virtual.enabled;if(s.loop){if(l&&!p&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+d,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+d,t,e,n)}function PU(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:l,rtlTranslate:c,enabled:d,animating:p}=i;if(!d||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const m=i.virtual&&r.virtual.enabled;if(r.loop){if(p&&!m&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const v=c?i.translate:-i.translate;function x(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const T=x(v),I=s.map(R=>x(R));let C=s[I.indexOf(T)-1];if(typeof C>"u"&&r.cssMode){let R;s.forEach((F,D)=>{T>=F&&(R=D)}),typeof R<"u"&&(C=s[R>0?R-1:R])}let k=0;if(typeof C<"u"&&(k=l.indexOf(C),k<0&&(k=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(k=k-i.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),r.rewind&&i.isBeginning){const R=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(R,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(k,t,e,n)}),!0;return i.slideTo(k,t,e,n)}function CU(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function IU(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const l=Math.min(r.params.slidesPerGroupSkip,s),c=l+Math.floor((s-l)/r.params.slidesPerGroup),d=r.rtlTranslate?r.translate:-r.translate;if(d>=r.snapGrid[c]){const p=r.snapGrid[c],m=r.snapGrid[c+1];d-p>(m-p)*i&&(s+=r.params.slidesPerGroup)}else{const p=r.snapGrid[c-1],m=r.snapGrid[c];d-p<=(m-p)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function AU(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const l=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(yo(n,`${l}[data-swiper-slide-index="${s}"]`)[0]),Ry(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(yo(n,`${l}[data-swiper-slide-index="${s}"]`)[0]),Ry(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var kU={slideTo:SU,slideToLoop:TU,slideNext:EU,slidePrev:PU,slideReset:CU,slideToClosest:IU,slideToClickedSlide:AU};function RU(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{yo(i,`.${n.slideClass}, swiper-slide`).forEach((v,x)=>{v.setAttribute("data-swiper-slide-index",x)})},s=e.grid&&n.grid&&n.grid.rows>1,l=n.slidesPerGroup*(s?n.grid.rows:1),c=e.slides.length%l!==0,d=s&&e.slides.length%n.grid.rows!==0,p=m=>{for(let v=0;v<m;v+=1){const x=e.isElement?Pf("swiper-slide",[n.slideBlankClass]):Pf("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(x)}};if(c){if(n.loopAddBlankSlides){const m=l-e.slides.length%l;p(m),e.recalcSlides(),e.updateSlides()}else Rg("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(d){if(n.loopAddBlankSlides){const m=n.grid.rows-e.slides.length%n.grid.rows;p(m),e.recalcSlides(),e.updateSlides()}else Rg("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function LU(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:l,byMousewheel:c}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:p,allowSlidePrev:m,allowSlideNext:v,slidesEl:x,params:T}=d,{centeredSlides:I}=T;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&T.virtual.enabled){n&&(!T.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):T.centeredSlides&&d.snapIndex<T.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=m,d.allowSlideNext=v,d.emit("loopFix");return}let C=T.slidesPerView;C==="auto"?C=d.slidesPerViewDynamic():(C=Math.ceil(parseFloat(T.slidesPerView,10)),I&&C%2===0&&(C=C+1));const k=T.slidesPerGroupAuto?C:T.slidesPerGroup;let R=k;R%k!==0&&(R+=k-R%k),R+=T.loopAdditionalSlides,d.loopedSlides=R;const F=d.grid&&T.grid&&T.grid.rows>1;p.length<C+R?Rg("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):F&&T.grid.fill==="row"&&Rg("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const D=[],Z=[];let H=d.activeIndex;typeof s>"u"?s=d.getSlideIndex(p.find($=>$.classList.contains(T.slideActiveClass))):H=s;const Q=i==="next"||!i,U=i==="prev"||!i;let N=0,V=0;const z=F?Math.ceil(p.length/T.grid.rows):p.length,q=(F?p[s].column:s)+(I&&typeof r>"u"?-C/2+.5:0);if(q<R){N=Math.max(R-q,k);for(let $=0;$<R-q;$+=1){const xe=$-Math.floor($/z)*z;if(F){const Oe=z-xe-1;for(let Re=p.length-1;Re>=0;Re-=1)p[Re].column===Oe&&D.push(Re)}else D.push(z-xe-1)}}else if(q+C>z-R){V=Math.max(q-(z-R*2),k);for(let $=0;$<V;$+=1){const xe=$-Math.floor($/z)*z;F?p.forEach((Oe,Re)=>{Oe.column===xe&&Z.push(Re)}):Z.push(xe)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),U&&D.forEach($=>{p[$].swiperLoopMoveDOM=!0,x.prepend(p[$]),p[$].swiperLoopMoveDOM=!1}),Q&&Z.forEach($=>{p[$].swiperLoopMoveDOM=!0,x.append(p[$]),p[$].swiperLoopMoveDOM=!1}),d.recalcSlides(),T.slidesPerView==="auto"?d.updateSlides():F&&(D.length>0&&U||Z.length>0&&Q)&&d.slides.forEach(($,xe)=>{d.grid.updateSlide(xe,$,d.slides)}),T.watchSlidesProgress&&d.updateSlidesOffset(),n){if(D.length>0&&U){if(typeof e>"u"){const $=d.slidesGrid[H],Oe=d.slidesGrid[H+N]-$;c?d.setTranslate(d.translate-Oe):(d.slideTo(H+Math.ceil(N),0,!1,!0),r&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-Oe,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-Oe))}else if(r){const $=F?D.length/T.grid.rows:D.length;d.slideTo(d.activeIndex+$,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(Z.length>0&&Q)if(typeof e>"u"){const $=d.slidesGrid[H],Oe=d.slidesGrid[H-V]-$;c?d.setTranslate(d.translate-Oe):(d.slideTo(H-V,0,!1,!0),r&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-Oe,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-Oe))}else{const $=F?Z.length/T.grid.rows:Z.length;d.slideTo(d.activeIndex-$,0,!1,!0)}}if(d.allowSlidePrev=m,d.allowSlideNext=v,d.controller&&d.controller.control&&!l){const $={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(xe=>{!xe.destroyed&&xe.params.loop&&xe.loopFix({...$,slideTo:xe.params.slidesPerView===T.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...$,slideTo:d.controller.control.params.slidesPerView===T.slidesPerView?n:!1})}d.emit("loopFix")}function OU(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var NU={loopCreate:RU,loopFix:LU,loopDestroy:OU};function MU(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function DU(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var VU={setGrabCursor:MU,unsetGrabCursor:DU};function jU(t,e){e===void 0&&(e=this);function n(i){if(!i||i===Eo()||i===Xi())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function lE(t,e,n){const i=Xi(),{params:r}=t,s=r.edgeSwipeDetection,l=r.edgeSwipeThreshold;return s&&(n<=l||n>=i.innerWidth-l)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function FU(t){const e=this,n=Eo();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){lE(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:l,enabled:c}=e;if(!c||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let d=i.target;if(s.touchEventsTarget==="wrapper"&&!Hz(d,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",m=i.composedPath?i.composedPath():i.path;p&&i.target&&i.target.shadowRoot&&m&&(d=m[0]);const v=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,x=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(x?jU(v,d):d.closest(v))){e.allowClick=!0;return}if(s.swipeHandler&&!d.closest(s.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const T=l.currentX,I=l.currentY;if(!lE(e,i,T))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=T,l.startY=I,r.touchStartTime=kg(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let C=!0;d.matches(r.focusableElements)&&(C=!1,d.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==d&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!d.matches(r.focusableElements))&&n.activeElement.blur();const k=C&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||k)&&!d.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function BU(t){const e=Eo(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:l,enabled:c}=n;if(!c||!r.simulateTouch&&t.pointerType==="mouse")return;let d=t;if(d.originalEvent&&(d=d.originalEvent),d.type==="pointermove"&&(i.touchId!==null||d.pointerId!==i.pointerId))return;let p;if(d.type==="touchmove"){if(p=[...d.changedTouches].find(H=>H.identifier===i.touchId),!p||p.identifier!==i.touchId)return}else p=d;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",d);return}const m=p.pageX,v=p.pageY;if(d.preventedByNestedSwiper){s.startX=m,s.startY=v;return}if(!n.allowTouchMove){d.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:m,startY:v,currentX:m,currentY:v}),i.touchStartTime=kg());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(v<s.startY&&n.translate<=n.maxTranslate()||v>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(m<s.startX&&n.translate<=n.maxTranslate()||m>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==d.target&&d.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&d.target===e.activeElement&&d.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",d),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=m,s.currentY=v;const x=s.currentX-s.startX,T=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(x**2+T**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let H;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:x*x+T*T>=25&&(H=Math.atan2(Math.abs(T),Math.abs(x))*180/Math.PI,i.isScrolling=n.isHorizontal()?H>r.touchAngle:90-H>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",d),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||d.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&d.cancelable&&d.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&d.stopPropagation();let I=n.isHorizontal()?x:T,C=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(I=Math.abs(I)*(l?1:-1),C=Math.abs(C)*(l?1:-1)),s.diff=I,I*=r.touchRatio,l&&(I=-I,C=-C);const k=n.touchesDirection;n.swipeDirection=I>0?"prev":"next",n.touchesDirection=C>0?"prev":"next";const R=n.params.loop&&!r.cssMode,F=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(R&&F&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(H)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",d)}if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&k!==n.touchesDirection&&R&&F&&Math.abs(I)>=1){Object.assign(s,{startX:m,startY:v,currentX:m,currentY:v,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",d),i.isMoved=!0,i.currentTranslate=I+i.startTranslate;let D=!0,Z=r.resistanceRatio;if(r.touchReleaseOnEdges&&(Z=0),I>0?(R&&F&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(D=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+I)**Z))):I<0&&(R&&F&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(D=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-I)**Z))),D&&(d.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(I)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function zU(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(H=>H.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:c,rtlTranslate:d,slidesGrid:p,enabled:m}=e;if(!m||!l.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=kg(),x=v-n.touchStartTime;if(e.allowClick){const H=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(H&&H[0]||i.target,H),e.emit("tap click",i),x<300&&v-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=kg(),Ry(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let T;if(l.followFinger?T=d?e.translate:-e.translate:T=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const I=T>=-e.maxTranslate()&&!e.params.loop;let C=0,k=e.slidesSizesGrid[0];for(let H=0;H<p.length;H+=H<l.slidesPerGroupSkip?1:l.slidesPerGroup){const Q=H<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof p[H+Q]<"u"?(I||T>=p[H]&&T<p[H+Q])&&(C=H,k=p[H+Q]-p[H]):(I||T>=p[H])&&(C=H,k=p[p.length-1]-p[p.length-2])}let R=null,F=null;l.rewind&&(e.isBeginning?F=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const D=(T-p[C])/k,Z=C<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(x>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(D>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?R:C+Z):e.slideTo(C)),e.swipeDirection==="prev"&&(D>1-l.longSwipesRatio?e.slideTo(C+Z):F!==null&&D<0&&Math.abs(D)>l.longSwipesRatio?e.slideTo(F):e.slideTo(C))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(C+Z):e.slideTo(C):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:C+Z),e.swipeDirection==="prev"&&e.slideTo(F!==null?F:C))}}function uE(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function UU(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function $U(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function HU(t){const e=this;qm(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function WU(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const lR=(t,e)=>{const n=Eo(),{params:i,el:r,wrapperEl:s,device:l}=t,c=!!i.nested,d=e==="on"?"addEventListener":"removeEventListener",p=e;!r||typeof r=="string"||(n[d]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),r[d]("touchstart",t.onTouchStart,{passive:!1}),r[d]("pointerdown",t.onTouchStart,{passive:!1}),n[d]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[d]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[d]("touchend",t.onTouchEnd,{passive:!0}),n[d]("pointerup",t.onTouchEnd,{passive:!0}),n[d]("pointercancel",t.onTouchEnd,{passive:!0}),n[d]("touchcancel",t.onTouchEnd,{passive:!0}),n[d]("pointerout",t.onTouchEnd,{passive:!0}),n[d]("pointerleave",t.onTouchEnd,{passive:!0}),n[d]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[d]("click",t.onClick,!0),i.cssMode&&s[d]("scroll",t.onScroll),i.updateOnWindowResize?t[p](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",uE,!0):t[p]("observerUpdate",uE,!0),r[d]("load",t.onLoad,{capture:!0}))};function qU(){const t=this,{params:e}=t;t.onTouchStart=FU.bind(t),t.onTouchMove=BU.bind(t),t.onTouchEnd=zU.bind(t),t.onDocumentTouchStart=WU.bind(t),e.cssMode&&(t.onScroll=$U.bind(t)),t.onClick=UU.bind(t),t.onLoad=HU.bind(t),lR(t,"on")}function GU(){lR(this,"off")}var KU={attachEvents:qU,detachEvents:GU};const cE=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function ZU(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const l=Eo(),c=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",d=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:l.querySelector(i.breakpointsBase),p=t.getBreakpoint(s,c,d);if(!p||t.currentBreakpoint===p)return;const v=(p in s?s[p]:void 0)||t.originalParams,x=cE(t,i),T=cE(t,v),I=t.params.grabCursor,C=v.grabCursor,k=i.enabled;x&&!T?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!x&&T&&(r.classList.add(`${i.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),I&&!C?t.unsetGrabCursor():!I&&C&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Q=>{if(typeof v[Q]>"u")return;const U=i[Q]&&i[Q].enabled,N=v[Q]&&v[Q].enabled;U&&!N&&t[Q].disable(),!U&&N&&t[Q].enable()});const R=v.direction&&v.direction!==i.direction,F=i.loop&&(v.slidesPerView!==i.slidesPerView||R),D=i.loop;R&&n&&t.changeDirection(),Vr(t.params,v);const Z=t.params.enabled,H=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),k&&!Z?t.disable():!k&&Z&&t.enable(),t.currentBreakpoint=p,t.emit("_beforeBreakpoint",v),n&&(F?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!D&&H?(t.loopCreate(e),t.updateSlides()):D&&!H&&t.loopDestroy()),t.emit("breakpoint",v)}function QU(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=Xi(),s=e==="window"?r.innerHeight:n.clientHeight,l=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const d=parseFloat(c.substr(1));return{value:s*d,point:c}}return{value:c,point:c}});l.sort((c,d)=>parseInt(c.value,10)-parseInt(d.value,10));for(let c=0;c<l.length;c+=1){const{point:d,value:p}=l[c];e==="window"?r.matchMedia(`(min-width: ${p}px)`).matches&&(i=d):p<=n.clientWidth&&(i=d)}return i||"max"}var YU={setBreakpoint:ZU,getBreakpoint:QU};function XU(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function JU(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,l=XU(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),r.classList.add(...e),t.emitContainerClasses()}function e$(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var t$={addClasses:JU,removeClasses:e$};function n$(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var i$={checkOverflow:n$},Oy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function r$(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Vr(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){Vr(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Vr(e,i)}}const I_={eventsEmitter:tU,update:hU,translate:_U,transition:bU,slide:kU,loop:NU,grabCursor:VU,events:KU,breakpoints:YU,checkOverflow:i$,classes:t$},A_={};let Qx=class ma{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Vr({},n),e&&!n.el&&(n.el=e);const l=Eo();if(n.el&&typeof n.el=="string"&&l.querySelectorAll(n.el).length>1){const m=[];return l.querySelectorAll(n.el).forEach(v=>{const x=Vr({},n,{el:v});m.push(new ma(x))}),m}const c=this;c.__swiper__=!0,c.support=sR(),c.device=oR({userAgent:n.userAgent}),c.browser=Xz(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],n.modules&&Array.isArray(n.modules)&&c.modules.push(...n.modules);const d={};c.modules.forEach(m=>{m({params:n,swiper:c,extendParams:r$(n,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const p=Vr({},Oy,d);return c.params=Vr({},p,A_,n),c.originalParams=Vr({},c.params),c.passedParams=Vr({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach(m=>{c.on(m,c.params.on[m])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=yo(n,`.${i.slideClass}, swiper-slide`),s=sE(r[0]);return sE(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=yo(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),l=(i.maxTranslate()-r)*e+r;i.translateTo(l,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:l,slidesSizesGrid:c,size:d,activeIndex:p}=i;let m=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let v=s[p]?Math.ceil(s[p].swiperSlideSize):0,x;for(let T=p+1;T<s.length;T+=1)s[T]&&!x&&(v+=Math.ceil(s[T].swiperSlideSize),m+=1,v>d&&(x=!0));for(let T=p-1;T>=0;T-=1)s[T]&&!x&&(v+=s[T].swiperSlideSize,m+=1,v>d&&(x=!0))}else if(e==="current")for(let v=p+1;v<s.length;v+=1)(n?l[v]+c[v]-l[p]<d:l[v]-l[p]<d)&&(m+=1);else for(let v=p-1;v>=0;v-=1)l[p]-l[v]<d&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&qm(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const l=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(l.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):yo(i,r())[0];return!l&&n.params.createElements&&(l=Pf("div",n.params.wrapperClass),i.append(l),yo(i,`.${n.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(n,{el:i,wrapperEl:l,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Xl(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Xl(i,"direction")==="rtl"),wrongRTL:Xl(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?qm(n,s):s.addEventListener("load",l=>{qm(n,l.target)})}),Ly(n),n.initialized=!0,Ly(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:l,slides:c}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(d=>{d.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),d.removeAttribute("style"),d.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(d=>{i.off(d)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Fz(i)),i.destroyed=!0),null}static extendDefaults(e){Vr(A_,e)}static get extendedDefaults(){return A_}static get defaults(){return Oy}static installModule(e){ma.prototype.__modules__||(ma.prototype.__modules__=[]);const n=ma.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>ma.installModule(n)),ma):(ma.installModule(e),ma)}};Object.keys(I_).forEach(t=>{Object.keys(I_[t]).forEach(e=>{Qx.prototype[e]=I_[t][e]})});Qx.use([Jz,eU]);const uR=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function dc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function md(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:dc(e[i])&&dc(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:md(t[i],e[i]):t[i]=e[i]})}function cR(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function dR(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function hR(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function fR(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function s$(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function o$(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:l,scrollbarEl:c,paginationEl:d}=t;const p=r.filter(V=>V!=="children"&&V!=="direction"&&V!=="wrapperClass"),{params:m,pagination:v,navigation:x,scrollbar:T,virtual:I,thumbs:C}=e;let k,R,F,D,Z,H,Q,U;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(k=!0),r.includes("controller")&&i.controller&&i.controller.control&&m.controller&&!m.controller.control&&(R=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||d)&&(m.pagination||m.pagination===!1)&&v&&!v.el&&(F=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||c)&&(m.scrollbar||m.scrollbar===!1)&&T&&!T.el&&(D=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||l)&&(i.navigation.nextEl||s)&&(m.navigation||m.navigation===!1)&&x&&!x.prevEl&&!x.nextEl&&(Z=!0);const N=V=>{e[V]&&(e[V].destroy(),V==="navigation"?(e.isElement&&(e[V].prevEl.remove(),e[V].nextEl.remove()),m[V].prevEl=void 0,m[V].nextEl=void 0,e[V].prevEl=void 0,e[V].nextEl=void 0):(e.isElement&&e[V].el.remove(),m[V].el=void 0,e[V].el=void 0))};r.includes("loop")&&e.isElement&&(m.loop&&!i.loop?H=!0:!m.loop&&i.loop?Q=!0:U=!0),p.forEach(V=>{if(dc(m[V])&&dc(i[V]))Object.assign(m[V],i[V]),(V==="navigation"||V==="pagination"||V==="scrollbar")&&"enabled"in i[V]&&!i[V].enabled&&N(V);else{const z=i[V];(z===!0||z===!1)&&(V==="navigation"||V==="pagination"||V==="scrollbar")?z===!1&&N(V):m[V]=i[V]}}),p.includes("controller")&&!R&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),r.includes("children")&&n&&I&&m.virtual.enabled?(I.slides=n,I.update(!0)):r.includes("virtual")&&I&&m.virtual.enabled&&(n&&(I.slides=n),I.update(!0)),r.includes("children")&&n&&m.loop&&(U=!0),k&&C.init()&&C.update(!0),R&&(e.controller.control=m.controller.control),F&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(m.pagination.el=d),v.init(),v.render(),v.update()),D&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(m.scrollbar.el=c),T.init(),T.updateSize(),T.setTranslate()),Z&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=e.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),e.el.appendChild(l))),s&&(m.navigation.nextEl=s),l&&(m.navigation.prevEl=l),x.init(),x.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(H||U)&&e.loopDestroy(),(Q||U)&&e.loopCreate(),e.update()}function a$(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};md(n,Oy),n._emitClasses=!0,n.init=!1;const s={},l=uR.map(d=>d.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(d=>{typeof t[d]>"u"||(l.indexOf(d)>=0?dc(t[d])?(n[d]={},r[d]={},md(n[d],t[d]),md(r[d],t[d])):(n[d]=t[d],r[d]=t[d]):d.search(/on[A-Z]/)===0&&typeof t[d]=="function"?e?i[`${d[2].toLowerCase()}${d.substr(3)}`]=t[d]:n.on[`${d[2].toLowerCase()}${d.substr(3)}`]=t[d]:s[d]=t[d])}),["navigation","pagination","scrollbar"].forEach(d=>{n[d]===!0&&(n[d]={}),n[d]===!1&&delete n[d]}),{params:n,passedParams:r,rest:s,events:i}}function l$(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:l,swiper:c}=t;cR(e)&&i&&r&&(c.params.navigation.nextEl=i,c.originalParams.navigation.nextEl=i,c.params.navigation.prevEl=r,c.originalParams.navigation.prevEl=r),dR(e)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),hR(e)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(n)}function u$(t,e,n,i,r){const s=[];if(!e)return s;const l=d=>{s.indexOf(d)<0&&s.push(d)};if(n&&i){const d=i.map(r),p=n.map(r);d.join("")!==p.join("")&&l("children"),i.length!==n.length&&l("children")}return uR.filter(d=>d[0]==="_").map(d=>d.replace(/_/,"")).forEach(d=>{if(d in t&&d in e)if(dc(t[d])&&dc(e[d])){const p=Object.keys(t[d]),m=Object.keys(e[d]);p.length!==m.length?l(d):(p.forEach(v=>{t[d][v]!==e[d][v]&&l(d)}),m.forEach(v=>{t[d][v]!==e[d][v]&&l(d)}))}else t[d]!==e[d]&&l(d)}),s}const c$=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lg.apply(this,arguments)}function pR(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function mR(t){const e=[];return ot.Children.toArray(t).forEach(n=>{pR(n)?e.push(n):n.props&&n.props.children&&mR(n.props.children).forEach(i=>e.push(i))}),e}function d$(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ot.Children.toArray(t).forEach(i=>{if(pR(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=mR(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function h$(t,e,n){if(!n)return null;const i=m=>{let v=m;return m<0?v=e.length+m:v>=e.length&&(v=v-e.length),v},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:l}=n,c=t.params.loop?-e.length:0,d=t.params.loop?e.length*2:e.length,p=[];for(let m=c;m<d;m+=1)m>=s&&m<=l&&p.push(e[i(m)]);return p.map((m,v)=>ot.cloneElement(m,{swiper:t,style:r,key:m.props.virtualIndex||m.key||`slide-${v}`}))}function af(t,e){return typeof window>"u"?B.useEffect(t,e):B.useLayoutEffect(t,e)}const dE=B.createContext(null),f$=B.createContext(null),eh=B.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:l,...c}=t===void 0?{}:t,d=!1;const[p,m]=B.useState("swiper"),[v,x]=B.useState(null),[T,I]=B.useState(!1),C=B.useRef(!1),k=B.useRef(null),R=B.useRef(null),F=B.useRef(null),D=B.useRef(null),Z=B.useRef(null),H=B.useRef(null),Q=B.useRef(null),U=B.useRef(null),{params:N,passedParams:V,rest:z,events:G}=a$(c),{slides:q,slots:$}=d$(s),xe=()=>{I(!T)};Object.assign(N.on,{_containerClasses(_e,ae){m(ae)}});const Oe=()=>{Object.assign(N.on,G),d=!0;const _e={...N};if(delete _e.wrapperClass,R.current=new Qx(_e),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=q;const ae={cache:!1,slides:q,renderExternal:x,renderExternalUpdate:!1};md(R.current.params.virtual,ae),md(R.current.originalParams.virtual,ae)}};k.current||Oe(),R.current&&R.current.on("_beforeBreakpoint",xe);const Re=()=>{d||!G||!R.current||Object.keys(G).forEach(_e=>{R.current.on(_e,G[_e])})},Pe=()=>{!G||!R.current||Object.keys(G).forEach(_e=>{R.current.off(_e,G[_e])})};B.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",xe)}),B.useEffect(()=>{!C.current&&R.current&&(R.current.emitSlidesClasses(),C.current=!0)}),af(()=>{if(e&&(e.current=k.current),!!k.current)return R.current.destroyed&&Oe(),l$({el:k.current,nextEl:Z.current,prevEl:H.current,paginationEl:Q.current,scrollbarEl:U.current,swiper:R.current},N),l&&!R.current.destroyed&&l(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),af(()=>{Re();const _e=u$(V,F.current,q,D.current,ae=>ae.key);return F.current=V,D.current=q,_e.length&&R.current&&!R.current.destroyed&&o$({swiper:R.current,slides:q,passedParams:V,changedParams:_e,nextEl:Z.current,prevEl:H.current,scrollbarEl:U.current,paginationEl:Q.current}),()=>{Pe()}}),af(()=>{c$(R.current)},[v]);function ie(){return N.virtual?h$(R.current,q,v):q.map((_e,ae)=>ot.cloneElement(_e,{swiper:R.current,swiperSlideIndex:ae}))}return ot.createElement(i,Lg({ref:k,className:fR(`${p}${n?` ${n}`:""}`)},z),ot.createElement(f$.Provider,{value:R.current},$["container-start"],ot.createElement(r,{className:s$(N.wrapperClass)},$["wrapper-start"],ie(),$["wrapper-end"]),cR(N)&&ot.createElement(ot.Fragment,null,ot.createElement("div",{ref:H,className:"swiper-button-prev"}),ot.createElement("div",{ref:Z,className:"swiper-button-next"})),hR(N)&&ot.createElement("div",{ref:U,className:"swiper-scrollbar"}),dR(N)&&ot.createElement("div",{ref:Q,className:"swiper-pagination"}),$["container-end"]))});eh.displayName="Swiper";const us=B.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:l,lazy:c,virtualIndex:d,swiperSlideIndex:p,...m}=t===void 0?{}:t;const v=B.useRef(null),[x,T]=B.useState("swiper-slide"),[I,C]=B.useState(!1);function k(Z,H,Q){H===v.current&&T(Q)}af(()=>{if(typeof p<"u"&&(v.current.swiperSlideIndex=p),e&&(e.current=v.current),!(!v.current||!s)){if(s.destroyed){x!=="swiper-slide"&&T("swiper-slide");return}return s.on("_slideClass",k),()=>{s&&s.off("_slideClass",k)}}}),af(()=>{s&&v.current&&!s.destroyed&&T(s.getSlideClasses(v.current))},[s]);const R={isActive:x.indexOf("swiper-slide-active")>=0,isVisible:x.indexOf("swiper-slide-visible")>=0,isPrev:x.indexOf("swiper-slide-prev")>=0,isNext:x.indexOf("swiper-slide-next")>=0},F=()=>typeof i=="function"?i(R):i,D=()=>{C(!0)};return ot.createElement(n,Lg({ref:v,className:fR(`${x}${r?` ${r}`:""}`),"data-swiper-slide-index":d,onLoad:D},m),l&&ot.createElement(dE.Provider,{value:R},ot.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},F(),c&&!I&&ot.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&ot.createElement(dE.Provider,{value:R},F(),c&&!I&&ot.createElement("div",{className:"swiper-lazy-preloader"})))});us.displayName="SwiperSlide";function p$(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=yo(t.el,`.${i[r]}`)[0];s||(s=Pf("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function Yx(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(I){let C;return I&&typeof I=="string"&&e.isElement&&(C=e.el.querySelector(I)||e.hostEl.querySelector(I),C)?C:(I&&(typeof I=="string"&&(C=[...document.querySelectorAll(I)]),e.params.uniqueNavElements&&typeof I=="string"&&C&&C.length>1&&e.el.querySelectorAll(I).length===1?C=e.el.querySelector(I):C&&C.length===1&&(C=C[0])),I&&!C?I:C)}function l(I,C){const k=e.params.navigation;I=fa(I),I.forEach(R=>{R&&(R.classList[C?"add":"remove"](...k.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=C),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](k.lockClass))})}function c(){const{nextEl:I,prevEl:C}=e.navigation;if(e.params.loop){l(C,!1),l(I,!1);return}l(C,e.isBeginning&&!e.params.rewind),l(I,e.isEnd&&!e.params.rewind)}function d(I){I.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function p(I){I.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function m(){const I=e.params.navigation;if(e.params.navigation=p$(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(I.nextEl||I.prevEl))return;let C=s(I.nextEl),k=s(I.prevEl);Object.assign(e.navigation,{nextEl:C,prevEl:k}),C=fa(C),k=fa(k);const R=(F,D)=>{F&&F.addEventListener("click",D==="next"?p:d),!e.enabled&&F&&F.classList.add(...I.lockClass.split(" "))};C.forEach(F=>R(F,"next")),k.forEach(F=>R(F,"prev"))}function v(){let{nextEl:I,prevEl:C}=e.navigation;I=fa(I),C=fa(C);const k=(R,F)=>{R.removeEventListener("click",F==="next"?p:d),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};I.forEach(R=>k(R,"next")),C.forEach(R=>k(R,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?T():(m(),c())}),i("toEdge fromEdge lock unlock",()=>{c()}),i("destroy",()=>{v()}),i("enable disable",()=>{let{nextEl:I,prevEl:C}=e.navigation;if(I=fa(I),C=fa(C),e.enabled){c();return}[...I,...C].filter(k=>!!k).forEach(k=>k.classList.add(e.params.navigation.lockClass))}),i("click",(I,C)=>{let{nextEl:k,prevEl:R}=e.navigation;k=fa(k),R=fa(R);const F=C.target;let D=R.includes(F)||k.includes(F);if(e.isElement&&!D){const Z=C.path||C.composedPath&&C.composedPath();Z&&(D=Z.find(H=>k.includes(H)||R.includes(H)))}if(e.params.navigation.hideOnClick&&!D){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===F||e.pagination.el.contains(F)))return;let Z;k.length?Z=k[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(Z=R[0].classList.contains(e.params.navigation.hiddenClass)),r(Z===!0?"navigationShow":"navigationHide"),[...k,...R].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const x=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),c()},T=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:x,disable:T,update:c,init:m,destroy:v})}function m$(t){let{swiper:e,extendParams:n,on:i,emit:r,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,d=s&&s.autoplay?s.autoplay.delay:3e3,p=s&&s.autoplay?s.autoplay.delay:3e3,m,v=new Date().getTime(),x,T,I,C,k,R,F;function D(ie){!e||e.destroyed||!e.wrapperEl||ie.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",D),!(F||ie.detail&&ie.detail.bySwiperTouchMove)&&z())}const Z=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?x=!0:x&&(p=m,x=!1);const ie=e.autoplay.paused?m:v+p-new Date().getTime();e.autoplay.timeLeft=ie,r("autoplayTimeLeft",ie,ie/d),c=requestAnimationFrame(()=>{Z()})},H=()=>{let ie;return e.virtual&&e.params.virtual.enabled?ie=e.slides.find(ae=>ae.classList.contains("swiper-slide-active")):ie=e.slides[e.activeIndex],ie?parseInt(ie.getAttribute("data-swiper-autoplay"),10):void 0},Q=ie=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),Z();let _e=typeof ie>"u"?e.params.autoplay.delay:ie;d=e.params.autoplay.delay,p=e.params.autoplay.delay;const ae=H();!Number.isNaN(ae)&&ae>0&&typeof ie>"u"&&(_e=ae,d=ae,p=ae),m=_e;const ee=e.params.speed,ce=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ee,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ee,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ee,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ee,!0,!0),r("autoplay")),e.params.cssMode&&(v=new Date().getTime(),requestAnimationFrame(()=>{Q()})))};return _e>0?(clearTimeout(l),l=setTimeout(()=>{ce()},_e)):requestAnimationFrame(()=>{ce()}),_e},U=()=>{v=new Date().getTime(),e.autoplay.running=!0,Q(),r("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(c),r("autoplayStop")},V=(ie,_e)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),ie||(R=!0);const ae=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",D):z()};if(e.autoplay.paused=!0,_e){k&&(m=e.params.autoplay.delay),k=!1,ae();return}m=(m||e.params.autoplay.delay)-(new Date().getTime()-v),!(e.isEnd&&m<0&&!e.params.loop)&&(m<0&&(m=0),ae())},z=()=>{e.isEnd&&m<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=new Date().getTime(),R?(R=!1,Q(m)):Q(),e.autoplay.paused=!1,r("autoplayResume"))},G=()=>{if(e.destroyed||!e.autoplay.running)return;const ie=Eo();ie.visibilityState==="hidden"&&(R=!0,V(!0)),ie.visibilityState==="visible"&&z()},q=ie=>{ie.pointerType==="mouse"&&(R=!0,F=!0,!(e.animating||e.autoplay.paused)&&V(!0))},$=ie=>{ie.pointerType==="mouse"&&(F=!1,e.autoplay.paused&&z())},xe=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",q),e.el.addEventListener("pointerleave",$))},Oe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",q),e.el.removeEventListener("pointerleave",$))},Re=()=>{Eo().addEventListener("visibilitychange",G)},Pe=()=>{Eo().removeEventListener("visibilitychange",G)};i("init",()=>{e.params.autoplay.enabled&&(xe(),Re(),U())}),i("destroy",()=>{Oe(),Pe(),e.autoplay.running&&N()}),i("_freeModeStaticRelease",()=>{(I||R)&&z()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():V(!0,!0)}),i("beforeTransitionStart",(ie,_e,ae)=>{e.destroyed||!e.autoplay.running||(ae||!e.params.autoplay.disableOnInteraction?V(!0,!0):N())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}T=!0,I=!1,R=!1,C=setTimeout(()=>{R=!0,I=!0,V(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(C),clearTimeout(l),e.params.autoplay.disableOnInteraction){I=!1,T=!1;return}I&&e.params.cssMode&&z(),I=!1,T=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(k=!0)}),Object.assign(e.autoplay,{start:U,stop:N,pause:V,resume:z})}function g$(t){const{effect:e,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:l,perspective:c,recreateShadows:d,getEffectParams:p}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),c&&c()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const v=l?l():{};Object.assign(n.params,v),Object.assign(n.originalParams,v)}),i("setTranslate",()=>{n.params.effect===e&&r()}),i("setTransition",(v,x)=>{n.params.effect===e&&s(x)}),i("transitionEnd",()=>{if(n.params.effect===e&&d){if(!p||!p().slideShadows)return;n.slides.forEach(v=>{v.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(x=>x.remove())}),d()}});let m;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(m=!0),requestAnimationFrame(()=>{m&&n.slides&&n.slides.length&&(r(),m=!1)}))})}function v$(t,e){const n=Zx(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function hE(t,e,n){const i=`swiper-slide-shadow${n?`-${n}`:""}${` swiper-slide-shadow-${t}`}`,r=Zx(e);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=Pf("div",i.split(" ")),r.append(s)),s}function _$(t){let{swiper:e,extendParams:n,on:i}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),g$({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:l,height:c,slides:d,slidesSizesGrid:p}=e,m=e.params.coverflowEffect,v=e.isHorizontal(),x=e.translate,T=v?-x+l/2:-x+c/2,I=v?m.rotate:-m.rotate,C=m.depth,k=Kz(e);for(let R=0,F=d.length;R<F;R+=1){const D=d[R],Z=p[R],H=D.swiperSlideOffset,Q=(T-H-Z/2)/Z,U=typeof m.modifier=="function"?m.modifier(Q):Q*m.modifier;let N=v?I*U:0,V=v?0:I*U,z=-C*Math.abs(U),G=m.stretch;typeof G=="string"&&G.indexOf("%")!==-1&&(G=parseFloat(m.stretch)/100*Z);let q=v?0:G*U,$=v?G*U:0,xe=1-(1-m.scale)*Math.abs(U);Math.abs($)<.001&&($=0),Math.abs(q)<.001&&(q=0),Math.abs(z)<.001&&(z=0),Math.abs(N)<.001&&(N=0),Math.abs(V)<.001&&(V=0),Math.abs(xe)<.001&&(xe=0);const Oe=`translate3d(${$}px,${q}px,${z}px)  rotateX(${k(V)}deg) rotateY(${k(N)}deg) scale(${xe})`,Re=v$(m,D);if(Re.style.transform=Oe,D.style.zIndex=-Math.abs(Math.round(U))+1,m.slideShadows){let Pe=v?D.querySelector(".swiper-slide-shadow-left"):D.querySelector(".swiper-slide-shadow-top"),ie=v?D.querySelector(".swiper-slide-shadow-right"):D.querySelector(".swiper-slide-shadow-bottom");Pe||(Pe=hE("coverflow",D,v?"left":"top")),ie||(ie=hE("coverflow",D,v?"right":"bottom")),Pe&&(Pe.style.opacity=U>0?U:0),ie&&(ie.style.opacity=-U>0?-U:0)}}},setTransition:l=>{e.slides.map(d=>Zx(d)).forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>{p.style.transitionDuration=`${l}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const bv="data:image/svg+xml,%3csvg%20width='54'%20height='54'%20viewBox='0%200%2054%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28%2018C28%2018%2031%2025.3684%2042%2028'%20stroke='%237A0000'%20stroke-miterlimit='10'/%3e%3cpath%20d='M28%2037C28%2037%2031%2030.3684%2042%2028'%20stroke='%237A0000'%20stroke-miterlimit='10'/%3e%3cpath%20d='M42%2028L12%2028'%20stroke='%237A0000'%20stroke-miterlimit='10'/%3e%3cpath%20d='M53.5%2027C53.5%2041.6355%2041.6355%2053.5%2027%2053.5C12.3645%2053.5%200.500005%2041.6356%200.500003%2027C0.500001%2012.3645%2012.3645%200.499999%2027%200.499997C41.6355%200.499995%2053.5%2012.3644%2053.5%2027Z'%20stroke='%237A0000'/%3e%3c/svg%3e",Sv="data:image/svg+xml,%3csvg%20width='54'%20height='54'%20viewBox='0%200%2054%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M26%2036C26%2036%2022.7857%2028.6316%2011%2026'%20stroke='%237A0000'%20stroke-miterlimit='10'/%3e%3cpath%20d='M26%2017C26%2017%2022.7857%2023.6316%2011%2026'%20stroke='%237A0000'%20stroke-miterlimit='10'/%3e%3cpath%20d='M11%2026L42%2026'%20stroke='%237A0000'%20stroke-miterlimit='10'/%3e%3ccircle%20cx='27'%20cy='27'%20r='26.5'%20transform='rotate(180%2027%2027)'%20stroke='%237A0000'/%3e%3c/svg%3e";function y$(){const t=B.useRef(null);return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:qt.for,children:[w.jsx("div",{className:qt.for__container,children:w.jsxs("div",{className:qt.for__top,children:[w.jsx(Ge.h2,{variants:In,className:qt.for__title,children:"Corporate clients and partners"}),w.jsxs("div",{className:qt.for__navigation,children:[w.jsx("button",{className:`${qt.for__prev} swiper-button-prev`,onClick:()=>t.current.swiper.slidePrev(),children:w.jsx("img",{src:Sv,alt:"prev"})}),w.jsx("button",{className:`${qt.for__next} swiper-button-next`,onClick:()=>t.current.swiper.slideNext(),children:w.jsx("img",{src:bv,alt:"next"})})]})]})}),w.jsxs(eh,{ref:t,effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",modules:[_$,Yx],coverflowEffect:{rotate:20,stretch:0,depth:100,modifier:1,slideShadows:!1},spaceBetween:100,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},loop:!0,className:qt.for__slider,children:[w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/table-with-glasses.jpg",alt:"table-with-glasses"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Wedding agencies"})]}),w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/table-with-flowers.jpg",alt:"table-with-flowers"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Flower shops"})]}),w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/glasses-with-wine.jpg",alt:"Corporate clients"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Corporate clients"})]}),w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/restaurants.jpg",alt:"Restaurants and cafes"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Restaurants and cafes"})]}),w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/tourism.jpg",alt:"Tourism Agency"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Tourism Agency"})]}),w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/blog.jpg",alt:"Food bloggers and influencers"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Food bloggers and influencers"})]}),w.jsxs(us,{className:qt.for__slide,children:[w.jsx("div",{className:qt.for__slide_img,children:w.jsx("img",{src:"./HomePage/ForWhom/hotel.jpg",alt:"Hotel networks"})}),w.jsx("h3",{className:qt.for__slide_label,children:"Hotel networks"})]})]})]})}const w$="_gift_1q23t_2",x$="_gift__top_1q23t_6",b$="_gift__container_1q23t_12",S$="_gift__title_1q23t_18",T$="_gift__buttons_1q23t_35",E$="_gift__slider_1q23t_47",P$="_gift__slide_1q23t_47",C$="_gift__slide_wrap_1q23t_73",I$="_gift__slide_img_1q23t_79",A$="_gift__slide_content_1q23t_93",k$="_gift__slide_name_1q23t_100",R$="_gift__slide_structure_1q23t_119",L$="_gift__slide_list_1q23t_133",O$="_gift__slide_li_1q23t_133",N$="_gift__link_1q23t_145",li={gift:w$,gift__top:x$,gift__container:b$,gift__title:S$,gift__buttons:T$,gift__slider:E$,gift__slide:P$,gift__slide_wrap:C$,gift__slide_img:I$,gift__slide_content:A$,gift__slide_name:k$,gift__slide_structure:R$,gift__slide_list:L$,gift__slide_li:O$,gift__link:N$};function M$(){const t=B.useRef(null),e="Box",[n,i]=B.useState(void 0),[r,s]=B.useState(void 0);return B.useEffect(()=>{(async()=>{const c=await Fx(e);i(c);const d=await Promise.all(c.map(async p=>await p.fetchProductInfo()));s(d)})()},[]),w.jsx(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:li.gift,children:w.jsxs("div",{className:li.gift__container,children:[w.jsxs("div",{className:li.gift__top,children:[w.jsx(Ge.h2,{variants:In,className:li.gift__title,children:"Gift baskets"}),w.jsxs("div",{className:li.gift__buttons,children:[w.jsx("button",{className:`${li.gift__prev} swiper-button-prev`,onClick:()=>t.current.swiper.slidePrev(),children:w.jsx("img",{src:Sv,alt:"prev"})}),w.jsx("button",{className:`${li.gift__next} swiper-button-next`,onClick:()=>t.current.swiper.slideNext(),children:w.jsx("img",{src:bv,alt:"next"})})]})]}),!n&&w.jsx("p",{children:"Loading..."}),n&&w.jsx(eh,{ref:t,spaceBetween:50,slidesPerView:2,modules:[Yx],navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},loop:!0,breakpoints:{970:{slidesPerView:2},480:{slidesPerView:1},0:{slidesPerView:1}},className:li.gift__slider,children:n.map((l,c)=>{var p;const d=r?r[c]:null;return w.jsx(us,{className:li.gift__slide,children:w.jsx(Gt,{className:li.gift__slide_wrap,to:`/Box/${l.id}`,children:w.jsxs("div",{className:"",children:[w.jsx("div",{className:li.gift__slide_img,children:w.jsx("img",{src:l.imageUrl,alt:l.imageUrl})}),w.jsxs("div",{className:li.gift__slide_content,children:[w.jsx("h3",{className:li.gift__slide_name,children:l.name}),w.jsxs("div",{className:li.gift__slide_structure,children:[w.jsx("span",{children:"Composition: "}),w.jsxs("ul",{className:li.gift__slide_list,children:[!d&&w.jsx("p",{children:"Loading..."}),(p=d==null?void 0:d.structureInfo)==null?void 0:p.map((m,v)=>w.jsxs("li",{className:li.gift__slide_li,children:[w.jsx("strong",{children:m.name}),": ",m.description," (Maker: ",m.maker,", ",m.weightOrVolume,")"]},v))]})]})]})]})})},c)})}),w.jsx(Gt,{to:"/Gift-sets/Boxes",className:li.gift__link,children:"View all"})]})})}const D$="_instagram_17yu0_2",V$="_instagram__container_17yu0_11",j$="_instagram__top_17yu0_19",F$="_instagram__title_17yu0_32",B$="_instagram__link_17yu0_50",z$="_instagram__images_17yu0_65",U$="_instagram__img_17yu0_72",$$="_instagram__winespot_17yu0_98",Ls={instagram:D$,instagram__container:V$,instagram__top:j$,instagram__title:F$,instagram__link:B$,instagram__images:z$,instagram__img:U$,instagram__winespot:$$};function hs(){const{opacity:t,blockRef:e}=Ro();return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},ref:e,className:Ls.instagram,children:[w.jsxs("div",{className:Ls.instagram__container,children:[w.jsxs("div",{className:Ls.instagram__top,children:[w.jsx(Ge.h2,{variants:In,className:Ls.instagram__title,children:"instagram"}),w.jsx("a",{className:Ls.instagram__link,target:"_blank",href:"https://www.instagram.com/wineshop.kyiv/",children:"Subscribe"})]}),w.jsxs("div",{className:Ls.instagram__images,children:[w.jsx("div",{className:Ls.instagram__img,children:w.jsx("img",{src:"/wineset/Instagram/wine-bottles1.jpeg",alt:"wine1"})}),w.jsx("div",{className:Ls.instagram__img,children:w.jsx("img",{src:"/wineset/Instagram/men.jpg",alt:"wine2"})}),w.jsx("div",{className:Ls.instagram__img,children:w.jsx("img",{src:"/wineset/Instagram/wine-bottles.jpg",alt:"wine3"})}),w.jsx("div",{className:Ls.instagram__img,children:w.jsx("img",{src:"/wineset/HomePage/Delivery/wine-cork.jpg",alt:"wine4"})})]})]}),w.jsx("div",{style:{opacity:t},className:Ls.instagram__winespot,children:w.jsx("img",{src:"/wineset/WineSpots/wine-spot-1.png",alt:"wine-spot-1"})})]})}const H$="_links_13492_2",W$="_links__link_13492_6",q$="_links__label_13492_6",G$="_links__img_13492_12",Sm={links:H$,links__link:W$,links__label:q$,links__img:G$},K$=[{index:1,label:"BASKET OF DELICACIES",imgSrc:"./HomePage/Links/delicacies.jpg",link:"/Delicacies"},{index:2,label:"FRENCH WINE",imgSrc:"./HomePage/Links/wine.jpg",link:"/Wine-and-alcohol"},{index:3,label:"TENUTA ARGENTIERA",imgSrc:"./HomePage/Links/tenuta.jpg",link:"/Articles"}];function Z$(){const t={autoplay:{delay:2500,disableOnInteraction:!1},spaceBetween:5,breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}}};return w.jsx("section",{className:Sm.links,children:w.jsx(eh,{...t,modules:[m$],children:K$.map(e=>w.jsx(us,{children:w.jsxs("div",{className:Sm.links__link,children:[w.jsx("div",{className:Sm.links__img,children:w.jsx("img",{src:e.imgSrc,alt:`img for ${e.label}`})}),w.jsx(Gt,{to:e.link,className:Sm.links__label,children:e.label})]},e.index)},e.index))})})}const Q$="_special_1adtb_2",Y$="_special__container_1adtb_11",X$="_special__title_1adtb_19",J$="_special__content_1adtb_45",eH="_special__label_1adtb_58",tH="_special__help_1adtb_83",nH="_special__help_img_1adtb_86",iH="_special__text_1adtb_117",rH="_special__sommelier_1adtb_136",sH="_special__sommelier_img_1adtb_139",oH="_special__store_1adtb_147",aH="_special__store_img_1adtb_151",lH="_special__winespot_1adtb_160",uH="_special__winespot2_1adtb_172",ui={special:Q$,special__container:Y$,special__title:X$,special__content:J$,special__label:eH,special__help:tH,special__help_img:nH,special__text:iH,special__sommelier:rH,special__sommelier_img:sH,special__store:oH,special__store_img:aH,special__winespot:lH,special__winespot2:uH};function cH(){const{opacity:t,blockRef:e}=Ro();return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},ref:e,className:ui.special,children:[w.jsxs("div",{className:ui.special__container,children:[w.jsx(Ge.h2,{variants:In,className:ui.special__title,children:"What makes us special?"}),w.jsxs("div",{className:ui.special__content,children:[w.jsxs(Gt,{to:"/Articles",className:ui.special__help,children:[w.jsx("div",{className:ui.special__help_img,children:w.jsx("img",{src:"./HomePage/Special/man1.jpg",alt:"man-help"})}),w.jsx("h4",{className:ui.special__label,children:"Need help picking wine?"})]}),w.jsxs(Gt,{to:"/Sommelier",className:ui.special__sommelier,children:[w.jsx("div",{className:ui.special__text,children:"A sommelier is a professional with a deep knowledge of wines and the art of pairing them with food to elevate the dining experience. Their expertise isn't limited to just knowing labels and vintages; it encompasses understanding the nuances of flavor profiles, grape varieties, regions, and even the history and culture behind each bottle."}),w.jsx("div",{className:ui.special__sommelier_img,children:w.jsx("img",{src:"./HomePage/Special/man2.jpg",alt:"man-sommeiler"})}),w.jsx("h4",{className:ui.special__label,children:"Read about sommelier"})]}),w.jsxs(Gt,{to:"/Articles",className:ui.special__store,children:[w.jsx("div",{className:ui.special__text,children:"Wineset is a wine shop that stands out as a haven for wine enthusiasts, offering a carefully curated selection of exceptional wines from around the world. Whether you are a seasoned connoisseur or a curious beginner, Wineset provides a welcoming environment to explore and discover."}),w.jsx("div",{className:ui.special__store_img,children:w.jsx("img",{src:"./HomePage/Special/store.jpg",alt:"store"})}),w.jsx("h4",{className:ui.special__label,children:"More about the store"})]})]})]}),w.jsx("div",{style:{opacity:t},className:ui.special__winespot,children:w.jsx("img",{src:"./WineSpots/wine-spot.png",alt:"wine-spot"})}),w.jsx("div",{style:{opacity:t},className:ui.special__winespot2,children:w.jsx("img",{src:"./WineSpots/wine-spot-2.png",alt:"wine-spot-2"})})]})}const dH="_content_1knn3_2",hH={content:dH};function fH(){return w.jsxs("div",{className:hH.content,children:[w.jsx(Gn,{imgSrc:"./HomePage/table-with-glasses.jpg",supTitle:"Special offer",title:"glasses & andles",subTitle:"CREATE YOUR OWN WINE SET",subTitleLink:"/Wine-and-alcohol/Wine",contentWidth:381}),w.jsx(Z$,{}),w.jsx(cH,{}),w.jsx(y$,{}),w.jsx(Pz,{}),w.jsx(vz,{}),w.jsx(YA,{}),w.jsx(M$,{}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}const pH="_header_az1ce_2",mH="_header__container_az1ce_5",gH="_header__top_az1ce_11",vH="_header__body_top_az1ce_20",_H="_header__info_az1ce_27",yH="_header__logo_az1ce_34",wH="_header__buttons_az1ce_53",xH="_header__contact_az1ce_72",bH="_header__bottom_az1ce_77",SH="_header__body_bottom_az1ce_88",TH="_header__ul_az1ce_94",EH="_header__li_az1ce_98",PH="_header__a_az1ce_102",CH="_active_az1ce_106",IH="_header__subLinks_az1ce_106",AH="_header__subLink_az1ce_106",kH="_header__buy_az1ce_171",RH="_header__wish_az1ce_176",LH="_header__cart_az1ce_199",OH="_stickyBottom_az1ce_224",NH="_sticky_az1ce_224",MH="_burgerIcon_az1ce_238",DH="_active_burger_az1ce_307",VH="_header__contact_wrap_az1ce_421",jH="_header__contactInfo_az1ce_424",FH="_visible_az1ce_437",BH="_header__contactInfo_top_az1ce_447",zH="_header__contactInfo_title_az1ce_454",UH="_header__contactInfo_cross_az1ce_472",$H="_header__contactInfo_content_az1ce_475",HH="_header__contactInfo_contacts_az1ce_478",WH="_header__contactInfo_socials_az1ce_495",qH="_header__contactInfo_about_az1ce_506",mt={header:pH,header__container:mH,header__top:gH,header__body_top:vH,header__info:_H,header__logo:yH,header__buttons:wH,header__contact:xH,header__bottom:bH,header__body_bottom:SH,header__ul:TH,header__li:EH,header__a:PH,active:CH,header__subLinks:IH,header__subLink:AH,header__buy:kH,header__wish:RH,header__cart:LH,stickyBottom:OH,sticky:NH,burgerIcon:MH,active_burger:DH,header__contact_wrap:VH,header__contactInfo:jH,visible:FH,header__contactInfo_top:BH,header__contactInfo_title:zH,header__contactInfo_cross:UH,header__contactInfo_content:$H,header__contactInfo_contacts:HH,header__contactInfo_socials:WH,header__contactInfo_about:qH},GH=[["Gift sets",["Boxes"]],["Wine and alcohol",["Wine","Champagne","Whiskey","Vodka"]],["Delicacies",["Delicacies","Cheese","Cookies","Sauce"]],["Glasses and candles",["Glasses","Candles"]]],KH="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%200C3.17083%200%200%203.17083%200%207V18C0%2021.8292%203.17083%2025%207%2025H18C21.8292%2025%2025%2021.8292%2025%2018V7C25%203.17083%2021.8292%200%2018%200H7ZM7%203H18C20.2972%203%2022%204.70278%2022%207V18C22%2020.2972%2020.2972%2022%2018%2022H7C4.70278%2022%203%2020.2972%203%2018V7C3%204.70278%204.70278%203%207%203ZM19%204C18.6316%204%2018.2605%204.73953%2018%205C17.7395%205.26047%2018%205.63164%2018%206C18%206.36836%2017.7395%206.73953%2018%207C18.2605%207.26047%2018.6316%207%2019%207C19.3684%207%2019.7395%207.26047%2020%207C20.2605%206.73953%2021%206.36836%2021%206C21%205.63164%2020.2605%205.26047%2020%205C19.7395%204.73953%2019.3684%204%2019%204ZM13%206C9.17083%206%206%209.17083%206%2013C6%2016.8292%209.17083%2019%2013%2019C16.8292%2019%2019%2016.8292%2019%2013C19%209.17083%2016.8292%206%2013%206ZM13%208C15.2972%208%2017%2010.7028%2017%2013C17%2015.2972%2015.2972%2017%2013%2017C10.7028%2017%208%2015.2972%208%2013C8%2010.7028%2010.7028%208%2013%208Z'%20fill='%237A0000'%20fill-opacity='0.75'/%3e%3c/svg%3e",ZH="data:image/svg+xml,%3csvg%20width='29'%20height='26'%20viewBox='0%200%2029%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M26%200.99977C25.6208%201.01605%2025.311%200.877397%2025%200.99977C24.7087%201.11384%2023.7534%202.2679%2022%202.99977C20.2451%203.73228%2017.4787%203.96224%2015%204.99977C10.0425%207.07483%204.85477%209.80429%202%2010.9998C1.89265%2011.0447%201.39756%2010.6977%201%2010.9998C0.602443%2011.3019%200%2012.3023%200%2012.9998C0%2013.5622%200.653375%2013.6662%201%2013.9998C1.34663%2014.3334%201.68583%2014.875%202%2014.9998C3.13992%2015.4525%206.33239%2016.7339%207%2016.9998C7.23495%2017.7003%208.70325%2022.066%209%2022.9998C9.19562%2023.616%208.75755%2023.6935%209%2023.9998C9.12123%2024.1529%209.82924%2023.8946%2010%2023.9998C9.92437%2023.97%2010.0683%2024.0418%2010%2023.9998C9.98233%2023.9938%2010.0174%2024.0066%2010%2023.9998C9.9554%2023.9903%2010.0333%2024.0111%2010%2023.9998C10.1777%2024.0556%2010.8399%2024.9998%2011%2024.9998C11.6826%2024.9998%2012%2023.9998%2012%2023.9998L15%2020.9998L20%2024.9998C20.06%2025.0823%2019.7668%2025.9998%2021%2025.9998C21.7322%2025.9998%2022.6271%2025.3806%2023%2024.9998C23.3729%2024.6189%2023.9012%2024.5028%2024%2023.9998C24.0924%2023.5244%2028%203.99977%2028%203.99977C28.1149%203.48937%2028.1268%202.46884%2028%201.99977C27.8732%201.5307%2027.4141%201.24145%2027%200.99977C26.5859%200.758149%2026.3792%200.983487%2026%200.99977ZM26%202.99977C25.9944%203.03291%2026.0087%202.9608%2026%202.99977C26%202.99977%2022.1433%2023.2625%2022%2023.9998C22.0105%2023.9441%2022.0491%2023.9328%2022%2023.9998C21.9305%2023.9532%2021%2023.9998%2021%2023.9998L15%2017.9998L11%2021.9998L13%2016.9998C13%2016.9998%2020.5392%209.44828%2021%208.99977C21.371%208.64096%2021%208.12354%2021%207.99977C21%207.83399%2021.1983%207.99977%2021%207.99977C20.8215%207.99977%2020.1283%207.92029%2020%207.99977C18.3282%209.03706%2011.29%2013.1373%208%2014.9998C7.47717%2014.7915%204.23105%2013.4888%203%2012.9998C2.9903%2013.0039%203.00932%2012.9958%203%2012.9998C5.85552%2011.804%2011.0432%209.07453%2016%206.99977C18.4784%205.96239%2021.2465%205.73169%2023%204.99977C24.7265%204.27912%2025.8639%203.0539%2026%202.99977Z'%20fill='%237A0000'%20fill-opacity='0.75'/%3e%3c/svg%3e",QH="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%200C1.46806%200%200%201.46806%200%203V22C0%2023.5319%201.46806%2025%203%2025H12H16H22C23.5319%2025%2025%2023.5319%2025%2022V3C25%201.46806%2023.5319%200%2022%200H3ZM3%203H22V22H16V17H19L20%2013H16V11C16%209.90556%2016.4306%209%2018%209H20V5C19.0347%204.90139%2017.9708%204.99722%2017%205C14.1194%205%2012%206.77222%2012%2010V13H9V17H12V22H3V3Z'%20fill='%237A0000'%20fill-opacity='0.75'/%3e%3c/svg%3e",Tv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.838%201.86523L1.76367%2013.9395'%20stroke='white'%20stroke-opacity='0.65'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2%202L14.0743%2014.0743'%20stroke='white'%20stroke-opacity='0.65'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function YH({state:t,setState:e}){return w.jsxs("div",{className:`${mt.header__contactInfo} ${t.moreInfo?mt.visible:""}`,children:[w.jsxs("div",{className:mt.header__contactInfo_top,children:[w.jsx("h3",{className:mt.header__contactInfo_title,children:"Contacts"}),w.jsx("button",{onClick:()=>e(n=>({...n,moreInfo:!1})),className:mt.header__contactInfo_cross,children:w.jsx("img",{src:Tv,alt:"cross"})})]}),w.jsxs("div",{className:mt.header__contactInfo_content,children:[w.jsxs("div",{className:mt.header__contactInfo_contacts,children:[w.jsxs("div",{className:mt.header__contactInfo_adress,children:[w.jsx("span",{children:"Address:"})," Zabuttsia Sahakanskiy, 25, Kyiv"]}),w.jsxs("div",{className:mt.header__contactInfo_phone,children:[w.jsx("span",{children:"Phone:"})," 1235123123, 15121231231"]}),w.jsxs("div",{className:mt.header__contactInfo_email,children:[w.jsx("span",{children:"Email:"})," delivery@wineset.ua"]})]}),w.jsx(YA,{height:"180px"}),w.jsxs("div",{className:mt.header__contactInfo_socials,children:[w.jsx("a",{target:"_blank",href:"https://www.facebook.com/",children:w.jsx("img",{src:QH,alt:"facebook"})}),w.jsx("a",{target:"_blank",href:"https://web.telegram.org/",children:w.jsx("img",{src:ZH,alt:"tg"})}),w.jsx("a",{target:"_blank",href:"https://www.instagram.com/wineshop.kyiv/",children:w.jsx("img",{src:KH,alt:"inst"})})]}),w.jsx(Gt,{className:mt.header__contactInfo_about,to:"/Delivery",children:"About Delivery"})]})]})}const Ni=mu()(wv(Mx(t=>({user:pa.currentUser,firebaseAlert:null,loading:!1,setFirebaseAlert:e=>t({firebaseAlert:e}),logout:async()=>{const e=pa.currentUser;t({loading:!0});try{if(e){const{saveWishlistByUserToDB:i}=Ao.getState();await i(e)}await W7(pa),t({user:null,firebaseAlert:"User logged out",loading:!1});const{clearWishlist:n}=Ao.getState();await n()}catch(n){t({firebaseAlert:`Logout failed: ${n.message}`,loading:!1})}},register:async(e,n)=>{const{logout:i}=Ni.getState();await i(),t({loading:!0});try{const r=await j7(pa,e,n);t({user:r.user,firebaseAlert:`User registered: ${r.user.email}`,loading:!1})}catch(r){r.code==="auth/email-already-in-use"?(t({firebaseAlert:"Email already in use. Attempting Google sign-in...",loading:!1}),(await z7(pa,e)).includes("google.com")&&await FT(pa,GT)):t({firebaseAlert:`Registration failed: ${r.message}`,loading:!1})}},handleFirebaseAuth:async()=>{const{logout:e}=Ni.getState();await e(),t({loading:!0});try{const i=(await FT(pa,GT)).user;t({user:i,firebaseAlert:`Google sign-in successful. Welcome, ${i.displayName||i.email}!`,loading:!1})}catch(n){t({firebaseAlert:`Authorization failed: ${n.message}`,loading:!1})}},login:async(e,n)=>{const{logout:i}=Ni.getState();await i(),t({loading:!0});try{const r=await F7(pa,e,n);t({user:r.user,firebaseAlert:`User signed in: ${r.user.email}`,loading:!1})}catch(r){t({firebaseAlert:{"auth/user-not-found":"Error: The specified email does not exist.","auth/wrong-password":"Error: Incorrect password entered.","auth/invalid-credential":"Error: The specified email does not exist or the password is incorrect."}[r.code]||`Login error: ${r.message}`,loading:!1})}}}),{name:"auth-storage"})));function XH({loginActive:t,setLoginActive:e,setRegisterActive:n,title:i}){const[r,s]=B.useState(null),{register:l,handleSubmit:c,reset:d,formState:{errors:p,isSubmitting:m}}=ap(),{handleFirebaseAuth:v,user:x,logout:T,login:I,firebaseAlert:C,setFirebaseAlert:k}=Ni();B.useEffect(()=>{if(r){const D=setTimeout(()=>s(null),5e3);return()=>clearTimeout(D)}},[r]),B.useEffect(()=>{if(C){const D=setTimeout(()=>k(null),5e3);return()=>clearTimeout(D)}},[C]),B.useEffect(()=>(t?document.body.classList.add("no-scroll-popup"):document.body.classList.remove("no-scroll-popup"),()=>{document.body.classList.remove("no-scroll-popup")}),[t]);const R=async D=>{await I(D.email,D.password),d()},F=async()=>{try{await v(),d(),e(!1),n(!1)}catch{s("Authorization failed. Please try again.")}};return w.jsx(Ge.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-[#0000008e] bg-opacity-50 !z-[99999] flex justify-center items-center",children:w.jsxs(Ge.div,{initial:{opacity:0,y:"-50px"},animate:{opacity:1,y:"0px"},exit:{opacity:0,y:"-50px"},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-lg w-[90%] max-w-[700px] shadow-lg relative !z-[99999] max-md:mt-[5vh] overflow-hidden",children:[w.jsxs("div",{className:"bg-[#121212] flex justify-between items-center p-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-white",children:i}),w.jsx("button",{onClick:()=>e(!t),className:"text-2xl font-bold",children:w.jsx("img",{src:Tv,alt:"Close"})})]}),w.jsx("div",{className:"mt-4 p-4",children:w.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c(R),children:[w.jsx("input",{placeholder:"Email...",type:"email",id:"email",className:"border-2 border-[#898989] p-2 rounded-md",...l("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),autoComplete:"email"}),p.email&&w.jsx("p",{children:p.email.message}),w.jsx("input",{placeholder:"Password...",type:"password",id:"password",className:"border-2 border-[#898989] p-2 rounded-md",...l("password",{required:"Password is required",minLength:{value:6,message:"Password must have at least 6 characters"}}),autoComplete:"current-password"}),p.password&&w.jsx("p",{children:p.password.message}),r&&w.jsx("p",{children:r}),C&&w.jsx("p",{children:C}),w.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[w.jsx("button",{type:"submit",disabled:m,className:"bg-transparent border-2 border-[#7A0000] font-semibold max-w-[220px] px-[34px] py-[10px] rounded-[3px] text-[#7A0000] transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-[#7A0000] hover:text-white",children:m?"Loading...":"Sign in"}),w.jsx("button",{onClick:()=>{e(!1),n(!0)},type:"button",className:"bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[250px] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",children:"Register new account"}),w.jsx("button",{onClick:F,type:"button",className:"bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[250px] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",children:"Sign in with Google"}),x&&w.jsx("button",{onClick:T,type:"button",className:"bg-[#000] border-2 border-[#000] font-semibold max-w-[89%] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#000] flex-grow",children:"Log out"})]})]})})]})})}function JH({registerActive:t,setLoginActive:e,setRegisterActive:n,title:i}){const[r,s]=B.useState(null),{handleFirebaseAuth:l}=Ni(),{register:c,handleSubmit:d,reset:p,formState:{errors:m,isSubmitting:v}}=ap(),{user:x,logout:T,register:I,firebaseAlert:C,setFirebaseAlert:k}=Ni();B.useEffect(()=>{if(r){const D=setTimeout(()=>s(null),5e3);return()=>clearTimeout(D)}},[r]),B.useEffect(()=>{if(C){const D=setTimeout(()=>k(null),5e3);return()=>clearTimeout(D)}},[C]),B.useEffect(()=>(t?document.body.classList.add("no-scroll-popup"):document.body.classList.remove("no-scroll-popup"),()=>{document.body.classList.remove("no-scroll-popup")}),[t]);const R=async D=>{I(D.email,D.password),p()},F=async()=>{try{await l(),p(),e(!1),n(!1)}catch{k("Authorization failed. Please try again.")}};return w.jsx(Ge.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-[#0000008e] bg-opacity-50 !z-[99999] flex justify-center items-center",children:w.jsxs(Ge.div,{initial:{opacity:0,y:"-50px"},animate:{opacity:1,y:"0px"},exit:{opacity:0,y:"-50px"},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-lg w-[90%] max-w-[700px] shadow-lg relative !z-[99999] max-md:mt-[5vh] overflow-hidden",children:[w.jsxs("div",{className:"bg-[#121212] flex justify-between items-center p-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-white",children:i}),w.jsx("button",{onClick:()=>n(!t),className:"text-2xl font-bold",children:w.jsx("img",{src:Tv,alt:"Close"})})]}),w.jsx("div",{className:"mt-4 p-4",children:w.jsxs("form",{className:"flex flex-col gap-4",onSubmit:d(R),children:[w.jsx("input",{placeholder:"Email...",type:"email",id:"email",className:"border-2 border-[#898989] p-2 rounded-md",...c("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),autoComplete:"email"}),m.email&&w.jsx("p",{children:m.email.message}),w.jsx("input",{placeholder:"Password...",type:"password",id:"password",className:"border-2 border-[#898989] p-2 rounded-md",...c("password",{required:"Password is required",minLength:{value:6,message:"Password must have at least 6 characters"}}),autoComplete:"current-password"}),m.password&&w.jsx("p",{children:m.password.message}),w.jsx("input",{placeholder:"Confirm Password...",type:"password",className:"border-2 border-[#898989] p-2 rounded-md",...c("confirmPassword",{required:"Password confirmation is required",minLength:{value:6,message:"Password must have at least 6 characters"},validate:D=>{var Z;return D===((Z=document.getElementById("password"))==null?void 0:Z.value)||"The passwords do not match"}}),autoComplete:"current-password"}),m.confirmPassword&&w.jsx("p",{children:m.confirmPassword.message}),r&&w.jsx("p",{children:r}),C&&w.jsx("p",{children:C}),w.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[w.jsx("button",{type:"submit",disabled:v,className:"bg-transparent border-2 border-[#7A0000] font-semibold max-w-[220px] px-[34px] py-[10px] rounded-[3px] text-[#7A0000] transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-[#7A0000] hover:text-white",children:v?"Loading...":"Sing up"}),w.jsx("button",{onClick:()=>{n(!1),e(!0)},type:"button",className:"bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[250px] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",children:"Log in account"}),w.jsx("button",{onClick:()=>{F()},type:"button",className:"bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[250px] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",children:"Sing in with Google"}),x&&w.jsx("button",{onClick:()=>{T()},type:"button",className:"bg-[#000] border-2 border-[#000] font-semibold max-w-[89%] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#000] flex-grow",children:"Log out"})]})]})})]})})}function eW({loginActive:t,setLoginActive:e}){const[n,i]=B.useState(!1),{user:r}=Ni(),s=r?"Sign in another account":"Sign in your account",l=r?"Sign up another account":"Sign up new account",{loadWishlistByUserFromDB:c,saveWishlistByUserToDB:d,wishlistIds:p}=Ao(),[m,v]=B.useState(null);return B.useEffect(()=>{const x=H7(pa,T=>{T&&c(T),v(T)});return()=>x()},[]),B.useEffect(()=>{if(!m)return;const x=()=>{document.visibilityState==="hidden"&&d(m)};return document.addEventListener("visibilitychange",x),()=>document.removeEventListener("visibilitychange",x)},[m,p]),w.jsxs("div",{children:[t&&w.jsx(XH,{title:s,loginActive:t,setLoginActive:e,setRegisterActive:i}),n&&w.jsx(JH,{title:l,registerActive:n,setLoginActive:e,setRegisterActive:i})]})}const Er=mu(t=>({active:!1,title:"",children:null,withoutPadAndCross:!1,open:(e,n,i=!1,r=!0)=>{t({title:e,children:n,withoutPadAndCross:i,active:r})},close:()=>t({active:!1,title:"",children:null,withoutPadAndCross:!1})})),tW="_container_dh9cw_2",nW="_cartFont_dh9cw_9",iW="_suptitle_dh9cw_27",rW="_title_dh9cw_36",sW="_crossedPrice_dh9cw_71",oW="_priceCart_dh9cw_82",aW="_priceOrder_dh9cw_101",lW="_orderFont_dh9cw_120",uW="_orderTitleFont_dh9cw_137",cW="_orderRedPrice_dh9cw_155",ei={container:tW,cartFont:nW,suptitle:iW,title:rW,crossedPrice:sW,priceCart:oW,priceOrder:aW,orderFont:lW,orderTitleFont:uW,orderRedPrice:cW};function gR({cartItem:t}){const{cartIds:e}=Yi(),[n,i]=B.useState({crossedPrice:null,disountedPrice:null});return B.useEffect(()=>{(async()=>{try{if(t.getAsyncPrice&&typeof t.getAsyncPrice=="function"){let s=await t.getAsyncPrice();t.cartQuantity&&(s*=t.cartQuantity);let l=t.getDiscountedPrice();t.cartQuantity&&(l*=t.cartQuantity),i({crossedPrice:s.toFixed(2),disountedPrice:l.toFixed(2)})}else console.error("getAsyncPrice is not a function on cartItem")}catch(s){console.warn("Error getting price:",s)}})()},[t,e]),w.jsxs(w.Fragment,{children:[!n&&w.jsx("div",{className:"flex flex-col gap-[5px] items-end",children:"Loading..."}),n&&w.jsxs("div",{className:"flex flex-col gap-[5px] items-end",children:[n.crossedPrice!==n.disountedPrice&&w.jsxs("h5",{className:ei.crossedPrice,children:[n.crossedPrice,"$"]}),w.jsxs("h5",{className:ei.priceCart,children:[n.disountedPrice,"$"]})]})]})}function dW(){const{wishlistProducts:t,clearWishlist:e}=Ao(),{close:n}=Er(),i=Vf();function r(s){i(`/${zr(s.kindOfProduct)}/${s.id}`),n()}return w.jsxs("section",{className:"max-h-[70vh] overflow-y-auto overflow-x-hidden w-full pr-2",children:[!!t.length&&w.jsx("button",{onClick:()=>{e()},className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] w-full",children:"Clear all wishlist"}),t.map((s,l)=>typeof s.getDiscountedPrice=="function"&&typeof s.getAsyncPrice=="function"&&w.jsxs("div",{className:"flex justify-between gap-10 border-b-1 border-[#000] pt-[20px] pb-[20px] max-[500px]:gap-2 max-[500px]:flex-col",children:[w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("button",{onClick:()=>r(s),children:w.jsx("div",{className:"relative flex justify-center mx-auto w-[155px] h-[155px] max-[400px]:w-[100px] max-[400px]:h-[100px]",children:s.imageUrl&&w.jsx("img",{className:"absolute w-full h-full object-contain",src:Xf(s.imageUrl),alt:s.imageUrl})})}),w.jsx("div",{className:"flex justify-between flex-col",children:w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("h4",{className:"font-medium text-[14px] leading-[1.4] capitalize text-black/50",children:["Type: ",s.kindOfProduct]}),w.jsx("h3",{className:"font-medium text-black capitalize leading-[1.3] text-[18px] sm:text-[16px]",children:s.name}),w.jsx("h4",{className:"font-medium text-[14px] leading-[1.4] capitalize text-[rgba(0,0,0,0.5)]",children:s.description})]})})]}),w.jsxs("div",{className:"flex flex-col justify-between items-end",children:[w.jsx("div",{className:"flex flex-col gap-3",children:w.jsxs("button",{onClick:()=>s.removeFromWishList(),className:"relative w-[18px] h-[18px] rotate-45 transitioned hover:scale-110",children:[w.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black transform -translate-y-1/2 rounded-4xl"}),w.jsx("div",{className:"absolute left-1/2 top-0 h-full w-[2px] bg-black transform -translate-x-1/2 rounded-4xl"})]})}),w.jsx(gR,{cartItem:s})]})]},`${s.id}-${l}`)),!t.length&&w.jsx("div",{className:"pt-[20px] pb-[20px] text-[20px] text-center",children:"Nothing in wishlist"})]})}const Gm="data:image/svg+xml,%3csvg%20width='37'%20height='37'%20viewBox='0%200%2037%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M33.0931%206.65549C32.2895%205.84892%2031.3353%205.20909%2030.2851%204.77255C29.235%204.33601%2028.1093%204.11133%2026.9726%204.11133C25.8358%204.11133%2024.7102%204.33601%2023.66%204.77255C22.6098%205.20909%2021.6557%205.84892%2020.8521%206.65549L19.1843%208.32864L17.5165%206.65549C15.8932%205.02703%2013.6916%204.11217%2011.3959%204.11217C9.10031%204.11217%206.89869%205.02703%205.27543%206.65549C3.65217%208.28395%202.74023%2010.4926%202.74023%2012.7956C2.74023%2015.0986%203.65217%2017.3073%205.27543%2018.9357L6.94323%2020.6089L19.1843%2032.8891L31.4253%2020.6089L33.0931%2018.9357C33.8971%2018.1295%2034.5349%2017.1723%2034.97%2016.1188C35.4052%2015.0652%2035.6291%2013.936%2035.6291%2012.7956C35.6291%2011.6552%2035.4052%2010.526%2034.97%209.47244C34.5349%208.4189%2033.8971%207.46169%2033.0931%206.65549V6.65549Z'%20stroke='%237A0000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ny="data:image/svg+xml,%3csvg%20width='37'%20height='37'%20viewBox='0%200%2037%2037'%20fill='%237A0000'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M33.0931%206.65549C32.2895%205.84892%2031.3353%205.20909%2030.2851%204.77255C29.235%204.33601%2028.1093%204.11133%2026.9726%204.11133C25.8358%204.11133%2024.7102%204.33601%2023.66%204.77255C22.6098%205.20909%2021.6557%205.84892%2020.8521%206.65549L19.1843%208.32864L17.5165%206.65549C15.8932%205.02703%2013.6916%204.11217%2011.3959%204.11217C9.10031%204.11217%206.89869%205.02703%205.27543%206.65549C3.65217%208.28395%202.74023%2010.4926%202.74023%2012.7956C2.74023%2015.0986%203.65217%2017.3073%205.27543%2018.9357L6.94323%2020.6089L19.1843%2032.8891L31.4253%2020.6089L33.0931%2018.9357C33.8971%2018.1295%2034.5349%2017.1723%2034.97%2016.1188C35.4052%2015.0652%2035.6291%2013.936%2035.6291%2012.7956C35.6291%2011.6552%2035.4052%2010.526%2034.97%209.47244C34.5349%208.4189%2033.8971%207.46169%2033.0931%206.65549V6.65549Z'%20stroke='%237A0000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function Xx({changable:t=!0}){const{cartProducts:e}=Yi(),{addToWishlist:n,removeFromWishlist:i,wishlistIds:r}=Ao(),{open:s}=Er(),{user:l}=Ni();return w.jsx(w.Fragment,{children:e.map((c,d)=>{const p=r.some(([x])=>x===c.id),m=p?Ny:Gm,v=()=>{l?p?i(c):n(c):s("Notification wishlist",w.jsx("p",{className:"mb-5",children:"Before adding product to wishlist, please Sign In to your account"}),!1)};return typeof c.getDiscountedPrice=="function"&&typeof c.getAsyncPrice=="function"&&w.jsxs("div",{className:"flex justify-between gap-10 border-b-1 border-[#000] pt-[20px] pb-[20px] max-[400px]:gap-2 max-[400px]:flex-col-reverse",children:[w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx(Gt,{to:`/${zr(c.kindOfProduct)}/${c.id}`,children:w.jsx("div",{className:"relative flex justify-center mx-auto w-[155px] h-[155px] max-[400px]:w-[100px] max-[400px]:h-[100px]",children:c.imageUrl&&w.jsx("img",{className:"absolute w-full h-full object-contain",src:Xf(c.imageUrl),alt:c.imageUrl})})}),w.jsxs("div",{className:"flex justify-between flex-col",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("h4",{className:ei.suptitle,children:["Type: ",c.kindOfProduct]}),w.jsx("h3",{className:ei.title,children:c.name}),w.jsx("h4",{className:ei.suptitle,children:c.description})]}),t&&w.jsxs("div",{className:"counterFont bg-[#F9F9FC] max-w-[120px] h-[50px] flex items-center justify-between",children:[w.jsx("button",{className:"p-[10px] text-2xl hover:bg-[#9f9f9f] transitioned",onClick:()=>c.removeFromCart(),children:"-"}),c.cartQuantity,w.jsx("button",{className:"p-[10px] text-2xl hover:bg-[#9f9f9f] transitioned",onClick:()=>c.addToCart(),children:"+"})]})]})]}),w.jsxs("div",{className:"flex flex-col justify-between items-end max-[400px]:flex-row-reverse",children:[w.jsxs("div",{className:"flex flex-col gap-3",children:[t&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>c.removeFromCart(c.cartQuantity),className:"relative w-[18px] h-[18px] rotate-45 transitioned hover:scale-110",children:[w.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black transform -translate-y-1/2 rounded-4xl"}),w.jsx("div",{className:"absolute left-1/2 top-0 h-full w-[2px] bg-black transform -translate-x-1/2 rounded-4xl"})]}),w.jsx("button",{onClick:v,className:"w-[18px] h-[18px] transitioned hover:scale-110",children:w.jsx("img",{src:m,alt:"wishlist toggle"})})]}),!t&&w.jsxs("div",{className:"!font-[Inter] font-medium !text-[16px] text-[#7a0000]",children:[c.cartQuantity," * ",c.getDiscountedPrice()," $"]})]}),w.jsx(gR,{cartItem:c})]})]},`${c.id}-${d}`)})})}function hW(){const t=Vf(),{cartProducts:e,clearCart:n}=Yi(),{close:i}=Er();function r(s){t(s),i()}return w.jsxs("section",{className:"max-h-[70vh] overflow-y-auto overflow-x-hidden w-full pr-2",children:[w.jsxs("div",{className:"flex gap-10 max-md:flex-col",children:[!!e.length&&w.jsx("button",{onClick:()=>{n()},className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] w-full",children:"Clear all cart items"}),w.jsx("button",{className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] w-full",onClick:()=>r("/Cart"),children:"Go to Cart"})]}),w.jsx(Xx,{}),!e.length&&w.jsx("div",{className:"pt-[20px] pb-[20px] text-[20px] text-center",children:"Nothing in cart"})]})}const fW="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.42833%2013.8568C10.9786%2013.8568%2013.8567%2010.9787%2013.8567%207.42841C13.8567%203.8781%2010.9786%201%207.42833%201C3.87806%201%201%203.8781%201%207.42841C1%2010.9787%203.87806%2013.8568%207.42833%2013.8568Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.4287%2012.4277L16.0001%2015.9992'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",pW=[{path:"Glasses-and-candles",label:"Glasses and candles"},{path:"Gift-sets",label:"Gift sets"},{path:"Wine-and-alcohol",label:"Wine and alcohol"},{path:"Delicacies",label:"Delicacies"},{path:"Glasses-and-candles/Glasses",label:"Glasses"},{path:"Glasses-and-candles/Candles",label:"Candles"},{path:"Wine-and-alcohol/Wine",label:"Wine"},{path:"Wine-and-alcohol/Champagne",label:"Champagne"},{path:"Wine-and-alcohol/Whiskey",label:"Whiskey"},{path:"Wine-and-alcohol/Vodka",label:"Vodka"},{path:"Delicacies/Delicacies",label:"Delicacies"},{path:"Delicacies/Cheese",label:"Cheese"},{path:"Delicacies/Cookies",label:"Cookies"},{path:"Delicacies/Sauce",label:"Sauce"},{path:"Gift-sets/Boxes",label:"Gift boxes"},{path:"Cart",label:"Cart"},{path:"Order",label:"Order"},{path:"Articles",label:"Articles"},{path:"Sommelier",label:"Sommelier"},{path:"Delivery",label:"Delivery"}],mW=mu((t,e)=>({allProducts:[],searchQuery:"",matchedResults:[],isDropdownOpen:!1,fetchAndStoreAllProducts:async()=>{const n=await IB();t({allProducts:n})},setSearchQuery:n=>{const i=n.trim().toLowerCase(),r=e().allProducts;if(i.length<3){t({searchQuery:n,matchedResults:[],isDropdownOpen:!1});return}const s=m=>m.toLowerCase().split(/\s+/).filter(Boolean),l=i.split(/[\s,]+/).filter(Boolean),c=r.map(m=>{const v=[...s(m.name),...s(m.kindOfProduct),...Array.isArray(m.description)?s(m.description.join(" ")):s(m.description??"")],x=l.reduce((T,I)=>{for(const C of v){if(C===I)return T+3;if(C.startsWith(I))return T+2;if(C.includes(I))return T+1}return T},0);return{type:"product",value:m,score:x}}).filter(m=>m.score>0),p=[...l.length===1?pW.filter(m=>m.path.toLowerCase().includes(l[0])).map(m=>({type:"page",value:m,score:100})):[],...c].sort((m,v)=>v.score-m.score).slice(0,5);t({searchQuery:n,matchedResults:p,isDropdownOpen:p.length>0})},clearSearch:()=>t({searchQuery:"",matchedResults:[],isDropdownOpen:!1})}));function gW(){const{fetchAndStoreAllProducts:t,setSearchQuery:e,searchQuery:n,matchedResults:i,isDropdownOpen:r,clearSearch:s}=mW(),l=Vf();B.useEffect(()=>{t()},[t]);const c=v=>{e(v.target.value)},d=v=>{v.id?(l(`/${zr(v.kindOfProduct)}/${v.id}`),s()):console.error("Product ID is missing.")},p=v=>{l(`/${v}`),s()},m=v=>{if(v.preventDefault(),i.length>0){const x=i[0].value;if(xF(x)){const T=x;l(`/${zr(T.kindOfProduct)}/${T.id}`)}else bF(x)&&l(`/${x.path}`);s()}};return w.jsxs("form",{onSubmit:m,className:"relative z-20 flex items-center border-b-2 focus:outline-none border-b-white py-2 w-[calc(300px+2vw)]",autoComplete:"off",children:[w.jsx("input",{className:"flex-1 py-2 text-white rounded-lg focus:outline-none",type:"text",placeholder:"Find a product or page...",value:n,onChange:c}),w.jsx("button",{className:"ml-2 p-2 rounded-lg text-white hover:scale-110 transitioned",type:"submit",children:w.jsx("img",{src:fW,alt:"search",className:"w-5 h-5"})}),r&&w.jsx("ul",{className:"absolute mt-2 w-full top-[100%] bg-white border-2 border-gray-300 rounded-lg shadow-lg",children:i.map(v=>{if(v.type==="product"){const x=v.value;return w.jsx("li",{onClick:()=>d(x),className:"px-4 py-2 cursor-pointer hover:bg-gray-200",children:x.name},`product-${x.id}`)}if(v.type==="page"){const x=v.value;return w.jsxs("li",{onClick:()=>p(x.path),className:"px-4 py-2 cursor-pointer hover:bg-gray-200",children:[" ",x.label]},`page-${x.path}`)}return null})})]})}function vW(){const[t,e]=B.useState({isScrolledDown:!1,lastScrollTop:0,isLargeScreen:window.innerWidth>767,isBurgerActive:!1,activeLink:null,moreInfo:!1}),n=ja();B.useEffect(()=>e(p=>({...p,isBurgerActive:!1})),[n]),B.useEffect(()=>{const p=document.getElementById("root");return p==null||p.classList.toggle("no-scroll",t.isBurgerActive&&!t.isLargeScreen),()=>p==null?void 0:p.classList.remove("no-scroll")},[t.isBurgerActive,t.isLargeScreen]),B.useEffect(()=>{const p=()=>e(m=>({...m,isLargeScreen:window.innerWidth>767}));return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),B.useEffect(()=>{if(!t.isLargeScreen)return;const p=()=>{const m=window.pageYOffset||document.documentElement.scrollTop;e(v=>({...v,isScrolledDown:m>v.lastScrollTop&&m>59,lastScrollTop:Math.max(m,0)}))};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[t.lastScrollTop,t.isLargeScreen]),B.useEffect(()=>{if(t.isLargeScreen&&!t.isScrolledDown){const p=x=>{const I=x.target.closest(`.${mt.header__li}`);I&&e(C=>({...C,activeLink:I.getAttribute("data-key")||null}))},m=()=>{e(x=>({...x,activeLink:null}))},v=document.querySelector(`.${mt.header__ul}`);return v&&(v.addEventListener("mouseover",p),v.addEventListener("mouseout",m)),()=>{v&&(v.removeEventListener("mouseover",p),v.removeEventListener("mouseout",m))}}},[t.isLargeScreen,t.isScrolledDown]),B.useEffect(()=>{t.isScrolledDown&&e(p=>({...p,activeLink:null}))},[t.isScrolledDown]),B.useEffect(()=>e(p=>({...p,moreInfo:!1})),[t.isLargeScreen]);const[i,r]=B.useState(!1),{user:s}=Ni(),{getWishlistTotal:l}=Ao(),{open:c}=Er(),{getCartTotal:d}=Yi();return w.jsxs(w.Fragment,{children:[w.jsxs("header",{className:`${mt.header} ${t.isScrolledDown?mt.sticky:""}`,children:[w.jsx("div",{className:mt.header__top,children:w.jsx("div",{className:mt.header__container,children:w.jsxs("div",{className:mt.header__body_top,children:[w.jsxs("div",{className:mt.header__logo,children:[w.jsx(Gt,{to:"/",children:w.jsx("img",{src:"/wineset/logo.svg",alt:"logo"})}),!t.isLargeScreen&&w.jsx("button",{onClick:()=>e(p=>({...p,isBurgerActive:!p.isBurgerActive})),className:`${mt.burgerIcon} ${t.isBurgerActive?mt.active:""}`,children:w.jsx("span",{})})]}),w.jsxs("div",{className:`${mt.header__info} ${t.isBurgerActive?mt.active_burger:""}`,children:[w.jsx(gW,{}),w.jsxs("div",{className:mt.header__buttons,children:[w.jsx("button",{onClick:()=>r(!0),className:"text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[220px] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent",children:s?s.displayName:"Sing in"}),w.jsxs("div",{className:mt.header__contact_wrap,children:[t.isLargeScreen&&w.jsx("button",{onClick:()=>e(p=>({...p,moreInfo:!p.moreInfo})),className:mt.header__contact,children:"Contact us"}),!t.isLargeScreen&&w.jsx(Gt,{to:"/Delivery",className:mt.header__contact,children:"Delivery"}),w.jsx(YH,{state:t,setState:e})]})]})]})]})})}),w.jsx("div",{className:`${mt.header__bottom} ${t.isScrolledDown?mt.stickyBottom:""} ${t.isBurgerActive?mt.active_burger:""}`,children:w.jsx("div",{className:mt.header__container,children:w.jsxs("div",{className:`${mt.header__body_bottom} ${t.isBurgerActive?mt.active_burger:""}`,children:[w.jsx("nav",{className:mt.header__menu,children:w.jsx("ul",{className:mt.header__ul,children:GH.map(([p,m])=>w.jsxs("li",{"data-key":p,className:`${mt.header__li} ${t.activeLink===p?mt.active:""}`,children:[w.jsx(Gt,{className:mt.header__a,to:p.trim().replace(/\s+/g,"-"),children:p}),w.jsx("div",{className:mt.header__subLinks,children:m.map(v=>w.jsx(Gt,{className:mt.header__subLink,to:`${p.trim().replace(/\s+/g,"-")}/${v}`,children:v},`${p}-${v}`))})]},p))})}),w.jsxs("div",{className:mt.header__buy,children:[w.jsxs("button",{onClick:()=>{c("Wishlist",w.jsx(dW,{}),!1)},className:mt.header__wish,children:[w.jsx("svg",{width:"26",height:"23",viewBox:"0 0 26 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M23.1494 2.85655C22.5629 2.26797 21.8667 1.80107 21.1003 1.48251C20.334 1.16396 19.5126 1 18.6831 1C17.8535 1 17.0321 1.16396 16.2658 1.48251C15.4994 1.80107 14.8032 2.26797 14.2167 2.85655L12.9997 4.07749L11.7826 2.85655C10.5981 1.66822 8.99152 1.00062 7.31633 1.00062C5.64114 1.00062 4.03455 1.66822 2.85001 2.85655C1.66547 4.04489 1 5.65662 1 7.33718C1 9.01774 1.66547 10.6295 2.85001 11.8178L4.06705 13.0387L12.9997 22L21.9323 13.0387L23.1494 11.8178C23.7361 11.2295 24.2015 10.531 24.519 9.76219C24.8366 8.99339 25 8.16936 25 7.33718C25 6.50499 24.8366 5.68096 24.519 4.91216C24.2015 4.14336 23.7361 3.44486 23.1494 2.85655V2.85655Z",stroke:"black",strokeWidth:"1.48837",strokeLinecap:"round",strokeLinejoin:"round"})}),l()>0&&w.jsx("span",{children:l()})]}),w.jsxs("button",{onClick:()=>{c("Cart",w.jsx(hW,{}),!1)},className:mt.header__cart,children:[w.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M11 28C12.1046 28 13 27.1046 13 26C13 24.8954 12.1046 24 11 24C9.89543 24 9 24.8954 9 26C9 27.1046 9.89543 28 11 28Z",stroke:"black",strokeWidth:"1.48837",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M24 28C25.1046 28 26 27.1046 26 26C26 24.8954 25.1046 24 24 24C22.8954 24 22 24.8954 22 26C22 27.1046 22.8954 28 24 28Z",stroke:"black",strokeWidth:"1.48837",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M1 1H6.09091L9.50182 17.9603C9.6182 18.5434 9.93697 19.0672 10.4023 19.4401C10.8677 19.8129 11.45 20.0109 12.0473 19.9995H24.4182C25.0155 20.0109 25.5978 19.8129 26.0631 19.4401C26.5285 19.0672 26.8473 18.5434 26.9636 17.9603L29 7.33318H7.36364",stroke:"black",strokeWidth:"1.48837",strokeLinecap:"round",strokeLinejoin:"round"})]}),d()>0&&w.jsx("span",{children:d()})]})]})]})})})]}),w.jsx(eW,{loginActive:i,setLoginActive:r})]})}const _W="_wrapper_nog0f_23",yW="_main_nog0f_31",fE={wrapper:_W,main:yW},wW="_footer_4stjo_2",xW="_footer__container_4stjo_11",bW="_footer__navigation_4stjo_29",SW="_footer__menu_4stjo_39",TW="_footer__li_4stjo_44",EW="_footer__privacy_4stjo_47",PW="_footer__info_4stjo_55",CW="_footer__socials_4stjo_74",IW="_footer__btn_4stjo_91",ci={footer:wW,footer__container:xW,footer__navigation:bW,footer__menu:SW,footer__li:TW,footer__privacy:EW,footer__info:PW,footer__socials:CW,footer__btn:IW},AW="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.22471%207.75133C5.87302%209.07675%206.94739%2010.1462%208.27575%2010.7885C8.37294%2010.8346%208.48045%2010.8545%208.58769%2010.8464C8.69493%2010.8383%208.79822%2010.8024%208.88737%2010.7422L10.8433%209.43799C10.9298%209.38031%2011.0293%209.34512%2011.1328%209.33561C11.2364%209.3261%2011.3407%209.34256%2011.4362%209.38352L15.0954%2010.9517C15.2197%2011.0045%2015.3234%2011.0963%2015.3911%2011.2132C15.4587%2011.3301%2015.4865%2011.4658%2015.4702%2011.5999C15.3546%2012.5049%2014.913%2013.3367%2014.2282%2013.9396C13.5434%2014.5425%2012.6624%2014.8751%2011.75%2014.8751C8.93207%2014.8751%206.22956%2013.7557%204.23699%2011.7631C2.24442%209.77057%201.125%207.06806%201.125%204.25014C1.12505%203.33777%201.45765%202.45671%202.06053%201.77192C2.66341%201.08712%203.49523%200.645559%204.40023%200.529903C4.53431%200.513678%204.67002%200.541465%204.78693%200.609077C4.90384%200.676689%204.99561%200.780463%205.04841%200.904765L6.61798%204.5671C6.65858%204.66183%206.67512%204.76513%206.66614%204.8678C6.65715%204.97047%206.62291%205.06932%206.56647%205.15556L5.26676%207.14147C5.2076%207.23081%205.17263%207.33396%205.16526%207.44085C5.15789%207.54775%205.17837%207.65472%205.22471%207.75133V7.75133Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",kW="data:image/svg+xml,%3csvg%20width='14'%20height='18'%20viewBox='0%200%2014%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%209.625C8.38071%209.625%209.5%208.50571%209.5%207.125C9.5%205.74429%208.38071%204.625%207%204.625C5.61929%204.625%204.5%205.74429%204.5%207.125C4.5%208.50571%205.61929%209.625%207%209.625Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.25%207.125C13.25%2012.75%207%2017.125%207%2017.125C7%2017.125%200.75%2012.75%200.75%207.125C0.75%205.4674%201.40848%203.87769%202.58058%202.70558C3.75269%201.53348%205.3424%200.875%207%200.875C8.6576%200.875%2010.2473%201.53348%2011.4194%202.70558C12.5915%203.87769%2013.25%205.4674%2013.25%207.125V7.125Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",RW="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.87599%2010C6.87599%208.27417%208.27466%206.87475%2010.0005%206.87475C11.7263%206.87475%2013.1257%208.27417%2013.1257%2010C13.1257%2011.7258%2011.7263%2013.1252%2010.0005%2013.1252C8.27466%2013.1252%206.87599%2011.7258%206.87599%2010ZM5.18654%2010C5.18654%2012.6587%207.34174%2014.8139%2010.0005%2014.8139C12.6592%2014.8139%2014.8144%2012.6587%2014.8144%2010C14.8144%207.34125%2012.6592%205.18605%2010.0005%205.18605C7.34174%205.18605%205.18654%207.34125%205.18654%2010ZM13.88%204.99517C13.8799%205.21768%2013.9458%205.43521%2014.0694%205.62027C14.1929%205.80532%2014.3685%205.94959%2014.5741%206.03482C14.7796%206.12005%2015.0058%206.14242%2015.224%206.0991C15.4423%206.05577%2015.6428%205.94871%2015.8002%205.79144C15.9576%205.63417%2016.0648%205.43375%2016.1083%205.21554C16.1518%204.99733%2016.1296%204.77112%2016.0445%204.56552C15.9595%204.35992%2015.8154%204.18416%2015.6304%204.06047C15.4454%203.93678%2015.228%203.87071%2015.0055%203.87062H15.005C14.7068%203.87076%2014.4208%203.98927%2014.2098%204.20012C13.9989%204.41098%2013.8803%204.69693%2013.88%204.99517V4.99517ZM6.21299%2017.631C5.29896%2017.5894%204.80216%2017.4371%204.47201%2017.3085C4.03431%2017.1381%203.72201%2016.9352%203.39366%2016.6073C3.06531%2016.2794%202.86206%2015.9674%202.69241%2015.5297C2.56371%2015.1997%202.41146%2014.7027%202.36991%2013.7887C2.32446%2012.8005%202.31539%2012.5036%202.31539%2010.0001C2.31539%207.4965%202.32521%207.20047%202.36991%206.21145C2.41154%205.29742%202.56491%204.80145%202.69241%204.47047C2.86281%204.03277%203.06576%203.72048%203.39366%203.39213C3.72156%203.06378%204.03356%202.86053%204.47201%202.69088C4.80201%202.56218%205.29896%202.40992%206.21299%202.36837C7.20119%202.32292%207.49804%202.31385%2010.0005%202.31385C12.5029%202.31385%2012.8001%202.32367%2013.7891%202.36837C14.7031%202.41%2015.1991%202.56338%2015.5301%202.69088C15.9678%202.86053%2016.2801%203.06423%2016.6084%203.39213C16.9368%203.72003%2017.1393%204.03277%2017.3097%204.47047C17.4384%204.80047%2017.5906%205.29742%2017.6322%206.21145C17.6776%207.20047%2017.6867%207.4965%2017.6867%2010.0001C17.6867%2012.5036%2017.6776%2012.7997%2017.6322%2013.7887C17.5906%2014.7027%2017.4376%2015.1995%2017.3097%2015.5297C17.1393%2015.9674%2016.9363%2016.2797%2016.6084%2016.6073C16.2805%2016.9349%2015.9678%2017.1381%2015.5301%2017.3085C15.2001%2017.4372%2014.7031%2017.5895%2013.7891%2017.631C12.8009%2017.6765%2012.5041%2017.6855%2010.0005%2017.6855C7.49691%2017.6855%207.20089%2017.6765%206.21299%2017.631V17.631ZM6.13536%200.681775C5.13734%200.727225%204.45536%200.885475%203.85979%201.11722C3.24299%201.35655%202.72084%201.67762%202.19906%202.19857C1.67729%202.71952%201.35704%203.2425%201.11771%203.8593C0.885963%204.45525%200.727713%205.13685%200.682263%206.13488C0.636063%207.13448%200.625488%207.45405%200.625488%2010C0.625488%2012.5459%200.636063%2012.8655%200.682263%2013.8651C0.727713%2014.8632%200.885963%2015.5447%201.11771%2016.1407C1.35704%2016.7571%201.67736%2017.2807%202.19906%2017.8014C2.72076%2018.3221%203.24299%2018.6428%203.85979%2018.8828C4.45649%2019.1145%205.13734%2019.2728%206.13536%2019.3182C7.13549%2019.3637%207.45454%2019.375%2010.0005%2019.375C12.5464%2019.375%2012.866%2019.3644%2013.8656%2019.3182C14.8637%2019.2728%2015.5452%2019.1145%2016.1412%2018.8828C16.7576%2018.6428%2017.2801%2018.3224%2017.8019%2017.8014C18.3237%2017.2805%2018.6433%2016.7571%2018.8833%2016.1407C19.115%2015.5447%2019.274%2014.8631%2019.3187%2013.8651C19.3642%2012.8648%2019.3747%2012.5459%2019.3747%2010C19.3747%207.45405%2019.3642%207.13448%2019.3187%206.13488C19.2733%205.13678%2019.115%204.45487%2018.8833%203.8593C18.6433%203.24287%2018.3229%202.72035%2017.8019%202.19857C17.281%201.6768%2016.7576%201.35655%2016.1419%201.11722C15.5452%200.885475%2014.8636%200.726475%2013.8664%200.681775C12.8668%200.636325%2012.5472%200.625%2010.0012%200.625C7.45529%200.625%207.13549%200.635575%206.13536%200.681775Z'%20fill='white'/%3e%3c/svg%3e",LW="data:image/svg+xml,%3csvg%20width='17'%20height='15'%20viewBox='0%200%2017%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.7421%206.66934C6.10417%204.72891%209.0129%203.44966%2010.4683%202.83159C14.6237%201.06688%2015.4872%200.760329%2016.05%200.750098C16.1738%200.74798%2016.4505%200.779301%2016.6298%200.927829C16.7812%201.05324%2016.8228%201.22266%2016.8428%201.34157C16.8627%201.46047%2016.8875%201.73135%2016.8678%201.943C16.6426%204.35876%2015.6682%2010.2212%2015.1725%2012.9269C14.9628%2014.0717%2014.5498%2014.4556%2014.1499%2014.4932C13.281%2014.5748%2012.6212%2013.9069%2011.7795%2013.3436C10.4626%2012.4622%209.7186%2011.9135%208.44026%2011.0534C6.96293%2010.0594%207.92062%209.51303%208.76255%208.62019C8.98289%208.38653%2012.8115%204.83096%2012.8856%204.50842C12.8948%204.46808%2012.9034%204.31771%2012.8159%204.23831C12.7284%204.15891%2012.5993%204.18606%2012.5061%204.20765C12.374%204.23826%2010.2702%205.65806%206.19458%208.46704C5.59741%208.88572%205.05651%209.08972%204.57188%209.07903C4.03762%209.06724%203.00991%208.7706%202.24592%208.51703C1.30885%208.20603%200.564084%208.0416%200.628937%207.51341C0.662716%207.2383%201.03377%206.95694%201.7421%206.66934Z'%20fill='white'/%3e%3c/svg%3e",OW="data:image/svg+xml,%3csvg%20width='11'%20height='20'%20viewBox='0%200%2011%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.00135%2019.9999V10.8769H10.0636L10.522%207.32157H7.00135V5.05157C7.00135%204.02223%207.28723%203.32068%208.76343%203.32068L10.6461%203.31981V0.139943C10.3204%200.0967723%209.20287%200%207.90272%200C5.18828%200%203.32991%201.65682%203.32991%204.69964V7.32167H0.259766V10.877H3.32981V20L7.00135%2019.9999Z'%20fill='white'/%3e%3c/svg%3e";function NW(){return w.jsx("footer",{className:ci.footer,children:w.jsxs("div",{className:ci.footer__container,children:[w.jsx("div",{className:ci.footer__first,children:w.jsx(Gt,{to:"/",className:ci.footer__link,children:w.jsx("img",{src:"/wineset/logo.svg",alt:"logo"})})}),w.jsxs("nav",{className:ci.footer__navigation,children:[w.jsxs("ul",{className:ci.footer__menu,children:[w.jsx("li",{className:ci.footer__li,children:w.jsx(Gt,{to:"/Gift-sets",children:"Gift sets"})}),w.jsx("li",{className:ci.footer__li,children:w.jsx(Gt,{to:"/Wine-and-alcohol",children:"Wine and alcohol"})}),w.jsx("li",{className:ci.footer__li,children:w.jsx(Gt,{to:"/Delicacies",children:"Delicacies"})}),w.jsx("li",{className:ci.footer__li,children:w.jsx(Gt,{to:"/Glasses-and-candles",children:"Glasses and candles"})})]}),w.jsxs("div",{className:ci.footer__privacy,children:[w.jsx("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/Privacy_policy",children:"Privacy policy"}),w.jsx("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/End-user_license_agreement",children:"User agreement"})]})]}),w.jsxs("div",{className:ci.footer__contacts,children:[w.jsxs("div",{className:ci.footer__info,children:[w.jsxs("div",{className:ci.footer__tel,children:[w.jsx("img",{src:AW,alt:"phone"}),w.jsx("span",{children:"1235123123, 15121231231"})]}),w.jsxs("div",{className:ci.footer__loc,children:[w.jsx("img",{src:kW,alt:"map"}),w.jsx("span",{children:"Zabuttsia Sahakanskiy, 25, Kyiv"})]})]}),w.jsxs("div",{className:ci.footer__socials,children:[w.jsx("a",{target:"_blank",href:"https://www.facebook.com/",children:w.jsx("img",{src:OW,alt:"facebook"})}),w.jsx("a",{target:"_blank",href:"https://web.telegram.org/",children:w.jsx("img",{src:LW,alt:"tg"})}),w.jsx("a",{target:"_blank",href:"https://www.instagram.com/wineshop.kyiv/",children:w.jsx("img",{src:RW,alt:"inst"})})]}),w.jsx(Gt,{to:"/Delivery",className:ci.footer__btn,children:"Delivery"})]})]})})}function MW(){return w.jsxs("div",{className:fE.wrapper,children:[w.jsx(vW,{}),w.jsx("main",{className:fE.main,children:w.jsx(fN,{})}),w.jsx(NW,{})]})}const DW="_container_qh5rw_2",VW="_basicTitle_qh5rw_9",jW="_basicText_qh5rw_29",Jl={container:DW,basicTitle:VW,basicText:jW};function vR(){return w.jsx(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"mt-[70px] mb-[70px] max-md:mb-[50px] max-md:mt-[50px]",children:w.jsxs("div",{className:Jl.container,children:[w.jsx(Ge.h2,{variants:In,className:Jl.basicTitle,children:"Candles"}),w.jsxs("div",{className:"flex justify-between gap-[30px] mt-[50px] max-xl:flex-wrap max-xl:justify-evenly max-md:mt-[30px]",children:[w.jsx("div",{className:"w-[640px] max-xl:flex-[1_1_100%]",children:w.jsx("img",{className:"relative w-[100%] h-[429px] left-0 top-0 object-cover",src:"./GiftBoxesPage/CandleLights/candles.png",alt:"candles"})}),w.jsx("div",{className:Jl.basicText,children:"Candles are not just a source of light but a true symbol of comfort and tranquility. They fill the space with gentle warmth and a subtle fragrance, creating an atmosphere of harmony and relaxation. Natural wax candles burn longer and have a pleasant honey scent, while scented varieties can evoke memories or set a special mood for the evening. They are used for meditation, romantic gatherings, or simply for a cozy retreat after a long day."}),w.jsxs("div",{className:"flex flex-col gap-22 max-xl:gap-[30px]",children:[w.jsx("div",{className:Jl.basicText,children:"A wine shop is a place where every bottle holds a story, offering a journey through flavors, aromas, and traditions."}),w.jsx("div",{className:"flex justify-center items-center",children:w.jsx(lp,{to:"/Glasses-and-candles/Candles",children:"Order candles"})})]})]})]})})}function _R(){const{opacity:t,blockRef:e}=Ro();return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},ref:e,className:"relative pt-[80px] pb-[43px] max-md:pt-[50px] max-md:pb-[20px]",children:[w.jsxs("div",{className:`${Jl.container} relative z-2`,children:[w.jsxs("div",{className:"flex justify-between gap-[15px] mb-[50px] max-lg:flex-col max-lg:items-center",children:[w.jsx(Ge.h1,{variants:In,className:Jl.basicTitle,children:"Gift sets"}),w.jsx("div",{className:`${Jl.basicText} max-lg:text-center`,children:"The shape of each glass is unique, thanks to which you can feel the most subtle nuances of taste your favorite drinks."}),w.jsx("div",{className:`${Jl.basicText} max-lg:text-center`,children:"YOU CAN BUY THE GLASSES SEPARATELY OR IN A BEAUTIFUL GIFT PACKAGING."})]}),w.jsxs("div",{className:"flex flex-wrap justify-evenly gap-[20px] mt-[50px]",children:[w.jsxs(Gt,{to:"/Gift-sets/Boxes",className:"hover:scale-105 transitioned cursor-pointer",children:[w.jsx("div",{className:"w-[420px] max-md:w-[100%]",children:w.jsx("img",{className:"object-cover",src:"./GiftBoxesPage/GiftBoxes/with-glasses.png",alt:"with-glasses"})}),w.jsx("h4",{className:"pl-4 hover:underline",children:"With glasses"})]}),w.jsxs(Gt,{to:"/Gift-sets/Boxes",className:"hover:scale-105 transitioned cursor-pointer",children:[w.jsx("div",{className:"w-[420px] mt-30 max-lg:mt-0 max-md:w-[100%]",children:w.jsx("img",{className:"object-cover",src:"./GiftBoxesPage/GiftBoxes/with-delicacies.png",alt:"with-delicacies"})}),w.jsx("h4",{className:"pl-4 hover:underline",children:"with Delicacies"})]}),w.jsxs(Gt,{to:"/Soon",className:"hover:scale-105 transitioned cursor-pointer",children:[w.jsx("div",{className:"w-[420px] max-md:w-[100%]",children:w.jsx("img",{className:"object-cover",src:"./GiftBoxesPage/GiftBoxes/constructor.png",alt:"constructor"})}),w.jsx("h4",{className:"pl-4 hover:underline",children:"Constructor"})]})]})]}),w.jsx("div",{style:{opacity:t},className:"absolute w-[902px] h-[509px] bottom-[-5%] right-[-10%] rotate-180 max-xl:top-0",children:w.jsx("img",{src:"./WineSpots/wine-spot-1.png",alt:"wine-spot-1"})})]})}const FW="_container_1u6ja_2",BW="_title_1u6ja_9",zW="_label_1u6ja_28",UW="_description_1u6ja_48",$W="_buttonBuy_1u6ja_68",HW="_price_1u6ja_89",WW="_prev_price_1u6ja_109",Os={container:FW,title:BW,label:zW,description:UW,buttonBuy:$W,price:HW,prev_price:WW},yR="/wineset/assets/glass-Clf_QqIT.svg",wR="/wineset/assets/structure-r9K-CcD9.svg",xR="/wineset/assets/food-B6ob-hcl.svg";function Jx({product:t,imageSize:e=305}){const n=e+"px";return w.jsxs("div",{className:"relative flex justify-center mx-auto w-full mb-[33px]",style:{height:n},children:[t.imageUrl&&w.jsx("img",{className:"absolute z-2 w-[70%] h-[70%] object-contain",style:{height:n},src:Xf(t.imageUrl),alt:t.imageUrl}),t.discount!==void 0&&t.discount>0&&w.jsxs("div",{className:"absolute z-3 w-[48px] h-[48px] right-0 top-0 rounded-[50%] bg-[#7A0000] text-white flex justify-center items-center",children:["-",t.discount,"%"]}),t.country==="France"&&w.jsx("img",{src:"/wineset/Products/France.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Italy"&&w.jsx("img",{src:"/wineset/Products/Italy.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Bulgaria"&&w.jsx("img",{src:"/wineset/Products/Bulgaria.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Canada"&&w.jsx("img",{src:"/wineset/Products/Canada.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Finland"&&w.jsx("img",{src:"/wineset/Products/Finland.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Greece"&&w.jsx("img",{src:"/wineset/Products/Greece.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Ireland"&&w.jsx("img",{src:"/wineset/Products/Ireland.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Japan"&&w.jsx("img",{src:"/wineset/Products/Japan.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Madagascar"&&w.jsx("img",{src:"/wineset/Products/Madagascar.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Poland"&&w.jsx("img",{src:"/wineset/Products/Poland.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Scotland"&&w.jsx("img",{src:"/wineset/Products/Scotland.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Spain"&&w.jsx("img",{src:"/wineset/Products/Spain.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Sweden"&&w.jsx("img",{src:"/wineset/Products/Sweden.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Switzerland"&&w.jsx("img",{src:"/wineset/Products/Switzerland.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Thailand"&&w.jsx("img",{src:"/wineset/Products/Thailand.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Ukraine"&&w.jsx("img",{src:"/wineset/Products/Ukraine.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="USA"&&w.jsx("img",{src:"/wineset/Products/USA.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="England"&&w.jsx("img",{src:"/wineset/Products/England.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"}),t.country==="Australia"&&w.jsx("img",{src:"/wineset/Products/Australia.png",alt:"Texture",className:"absolute w-[100%] h-[100%] object-contain"})]})}//! for reuseble components
const bR={glass:"glasses",delicacy:"delicacies",wine:"wine sets",candle:"candles",champagne:"champagnes",whiskey:"whiskeys",vodka:"vodkas",cheese:"cheeses",cookie:"cookies",sauce:"sauces",box:"gift boxes"},SR=["wine","champagne","whiskey","vodka","glass"],TR=["delicacy","candle","box","cheese","cookie","sauce"],qW=["Australia","Bulgaria","Canada","England","Finland","France","Greece","Ireland","Italy","Japan","Madagascar","Poland","Scotland","Spain","Sweden","Switzerland","Thailand","Ukraine","USA"],pE=[{value:"All prices",label:"All prices"},{value:"With discount",label:"With discount"},{value:"Without discount",label:"Without discount"}],mE=[{value:"All countries",label:"All countries"},...qW.map(t=>({value:t,label:t}))];function Ws({productFilter:t,filterByDiscount:e=!1,structureConfig:n}){const i=B.useRef(null);if(t==="boxStructure"&&n)B.useEffect(()=>{(async()=>{for(const[d,p]of Object.entries(n))for(const m of p||[]){const v=await rp(zr(d),m);v&&s(x=>[...x||[],v])}})()},[t,n]);else{const c=t.charAt(0).toUpperCase()+t.slice(1);B.useEffect(()=>{(async()=>{const p=await Fx(c),m=e?p.filter(v=>v.discount>0):p;//! async price for box
if(t==="box")for(const v of m)await v.getAsyncPrice();s(m)})()},[t,e])}const[r,s]=B.useState(void 0),{open:l}=Er();return w.jsx(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:t==="boxStructure"?"":"pt-[50px] pb-[100px] max-md:pt-[10px] max-md:pb-[50px]",children:w.jsxs("div",{className:Os.container,children:[w.jsxs("div",{className:"flex justify-between gap-1 items-center mb-[50px] max-md:mb-[20px]",children:[t!=="boxStructure"&&w.jsx(Ge.h2,{variants:In,className:Os.title,children:"Recommended products"}),t==="boxStructure"&&w.jsx(Ge.h2,{variants:In,className:Os.title,children:"Composition of Box"}),!r&&w.jsx("p",{className:Os.basicTitle,children:"Loading..."}),r&&w.jsxs("div",{className:"flex gap-[20px] max-[400px]:flex-col",children:[w.jsx("button",{className:`swiper-button-prev-${t}`,onClick:()=>i.current.swiper.slidePrev(),children:w.jsx("img",{src:Sv,alt:"prev"})}),w.jsx("button",{className:`swiper-button-next-${t}`,onClick:()=>i.current.swiper.slideNext(),children:w.jsx("img",{src:bv,alt:"next"})})]})]}),!r&&w.jsx("p",{className:Os.basicTitle,children:"Loading..."}),r&&w.jsx(eh,{ref:i,spaceBetween:20,slidesPerView:4,modules:[Yx],navigation:{prevEl:`.swiper-button-prev-${t}`,nextEl:`.swiper-button-next-${t}`},loop:t!=="boxStructure",breakpoints:{1280:{slidesPerView:4},1024:{slidesPerView:3},640:{slidesPerView:2},480:{slidesPerView:1},0:{slidesPerView:1}},children:r.map((c,d)=>w.jsxs(us,{className:"!flex !flex-col !items-stretch !p-[18px] !h-auto",children:[w.jsx("div",{className:"h-full mb-[10px] border-2 border-solid border-gray-300 p-[18px] hover:shadow-[0px_10px_20px_rgba(0,0,0,0.5)] transitioned hover:scale-98",children:w.jsxs(Gt,{to:`/${c.kindOfProduct.charAt(0).toUpperCase()+c.kindOfProduct.slice(1)}/${c.id}`,children:[w.jsx(Jx,{product:c}),w.jsxs("div",{className:"!mt-auto grid grid-rows-3 grid-cols-1 gap-[7px]",children:[w.jsx("h3",{className:Os.label,children:c.name}),w.jsxs("div",{className:"flex flex-col gap-[7px] flex-1",children:[w.jsxs("p",{className:"flex gap-2 items-center",children:[w.jsxs("span",{className:"w-[17px] h-[17px] flex-[0_0_17px]",children:[SR.includes(c.kindOfProduct)&&w.jsx("img",{className:"w-full h-full",src:yR,alt:"descriptionGlassSVG"}),TR.includes(c.kindOfProduct)&&w.jsx("img",{className:"w-full h-full",src:xR,alt:"descriptionFoodSVG"})]}),w.jsx("span",{className:Os.description,children:Array.isArray(c.description)?c.description[0]:c.description})]},d+"i"),Array.isArray(c.description)&&w.jsxs("p",{className:"flex gap-2 items-center",children:[w.jsx("span",{className:"w-[17px] h-[17px] flex-[0_0_17px]",children:w.jsx("img",{className:"w-full h-full",src:wR,alt:"descriptionOthersSVG"})}),w.jsx("span",{className:Os.description,children:c.description[1]})]},d+"j")]}),w.jsxs("div",{className:"flex gap-6 items-center",children:[w.jsxs("h4",{className:Os.price,children:[c.getDiscountedPrice(),"$"]}),c.discount!==void 0&&c.discount>0&&w.jsxs("h4",{className:Os.prev_price,children:[c.price,"$"]})]})]})]})}),t!=="boxStructure"&&w.jsx("button",{className:Os.buttonBuy,onClick:()=>{pF(c),l("Notification",w.jsxs("p",{className:"pb-5",children:[c.name," is added to Cart"]}))},children:"Add to cart"})]},d))})]})})}function GW(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(Gn,{imgSrc:"./GiftBoxesPage/gifts.jpg",supTitle:"Special offer",title:"gift sets & boxes",subTitle:"ORDER GIFT SET",subTitleLink:"/Gift-sets/Boxes",contentWidth:381}),w.jsx(_R,{}),w.jsx(vR,{}),w.jsx(Ws,{productFilter:"box",filterByDiscount:!0}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}function KW(){const{product:t}=kv(),e=bR[t];return e?w.jsx(Gn,{imgSrc:`/wineset/ProductsPage/GenerateProductSpecialOffer/${t.charAt(0).toUpperCase()+t.slice(1)}.jpg`,supTitle:"Special offer",title:`${e.toUpperCase()} FOR BEST PRICE`,subTitle:`ORDER DISCOUNTED ${e.toUpperCase()}`,scrollTo:".products",contentWidth:381,product:t}):null}const ZW="_container_1qmk1_2",QW="_basicTitle_1qmk1_9",YW="_basicText_1qmk1_29",XW="_label_1qmk1_38",JW="_description_1qmk1_58",eq="_buttonBuy_1qmk1_78",tq="_price_1qmk1_99",nq="_prev_price_1qmk1_119",Gi={container:ZW,basicTitle:QW,basicText:YW,label:XW,description:JW,buttonBuy:eq,price:tq,prev_price:nq};function iq(){const{product:t}=kv(),e=bR[t];return e?w.jsx(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:Gi.container,children:w.jsxs("div",{className:"flex justify-between items-center gap-15 pt-[80px] pb-[20px] max-lg:flex-col max-sm:pt-[40px]",children:[w.jsxs("div",{className:"flex flex-col gap-[45px] items-center",children:[w.jsx(Ge.h2,{variants:In,className:Gi.basicTitle,children:e.toUpperCase()}),w.jsxs(lp,{to:"/Gift-sets",children:["GIFT-WRAPPED ",e.toUpperCase()]})]}),w.jsxs("div",{className:"max-w-[1000px] flex gap-15 max-sm:flex-col",children:[w.jsxs("p",{className:Gi.basicText,children:[e.charAt(0).toUpperCase()+e.slice(1)," are truly exceptional in both taste and quality. Carefully crafted using the finest ingredients, ",e," offer a rich and satisfying experience. Whether enjoyed on their own or paired with a meal, ",e," bring out the best flavors in every bite or sip. Their unique textures and aromas make them a favorite among connoisseurs and casual consumers alike. With a well-balanced profile, ",e," provide a perfect harmony of taste that lingers pleasantly. Many have praised their ability to elevate any occasion, turning simple moments into extraordinary ones. If youre looking for a gourmet experience that never disappoints, ",e," are the perfect choice."]}),w.jsxs("p",{className:Gi.basicText,children:["When it comes to indulgence and refinement, ",e," stand in a league of their own. Their versatility allows them to complement a variety of dishes, making them ideal for both everyday enjoyment and special celebrations. ",e," are crafted with time-honored techniques that ensure authenticity and depth of flavor. Whether savored slowly or shared with friends, ",e," create unforgettable experiences. The exceptional quality of ",e," speaks for itself, making them a must-have for anyone who appreciates fine food and drink. Once youve tried ",e,", youll always come back for more."]})]})]})}):null}function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function rq(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(hc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ER(t){var e=rq(t,"string");return hc(e)=="symbol"?e:e+""}function Kh(t,e,n){return(e=ER(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(i){Kh(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function sq(t){if(Array.isArray(t))return t}function oq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,l,c=[],d=!0,p=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);d=!0);}catch(m){p=!0,r=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(p)throw r}}return c}}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function PR(t,e){if(t){if(typeof t=="string")return My(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?My(t,e):void 0}}function aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aa(t,e){return sq(t)||oq(t,e)||PR(t,e)||aq()}function lq(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Ua(t,e){if(t==null)return{};var n,i,r=lq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var uq=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function cq(t){var e=t.defaultInputValue,n=e===void 0?"":e,i=t.defaultMenuIsOpen,r=i===void 0?!1:i,s=t.defaultValue,l=s===void 0?null:s,c=t.inputValue,d=t.menuIsOpen,p=t.onChange,m=t.onInputChange,v=t.onMenuClose,x=t.onMenuOpen,T=t.value,I=Ua(t,uq),C=B.useState(c!==void 0?c:n),k=Aa(C,2),R=k[0],F=k[1],D=B.useState(d!==void 0?d:r),Z=Aa(D,2),H=Z[0],Q=Z[1],U=B.useState(T!==void 0?T:l),N=Aa(U,2),V=N[0],z=N[1],G=B.useCallback(function(ie,_e){typeof p=="function"&&p(ie,_e),z(ie)},[p]),q=B.useCallback(function(ie,_e){var ae;typeof m=="function"&&(ae=m(ie,_e)),F(ae!==void 0?ae:ie)},[m]),$=B.useCallback(function(){typeof x=="function"&&x(),Q(!0)},[x]),xe=B.useCallback(function(){typeof v=="function"&&v(),Q(!1)},[v]),Oe=c!==void 0?c:R,Re=d!==void 0?d:H,Pe=T!==void 0?T:V;return it(it({},I),{},{inputValue:Oe,menuIsOpen:Re,onChange:G,onInputChange:q,onMenuClose:xe,onMenuOpen:$,value:Pe})}function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(null,arguments)}function dq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ER(i.key),i)}}function hq(t,e,n){return e&&vE(t.prototype,e),n&&vE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dy(t,e)}function fq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Og(t)}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function pq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mq(t,e){if(e&&(hc(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pq(t)}function gq(t){var e=CR();return function(){var n,i=Og(t);if(e){var r=Og(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return mq(this,n)}}function vq(t){if(Array.isArray(t))return My(t)}function _q(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1(t){return vq(t)||_q(t)||PR(t)||yq()}function wq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function xq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var bq=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xq(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=wq(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),Ii="-ms-",Ng="-moz-",Mt="-webkit-",IR="comm",t1="rule",n1="decl",Sq="@import",AR="@keyframes",Tq="@layer",Eq=Math.abs,Ev=String.fromCharCode,Pq=Object.assign;function Cq(t,e){return fi(t,0)^45?(((e<<2^fi(t,0))<<2^fi(t,1))<<2^fi(t,2))<<2^fi(t,3):0}function kR(t){return t.trim()}function Iq(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function Vy(t,e){return t.indexOf(e)}function fi(t,e){return t.charCodeAt(e)|0}function Cf(t,e,n){return t.slice(e,n)}function mo(t){return t.length}function i1(t){return t.length}function Tm(t,e){return e.push(t),t}function Aq(t,e){return t.map(e).join("")}var Pv=1,Ud=1,RR=0,Tr=0,Mn=0,th="";function Cv(t,e,n,i,r,s,l){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:Pv,column:Ud,length:l,return:""}}function Vh(t,e){return Pq(Cv("",null,null,"",null,null,0),t,{length:-t.length},e)}function kq(){return Mn}function Rq(){return Mn=Tr>0?fi(th,--Tr):0,Ud--,Mn===10&&(Ud=1,Pv--),Mn}function Br(){return Mn=Tr<RR?fi(th,Tr++):0,Ud++,Mn===10&&(Ud=1,Pv++),Mn}function Po(){return fi(th,Tr)}function Km(){return Tr}function up(t,e){return Cf(th,t,e)}function If(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LR(t){return Pv=Ud=1,RR=mo(th=t),Tr=0,[]}function OR(t){return th="",t}function Zm(t){return kR(up(Tr-1,jy(t===91?t+2:t===40?t+1:t)))}function Lq(t){for(;(Mn=Po())&&Mn<33;)Br();return If(t)>2||If(Mn)>3?"":" "}function Oq(t,e){for(;--e&&Br()&&!(Mn<48||Mn>102||Mn>57&&Mn<65||Mn>70&&Mn<97););return up(t,Km()+(e<6&&Po()==32&&Br()==32))}function jy(t){for(;Br();)switch(Mn){case t:return Tr;case 34:case 39:t!==34&&t!==39&&jy(Mn);break;case 40:t===41&&jy(t);break;case 92:Br();break}return Tr}function Nq(t,e){for(;Br()&&t+Mn!==57;)if(t+Mn===84&&Po()===47)break;return"/*"+up(e,Tr-1)+"*"+Ev(t===47?t:Br())}function Mq(t){for(;!If(Po());)Br();return up(t,Tr)}function Dq(t){return OR(Qm("",null,null,null,[""],t=LR(t),0,[0],t))}function Qm(t,e,n,i,r,s,l,c,d){for(var p=0,m=0,v=l,x=0,T=0,I=0,C=1,k=1,R=1,F=0,D="",Z=r,H=s,Q=i,U=D;k;)switch(I=F,F=Br()){case 40:if(I!=108&&fi(U,v-1)==58){Vy(U+=Dt(Zm(F),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:U+=Zm(F);break;case 9:case 10:case 13:case 32:U+=Lq(I);break;case 92:U+=Oq(Km()-1,7);continue;case 47:switch(Po()){case 42:case 47:Tm(Vq(Nq(Br(),Km()),e,n),d);break;default:U+="/"}break;case 123*C:c[p++]=mo(U)*R;case 125*C:case 59:case 0:switch(F){case 0:case 125:k=0;case 59+m:R==-1&&(U=Dt(U,/\f/g,"")),T>0&&mo(U)-v&&Tm(T>32?yE(U+";",i,n,v-1):yE(Dt(U," ","")+";",i,n,v-2),d);break;case 59:U+=";";default:if(Tm(Q=_E(U,e,n,p,m,r,c,D,Z=[],H=[],v),s),F===123)if(m===0)Qm(U,e,Q,Q,Z,s,v,c,H);else switch(x===99&&fi(U,3)===110?100:x){case 100:case 108:case 109:case 115:Qm(t,Q,Q,i&&Tm(_E(t,Q,Q,0,0,r,c,D,r,Z=[],v),H),r,H,v,c,i?Z:H);break;default:Qm(U,Q,Q,Q,[""],H,0,c,H)}}p=m=T=0,C=R=1,D=U="",v=l;break;case 58:v=1+mo(U),T=I;default:if(C<1){if(F==123)--C;else if(F==125&&C++==0&&Rq()==125)continue}switch(U+=Ev(F),F*C){case 38:R=m>0?1:(U+="\f",-1);break;case 44:c[p++]=(mo(U)-1)*R,R=1;break;case 64:Po()===45&&(U+=Zm(Br())),x=Po(),m=v=mo(D=U+=Mq(Km())),F++;break;case 45:I===45&&mo(U)==2&&(C=0)}}return s}function _E(t,e,n,i,r,s,l,c,d,p,m){for(var v=r-1,x=r===0?s:[""],T=i1(x),I=0,C=0,k=0;I<i;++I)for(var R=0,F=Cf(t,v+1,v=Eq(C=l[I])),D=t;R<T;++R)(D=kR(C>0?x[R]+" "+F:Dt(F,/&\f/g,x[R])))&&(d[k++]=D);return Cv(t,e,n,r===0?t1:c,d,p,m)}function Vq(t,e,n){return Cv(t,e,n,IR,Ev(kq()),Cf(t,2,-2),0)}function yE(t,e,n,i){return Cv(t,e,n,n1,Cf(t,0,i),Cf(t,i+1,-1),i)}function gd(t,e){for(var n="",i=i1(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function jq(t,e,n,i){switch(t.type){case Tq:if(t.children.length)break;case Sq:case n1:return t.return=t.return||t.value;case IR:return"";case AR:return t.return=t.value+"{"+gd(t.children,i)+"}";case t1:t.value=t.props.join(",")}return mo(n=gd(t.children,i))?t.return=t.value+"{"+n+"}":""}function Fq(t){var e=i1(t);return function(n,i,r,s){for(var l="",c=0;c<e;c++)l+=t[c](n,i,r,s)||"";return l}}function Bq(t){return function(e){e.root||(e=e.return)&&t(e)}}function zq(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Uq=function(e,n,i){for(var r=0,s=0;r=s,s=Po(),r===38&&s===12&&(n[i]=1),!If(s);)Br();return up(e,Tr)},$q=function(e,n){var i=-1,r=44;do switch(If(r)){case 0:r===38&&Po()===12&&(n[i]=1),e[i]+=Uq(Tr-1,n,i);break;case 2:e[i]+=Zm(r);break;case 4:if(r===44){e[++i]=Po()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=Ev(r)}while(r=Br());return e},Hq=function(e,n){return OR($q(LR(e),n))},wE=new WeakMap,Wq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!wE.get(i))&&!r){wE.set(e,!0);for(var s=[],l=Hq(n,s),c=i.props,d=0,p=0;d<l.length;d++)for(var m=0;m<c.length;m++,p++)e.props[p]=s[d]?l[d].replace(/&\f/g,c[m]):c[m]+" "+l[d]}}},qq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function NR(t,e){switch(Cq(t,e)){case 5103:return Mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Mt+t+Ng+t+Ii+t+t;case 6828:case 4268:return Mt+t+Ii+t+t;case 6165:return Mt+t+Ii+"flex-"+t+t;case 5187:return Mt+t+Dt(t,/(\w+).+(:[^]+)/,Mt+"box-$1$2"+Ii+"flex-$1$2")+t;case 5443:return Mt+t+Ii+"flex-item-"+Dt(t,/flex-|-self/,"")+t;case 4675:return Mt+t+Ii+"flex-line-pack"+Dt(t,/align-content|flex-|-self/,"")+t;case 5548:return Mt+t+Ii+Dt(t,"shrink","negative")+t;case 5292:return Mt+t+Ii+Dt(t,"basis","preferred-size")+t;case 6060:return Mt+"box-"+Dt(t,"-grow","")+Mt+t+Ii+Dt(t,"grow","positive")+t;case 4554:return Mt+Dt(t,/([^-])(transform)/g,"$1"+Mt+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,Mt+"$1"),/(image-set)/,Mt+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,Mt+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,Mt+"box-pack:$3"+Ii+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mt+t+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,Mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mo(t)-1-e>6)switch(fi(t,e+1)){case 109:if(fi(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+Mt+"$2-$3$1"+Ng+(fi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Vy(t,"stretch")?NR(Dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(fi(t,e+1)!==115)break;case 6444:switch(fi(t,mo(t)-3-(~Vy(t,"!important")&&10))){case 107:return Dt(t,":",":"+Mt)+t;case 101:return Dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mt+(fi(t,14)===45?"inline-":"")+"box$3$1"+Mt+"$2$3$1"+Ii+"$2box$3")+t}break;case 5936:switch(fi(t,e+11)){case 114:return Mt+t+Ii+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Mt+t+Ii+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Mt+t+Ii+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Mt+t+Ii+t+t}return t}var Gq=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case n1:e.return=NR(e.value,e.length);break;case AR:return gd([Vh(e,{value:Dt(e.value,"@","@"+Mt)})],r);case t1:if(e.length)return Aq(e.props,function(s){switch(Iq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gd([Vh(e,{props:[Dt(s,/:(read-\w+)/,":"+Ng+"$1")]})],r);case"::placeholder":return gd([Vh(e,{props:[Dt(s,/:(plac\w+)/,":"+Mt+"input-$1")]}),Vh(e,{props:[Dt(s,/:(plac\w+)/,":"+Ng+"$1")]}),Vh(e,{props:[Dt(s,/:(plac\w+)/,Ii+"input-$1")]})],r)}return""})}},Kq=[Gq],Zq=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(C){var k=C.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var r=e.stylisPlugins||Kq,s={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var k=C.getAttribute("data-emotion").split(" "),R=1;R<k.length;R++)s[k[R]]=!0;c.push(C)});var d,p=[Wq,qq];{var m,v=[jq,Bq(function(C){m.insert(C)})],x=Fq(p.concat(r,v)),T=function(k){return gd(Dq(k),x)};d=function(k,R,F,D){m=F,T(k?k+"{"+R.styles+"}":R.styles),D&&(I.inserted[R.name]=!0)}}var I={key:n,sheet:new bq({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(c),I},k_={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function Qq(){if(xE)return Bt;xE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,T=t?Symbol.for("react.memo"):60115,I=t?Symbol.for("react.lazy"):60116,C=t?Symbol.for("react.block"):60121,k=t?Symbol.for("react.fundamental"):60117,R=t?Symbol.for("react.responder"):60118,F=t?Symbol.for("react.scope"):60119;function D(H){if(typeof H=="object"&&H!==null){var Q=H.$$typeof;switch(Q){case e:switch(H=H.type,H){case d:case p:case i:case s:case r:case v:return H;default:switch(H=H&&H.$$typeof,H){case c:case m:case I:case T:case l:return H;default:return Q}}case n:return Q}}}function Z(H){return D(H)===p}return Bt.AsyncMode=d,Bt.ConcurrentMode=p,Bt.ContextConsumer=c,Bt.ContextProvider=l,Bt.Element=e,Bt.ForwardRef=m,Bt.Fragment=i,Bt.Lazy=I,Bt.Memo=T,Bt.Portal=n,Bt.Profiler=s,Bt.StrictMode=r,Bt.Suspense=v,Bt.isAsyncMode=function(H){return Z(H)||D(H)===d},Bt.isConcurrentMode=Z,Bt.isContextConsumer=function(H){return D(H)===c},Bt.isContextProvider=function(H){return D(H)===l},Bt.isElement=function(H){return typeof H=="object"&&H!==null&&H.$$typeof===e},Bt.isForwardRef=function(H){return D(H)===m},Bt.isFragment=function(H){return D(H)===i},Bt.isLazy=function(H){return D(H)===I},Bt.isMemo=function(H){return D(H)===T},Bt.isPortal=function(H){return D(H)===n},Bt.isProfiler=function(H){return D(H)===s},Bt.isStrictMode=function(H){return D(H)===r},Bt.isSuspense=function(H){return D(H)===v},Bt.isValidElementType=function(H){return typeof H=="string"||typeof H=="function"||H===i||H===p||H===s||H===r||H===v||H===x||typeof H=="object"&&H!==null&&(H.$$typeof===I||H.$$typeof===T||H.$$typeof===l||H.$$typeof===c||H.$$typeof===m||H.$$typeof===k||H.$$typeof===R||H.$$typeof===F||H.$$typeof===C)},Bt.typeOf=D,Bt}var bE;function Yq(){return bE||(bE=1,k_.exports=Qq()),k_.exports}var R_,SE;function Xq(){if(SE)return R_;SE=1;var t=Yq(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=i,s[t.Memo]=r;function l(I){return t.isMemo(I)?r:s[I.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,x=Object.prototype;function T(I,C,k){if(typeof C!="string"){if(x){var R=v(C);R&&R!==x&&T(I,R,k)}var F=d(C);p&&(F=F.concat(p(C)));for(var D=l(I),Z=l(C),H=0;H<F.length;++H){var Q=F[H];if(!n[Q]&&!(k&&k[Q])&&!(Z&&Z[Q])&&!(D&&D[Q])){var U=m(C,Q);try{c(I,Q,U)}catch{}}}}return I}return R_=T,R_}Xq();var Jq=!0;function eG(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var MR=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||Jq===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},tG=function(e,n,i){MR(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function nG(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var iG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rG=/[A-Z]|^ms/g,sG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,DR=function(e){return e.charCodeAt(1)===45},TE=function(e){return e!=null&&typeof e!="boolean"},L_=zq(function(t){return DR(t)?t:t.replace(rG,"-$&").toLowerCase()}),EE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(sG,function(i,r,s){return go={name:r,styles:s,next:go},r})}return iG[e]!==1&&!DR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Af(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return go={name:r.name,styles:r.styles,next:go},r.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)go={name:l.name,styles:l.styles,next:go},l=l.next;var c=s.styles+";";return c}return oG(t,e,n)}case"function":{if(t!==void 0){var d=go,p=n(t);return go=d,Af(t,e,p)}break}}var m=n;return m}function oG(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Af(t,e,n[r])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var c=l;TE(c)&&(i+=L_(s)+":"+EE(s,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var d=0;d<l.length;d++)TE(l[d])&&(i+=L_(s)+":"+EE(s,l[d])+";");else{var p=Af(t,e,l);switch(s){case"animation":case"animationName":{i+=L_(s)+":"+p+";";break}default:i+=s+"{"+p+"}"}}}return i}var PE=/label:\s*([^\s;{]+)\s*(;|$)/g,go;function VR(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";go=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=Af(n,e,s);else{var l=s;r+=l[0]}for(var c=1;c<t.length;c++)if(r+=Af(n,e,t[c]),i){var d=s;r+=d[c]}PE.lastIndex=0;for(var p="",m;(m=PE.exec(r))!==null;)p+="-"+m[1];var v=nG(r)+p;return{name:v,styles:r,next:go}}var aG=function(e){return e()},lG=rb.useInsertionEffect?rb.useInsertionEffect:!1,uG=lG||aG,jR=B.createContext(typeof HTMLElement<"u"?Zq({key:"css"}):null);jR.Provider;var cG=function(e){return B.forwardRef(function(n,i){var r=B.useContext(jR);return e(n,r,i)})},dG=B.createContext({}),r1={}.hasOwnProperty,Fy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hG=function(e,n){var i={};for(var r in n)r1.call(n,r)&&(i[r]=n[r]);return i[Fy]=e,i},fG=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return MR(n,i,r),uG(function(){return tG(n,i,r)}),null},pG=cG(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[Fy],s=[i],l="";typeof t.className=="string"?l=eG(e.registered,s,t.className):t.className!=null&&(l=t.className+" ");var c=VR(s,void 0,B.useContext(dG));l+=e.key+"-"+c.name;var d={};for(var p in t)r1.call(t,p)&&p!=="css"&&p!==Fy&&(d[p]=t[p]);return d.className=l,n&&(d.ref=n),B.createElement(B.Fragment,null,B.createElement(fG,{cache:e,serialized:c,isStringTag:typeof r=="string"}),B.createElement(r,d))}),mG=pG,Ze=function(e,n){var i=arguments;if(n==null||!r1.call(n,"css"))return B.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=mG,s[1]=hG(e,n);for(var l=2;l<r;l++)s[l]=i[l];return B.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ze||(Ze={}));function s1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return VR(e)}function gG(){var t=s1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function vG(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const _G=Math.min,yG=Math.max,Mg=Math.round,Em=Math.floor,Dg=t=>({x:t,y:t});function wG(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Iv(){return typeof window<"u"}function FR(t){return zR(t)?(t.nodeName||"").toLowerCase():"#document"}function Va(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function BR(t){var e;return(e=(zR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zR(t){return Iv()?t instanceof Node||t instanceof Va(t).Node:!1}function xG(t){return Iv()?t instanceof Element||t instanceof Va(t).Element:!1}function o1(t){return Iv()?t instanceof HTMLElement||t instanceof Va(t).HTMLElement:!1}function CE(t){return!Iv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Va(t).ShadowRoot}function UR(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=a1(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function bG(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function SG(t){return["html","body","#document"].includes(FR(t))}function a1(t){return Va(t).getComputedStyle(t)}function TG(t){if(FR(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CE(t)&&t.host||BR(t);return CE(e)?e.host:e}function $R(t){const e=TG(t);return SG(e)?t.ownerDocument?t.ownerDocument.body:t.body:o1(e)&&UR(e)?e:$R(e)}function Vg(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=$R(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),l=Va(r);if(s){const c=By(l);return e.concat(l,l.visualViewport||[],UR(r)?r:[],c&&n?Vg(c):[])}return e.concat(r,Vg(r,[],n))}function By(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EG(t){const e=a1(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=o1(t),s=r?t.offsetWidth:n,l=r?t.offsetHeight:i,c=Mg(n)!==s||Mg(i)!==l;return c&&(n=s,i=l),{width:n,height:i,$:c}}function l1(t){return xG(t)?t:t.contextElement}function IE(t){const e=l1(t);if(!o1(e))return Dg(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=EG(e);let l=(s?Mg(n.width):n.width)/i,c=(s?Mg(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const PG=Dg(0);function CG(t){const e=Va(t);return!bG()||!e.visualViewport?PG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IG(t,e,n){return!1}function AE(t,e,n,i){e===void 0&&(e=!1);const r=t.getBoundingClientRect(),s=l1(t);let l=Dg(1);e&&(l=IE(t));const c=IG()?CG(s):Dg(0);let d=(r.left+c.x)/l.x,p=(r.top+c.y)/l.y,m=r.width/l.x,v=r.height/l.y;if(s){const x=Va(s),T=i;let I=x,C=By(I);for(;C&&i&&T!==I;){const k=IE(C),R=C.getBoundingClientRect(),F=a1(C),D=R.left+(C.clientLeft+parseFloat(F.paddingLeft))*k.x,Z=R.top+(C.clientTop+parseFloat(F.paddingTop))*k.y;d*=k.x,p*=k.y,m*=k.x,v*=k.y,d+=D,p+=Z,I=Va(C),C=By(I)}}return wG({width:m,height:v,x:d,y:p})}function HR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AG(t,e){let n=null,i;const r=BR(t);function s(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const p=t.getBoundingClientRect(),{left:m,top:v,width:x,height:T}=p;if(c||e(),!x||!T)return;const I=Em(v),C=Em(r.clientWidth-(m+x)),k=Em(r.clientHeight-(v+T)),R=Em(m),D={rootMargin:-I+"px "+-C+"px "+-k+"px "+-R+"px",threshold:yG(0,_G(1,d))||1};let Z=!0;function H(Q){const U=Q[0].intersectionRatio;if(U!==d){if(!Z)return l();U?l(!1,U):i=setTimeout(()=>{l(!1,1e-7)},1e3)}U===1&&!HR(p,t.getBoundingClientRect())&&l(),Z=!1}try{n=new IntersectionObserver(H,{...D,root:r.ownerDocument})}catch{n=new IntersectionObserver(H,D)}n.observe(t)}return l(!0),s}function kG(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,p=l1(t),m=r||s?[...p?Vg(p):[],...Vg(e)]:[];m.forEach(R=>{r&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const v=p&&c?AG(p,n):null;let x=-1,T=null;l&&(T=new ResizeObserver(R=>{let[F]=R;F&&F.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var D;(D=T)==null||D.observe(e)})),n()}),p&&!d&&T.observe(p),T.observe(e));let I,C=d?AE(t):null;d&&k();function k(){const R=AE(t);C&&!HR(C,R)&&n(),C=R,I=requestAnimationFrame(k)}return n(),()=>{var R;m.forEach(F=>{r&&F.removeEventListener("scroll",n),s&&F.removeEventListener("resize",n)}),v==null||v(),(R=T)==null||R.disconnect(),T=null,d&&cancelAnimationFrame(I)}}var zy=B.useLayoutEffect,RG=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],jg=function(){};function LG(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function OG(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=[].concat(i);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&s.push("".concat(LG(t,l)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var kE=function(e){return UG(e)?e.filter(Boolean):hc(e)==="object"&&e!==null?[e]:[]},WR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ua(e,RG);return it({},n)},wn=function(e,n,i){var r=e.cx,s=e.getStyles,l=e.getClassNames,c=e.className;return{css:s(n,e),className:r(i??{},l(n,e),c)}};function Av(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function NG(t){return Av(t)?window.innerHeight:t.clientHeight}function qR(t){return Av(t)?window.pageYOffset:t.scrollTop}function Fg(t,e){if(Av(t)){window.scrollTo(0,e);return}t.scrollTop=e}function MG(t){var e=getComputedStyle(t),n=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(n&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function DG(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function Pm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:jg,r=qR(t),s=e-r,l=10,c=0;function d(){c+=l;var p=DG(c,r,s,n);Fg(t,p),c<n?window.requestAnimationFrame(d):i(t)}d()}function RE(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>n.bottom?Fg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):i.top-r<n.top&&Fg(t,Math.max(e.offsetTop-r,0))}function VG(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function LE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function jG(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var GR=!1,FG={get passive(){return GR=!0}},Cm=typeof window<"u"?window:{};Cm.addEventListener&&Cm.removeEventListener&&(Cm.addEventListener("p",jg,FG),Cm.removeEventListener("p",jg,!1));var BG=GR;function zG(t){return t!=null}function UG(t){return Array.isArray(t)}function Im(t,e,n){return t?e:n}var $G=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=Object.entries(e).filter(function(l){var c=Aa(l,1),d=c[0];return!i.includes(d)});return s.reduce(function(l,c){var d=Aa(c,2),p=d[0],m=d[1];return l[p]=m,l},{})},HG=["children","innerProps"],WG=["children","innerProps"];function qG(t){var e=t.maxHeight,n=t.menuEl,i=t.minHeight,r=t.placement,s=t.shouldScroll,l=t.isFixedPosition,c=t.controlHeight,d=MG(n),p={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return p;var m=d.getBoundingClientRect(),v=m.height,x=n.getBoundingClientRect(),T=x.bottom,I=x.height,C=x.top,k=n.offsetParent.getBoundingClientRect(),R=k.top,F=l?window.innerHeight:NG(d),D=qR(d),Z=parseInt(getComputedStyle(n).marginBottom,10),H=parseInt(getComputedStyle(n).marginTop,10),Q=R-H,U=F-C,N=Q+D,V=v-D-C,z=T-F+D+Z,G=D+C-H,q=160;switch(r){case"auto":case"bottom":if(U>=I)return{placement:"bottom",maxHeight:e};if(V>=I&&!l)return s&&Pm(d,z,q),{placement:"bottom",maxHeight:e};if(!l&&V>=i||l&&U>=i){s&&Pm(d,z,q);var $=l?U-Z:V-Z;return{placement:"bottom",maxHeight:$}}if(r==="auto"||l){var xe=e,Oe=l?Q:N;return Oe>=i&&(xe=Math.min(Oe-Z-c,e)),{placement:"top",maxHeight:xe}}if(r==="bottom")return s&&Fg(d,z),{placement:"bottom",maxHeight:e};break;case"top":if(Q>=I)return{placement:"top",maxHeight:e};if(N>=I&&!l)return s&&Pm(d,G,q),{placement:"top",maxHeight:e};if(!l&&N>=i||l&&Q>=i){var Re=e;return(!l&&N>=i||l&&Q>=i)&&(Re=l?Q-H:N-H),s&&Pm(d,G,q),{placement:"top",maxHeight:Re}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return p}function GG(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var KR=function(e){return e==="auto"?"bottom":e},KG=function(e,n){var i,r=e.placement,s=e.theme,l=s.borderRadius,c=s.spacing,d=s.colors;return it((i={label:"menu"},Kh(i,GG(r),"100%"),Kh(i,"position","absolute"),Kh(i,"width","100%"),Kh(i,"zIndex",1),i),n?{}:{backgroundColor:d.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},ZR=B.createContext(null),ZG=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,d=e.theme,p=B.useContext(ZR)||{},m=p.setPortalPlacement,v=B.useRef(null),x=B.useState(r),T=Aa(x,2),I=T[0],C=T[1],k=B.useState(null),R=Aa(k,2),F=R[0],D=R[1],Z=d.spacing.controlHeight;return zy(function(){var H=v.current;if(H){var Q=l==="fixed",U=c&&!Q,N=qG({maxHeight:r,menuEl:H,minHeight:i,placement:s,shouldScroll:U,isFixedPosition:Q,controlHeight:Z});C(N.maxHeight),D(N.placement),m==null||m(N.placement)}},[r,s,l,c,i,m,Z]),n({ref:v,placerProps:it(it({},e),{},{placement:F||KR(s),maxHeight:I})})},QG=function(e){var n=e.children,i=e.innerRef,r=e.innerProps;return Ze("div",st({},wn(e,"menu",{menu:!0}),{ref:i},r),n)},YG=QG,XG=function(e,n){var i=e.maxHeight,r=e.theme.spacing.baseUnit;return it({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:r,paddingTop:r})},JG=function(e){var n=e.children,i=e.innerProps,r=e.innerRef,s=e.isMulti;return Ze("div",st({},wn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},i),n)},QR=function(e,n){var i=e.theme,r=i.spacing.baseUnit,s=i.colors;return it({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},eK=QR,tK=QR,nK=function(e){var n=e.children,i=n===void 0?"No options":n,r=e.innerProps,s=Ua(e,HG);return Ze("div",st({},wn(it(it({},s),{},{children:i,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),i)},iK=function(e){var n=e.children,i=n===void 0?"Loading...":n,r=e.innerProps,s=Ua(e,WG);return Ze("div",st({},wn(it(it({},s),{},{children:i,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),i)},rK=function(e){var n=e.rect,i=e.offset,r=e.position;return{left:n.left,position:r,top:i,width:n.width,zIndex:1}},sK=function(e){var n=e.appendTo,i=e.children,r=e.controlElement,s=e.innerProps,l=e.menuPlacement,c=e.menuPosition,d=B.useRef(null),p=B.useRef(null),m=B.useState(KR(l)),v=Aa(m,2),x=v[0],T=v[1],I=B.useMemo(function(){return{setPortalPlacement:T}},[]),C=B.useState(null),k=Aa(C,2),R=k[0],F=k[1],D=B.useCallback(function(){if(r){var U=VG(r),N=c==="fixed"?0:window.pageYOffset,V=U[x]+N;(V!==(R==null?void 0:R.offset)||U.left!==(R==null?void 0:R.rect.left)||U.width!==(R==null?void 0:R.rect.width))&&F({offset:V,rect:U})}},[r,c,x,R==null?void 0:R.offset,R==null?void 0:R.rect.left,R==null?void 0:R.rect.width]);zy(function(){D()},[D]);var Z=B.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),r&&d.current&&(p.current=kG(r,d.current,D,{elementResize:"ResizeObserver"in window}))},[r,D]);zy(function(){Z()},[Z]);var H=B.useCallback(function(U){d.current=U,Z()},[Z]);if(!n&&c!=="fixed"||!R)return null;var Q=Ze("div",st({ref:H},wn(it(it({},e),{},{offset:R.offset,position:c,rect:R.rect}),"menuPortal",{"menu-portal":!0}),s),i);return Ze(ZR.Provider,{value:I},n?NP.createPortal(Q,n):Q)},oK=function(e){var n=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},aK=function(e){var n=e.children,i=e.innerProps,r=e.isDisabled,s=e.isRtl;return Ze("div",st({},wn(e,"container",{"--is-disabled":r,"--is-rtl":s}),i),n)},lK=function(e,n){var i=e.theme.spacing,r=e.isMulti,s=e.hasValue,l=e.selectProps.controlShouldRenderValue;return it({alignItems:"center",display:r&&s&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},uK=function(e){var n=e.children,i=e.innerProps,r=e.isMulti,s=e.hasValue;return Ze("div",st({},wn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),i),n)},cK=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},dK=function(e){var n=e.children,i=e.innerProps;return Ze("div",st({},wn(e,"indicatorsContainer",{indicators:!0}),i),n)},OE,hK=["size"],fK=["innerProps","isRtl","size"],pK={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},YR=function(e){var n=e.size,i=Ua(e,hK);return Ze("svg",st({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:pK},i))},u1=function(e){return Ze(YR,st({size:20},e),Ze("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},XR=function(e){return Ze(YR,st({size:20},e),Ze("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},JR=function(e,n){var i=e.isFocused,r=e.theme,s=r.spacing.baseUnit,l=r.colors;return it({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?l.neutral60:l.neutral20,padding:s*2,":hover":{color:i?l.neutral80:l.neutral40}})},mK=JR,gK=function(e){var n=e.children,i=e.innerProps;return Ze("div",st({},wn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||Ze(XR,null))},vK=JR,_K=function(e){var n=e.children,i=e.innerProps;return Ze("div",st({},wn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||Ze(u1,null))},yK=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,l=r.colors;return it({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?l.neutral10:l.neutral20,marginBottom:s*2,marginTop:s*2})},wK=function(e){var n=e.innerProps;return Ze("span",st({},n,wn(e,"indicatorSeparator",{"indicator-separator":!0})))},xK=gG(OE||(OE=vG([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),bK=function(e,n){var i=e.isFocused,r=e.size,s=e.theme,l=s.colors,c=s.spacing.baseUnit;return it({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?l.neutral60:l.neutral20,padding:c*2})},O_=function(e){var n=e.delay,i=e.offset;return Ze("span",{css:s1({animation:"".concat(xK," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},SK=function(e){var n=e.innerProps,i=e.isRtl,r=e.size,s=r===void 0?4:r,l=Ua(e,fK);return Ze("div",st({},wn(it(it({},l),{},{innerProps:n,isRtl:i,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ze(O_,{delay:0,offset:i}),Ze(O_,{delay:160,offset:!0}),Ze(O_,{delay:320,offset:!i}))},TK=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.theme,l=s.colors,c=s.borderRadius,d=s.spacing;return it({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?l.neutral5:l.neutral0,borderColor:i?l.neutral10:r?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:r?l.primary:l.neutral30}})},EK=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Ze("div",st({ref:s},wn(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":r,"control--menu-is-open":c}),l,{"aria-disabled":i||void 0}),n)},PK=EK,CK=["data"],IK=function(e,n){var i=e.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},AK=function(e){var n=e.children,i=e.cx,r=e.getStyles,s=e.getClassNames,l=e.Heading,c=e.headingProps,d=e.innerProps,p=e.label,m=e.theme,v=e.selectProps;return Ze("div",st({},wn(e,"group",{group:!0}),d),Ze(l,st({},c,{selectProps:v,theme:m,getStyles:r,getClassNames:s,cx:i}),p),Ze("div",null,n))},kK=function(e,n){var i=e.theme,r=i.colors,s=i.spacing;return it({label:"group",cursor:"default",display:"block"},n?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},RK=function(e){var n=WR(e);n.data;var i=Ua(n,CK);return Ze("div",st({},wn(e,"groupHeading",{"group-heading":!0}),i))},LK=AK,OK=["innerRef","isDisabled","isHidden","inputClassName"],NK=function(e,n){var i=e.isDisabled,r=e.value,s=e.theme,l=s.spacing,c=s.colors;return it(it({visibility:i?"hidden":"visible",transform:r?"translateZ(0)":""},MK),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},eL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},MK={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":it({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},eL)},DK=function(e){return it({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},eL)},VK=function(e){var n=e.cx,i=e.value,r=WR(e),s=r.innerRef,l=r.isDisabled,c=r.isHidden,d=r.inputClassName,p=Ua(r,OK);return Ze("div",st({},wn(e,"input",{"input-container":!0}),{"data-value":i||""}),Ze("input",st({className:n({input:!0},d),ref:s,style:DK(c),disabled:l},p)))},jK=VK,FK=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,l=i.colors;return it({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},BK=function(e,n){var i=e.theme,r=i.borderRadius,s=i.colors,l=e.cropWithEllipsis;return it({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},zK=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,l=i.colors,c=e.isFocused;return it({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},tL=function(e){var n=e.children,i=e.innerProps;return Ze("div",i,n)},UK=tL,$K=tL;function HK(t){var e=t.children,n=t.innerProps;return Ze("div",st({role:"button"},n),e||Ze(u1,{size:14}))}var WK=function(e){var n=e.children,i=e.components,r=e.data,s=e.innerProps,l=e.isDisabled,c=e.removeProps,d=e.selectProps,p=i.Container,m=i.Label,v=i.Remove;return Ze(p,{data:r,innerProps:it(it({},wn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),s),selectProps:d},Ze(m,{data:r,innerProps:it({},wn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),Ze(v,{data:r,innerProps:it(it({},wn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:d}))},qK=WK,GK=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.isSelected,l=e.theme,c=l.spacing,d=l.colors;return it({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?d.primary:r?d.primary25:"transparent",color:i?d.neutral20:s?d.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:s?d.primary:d.primary50}})},KK=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return Ze("div",st({},wn(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":r,"option--is-selected":s}),{ref:l,"aria-disabled":i},c),n)},ZK=KK,QK=function(e,n){var i=e.theme,r=i.spacing,s=i.colors;return it({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},YK=function(e){var n=e.children,i=e.innerProps;return Ze("div",st({},wn(e,"placeholder",{placeholder:!0}),i),n)},XK=YK,JK=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing,l=r.colors;return it({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?l.neutral40:l.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},eZ=function(e){var n=e.children,i=e.isDisabled,r=e.innerProps;return Ze("div",st({},wn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),r),n)},tZ=eZ,nZ={ClearIndicator:_K,Control:PK,DropdownIndicator:gK,DownChevron:XR,CrossIcon:u1,Group:LK,GroupHeading:RK,IndicatorsContainer:dK,IndicatorSeparator:wK,Input:jK,LoadingIndicator:SK,Menu:YG,MenuList:JG,MenuPortal:sK,LoadingMessage:iK,NoOptionsMessage:nK,MultiValue:qK,MultiValueContainer:UK,MultiValueLabel:$K,MultiValueRemove:HK,Option:ZK,Placeholder:XK,SelectContainer:aK,SingleValue:tZ,ValueContainer:uK},iZ=function(e){return it(it({},nZ),e.components)},NE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function rZ(t,e){return!!(t===e||NE(t)&&NE(e))}function sZ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!rZ(t[n],e[n]))return!1;return!0}function oZ(t,e){e===void 0&&(e=sZ);var n=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var l=t.apply(this,r);return n={lastResult:l,lastArgs:r,lastThis:this},l}return i.clear=function(){n=null},i}var aZ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lZ=function(e){return Ze("span",st({css:aZ},e))},ME=lZ,uZ={guidance:function(e){var n=e.isSearchable,i=e.isMulti,r=e.tabSelectsValue,s=e.context,l=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,i=e.label,r=i===void 0?"":i,s=e.labels,l=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return l?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var n=e.context,i=e.focused,r=e.options,s=e.label,l=s===void 0?"":s,c=e.selectValue,d=e.isDisabled,p=e.isSelected,m=e.isAppleDevice,v=function(C,k){return C&&C.length?"".concat(C.indexOf(k)+1," of ").concat(C.length):""};if(n==="value"&&c)return"value ".concat(l," focused, ").concat(v(c,i),".");if(n==="menu"&&m){var x=d?" disabled":"",T="".concat(p?" selected":"").concat(x);return"".concat(l).concat(T,", ").concat(v(r,i),".")}return""},onFilter:function(e){var n=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},cZ=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,l=e.isFocused,c=e.selectValue,d=e.selectProps,p=e.id,m=e.isAppleDevice,v=d.ariaLiveMessages,x=d.getOptionLabel,T=d.inputValue,I=d.isMulti,C=d.isOptionDisabled,k=d.isSearchable,R=d.menuIsOpen,F=d.options,D=d.screenReaderStatus,Z=d.tabSelectsValue,H=d.isLoading,Q=d["aria-label"],U=d["aria-live"],N=B.useMemo(function(){return it(it({},uZ),v||{})},[v]),V=B.useMemo(function(){var Oe="";if(n&&N.onChange){var Re=n.option,Pe=n.options,ie=n.removedValue,_e=n.removedValues,ae=n.value,ee=function(Qe){return Array.isArray(Qe)?null:Qe},ce=ie||Re||ee(ae),Ee=ce?x(ce):"",De=Pe||_e||void 0,Le=De?De.map(x):[],Ce=it({isDisabled:ce&&C(ce,c),label:Ee,labels:Le},n);Oe=N.onChange(Ce)}return Oe},[n,N,C,c,x]),z=B.useMemo(function(){var Oe="",Re=i||r,Pe=!!(i&&c&&c.includes(i));if(Re&&N.onFocus){var ie={focused:Re,label:x(Re),isDisabled:C(Re,c),isSelected:Pe,options:s,context:Re===i?"menu":"value",selectValue:c,isAppleDevice:m};Oe=N.onFocus(ie)}return Oe},[i,r,x,C,N,s,c,m]),G=B.useMemo(function(){var Oe="";if(R&&F.length&&!H&&N.onFilter){var Re=D({count:s.length});Oe=N.onFilter({inputValue:T,resultsMessage:Re})}return Oe},[s,T,R,N,F,D,H]),q=(n==null?void 0:n.action)==="initial-input-focus",$=B.useMemo(function(){var Oe="";if(N.guidance){var Re=r?"value":R?"menu":"input";Oe=N.guidance({"aria-label":Q,context:Re,isDisabled:i&&C(i,c),isMulti:I,isSearchable:k,tabSelectsValue:Z,isInitialFocus:q})}return Oe},[Q,i,r,I,C,k,R,N,c,Z,q]),xe=Ze(B.Fragment,null,Ze("span",{id:"aria-selection"},V),Ze("span",{id:"aria-focused"},z),Ze("span",{id:"aria-results"},G),Ze("span",{id:"aria-guidance"},$));return Ze(B.Fragment,null,Ze(ME,{id:p},q&&xe),Ze(ME,{"aria-live":U,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!q&&xe))},dZ=cZ,Uy=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],hZ=new RegExp("["+Uy.map(function(t){return t.letters}).join("")+"]","g"),nL={};for(var N_=0;N_<Uy.length;N_++)for(var M_=Uy[N_],D_=0;D_<M_.letters.length;D_++)nL[M_.letters[D_]]=M_.base;var iL=function(e){return e.replace(hZ,function(n){return nL[n]})},fZ=oZ(iL),DE=function(e){return e.replace(/^\s+|\s+$/g,"")},pZ=function(e){return"".concat(e.label," ").concat(e.value)},mZ=function(e){return function(n,i){if(n.data.__isNew__)return!0;var r=it({ignoreCase:!0,ignoreAccents:!0,stringify:pZ,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,l=r.ignoreAccents,c=r.stringify,d=r.trim,p=r.matchFrom,m=d?DE(i):i,v=d?DE(c(n)):c(n);return s&&(m=m.toLowerCase(),v=v.toLowerCase()),l&&(m=fZ(m),v=iL(v)),p==="start"?v.substr(0,m.length)===m:v.indexOf(m)>-1}},gZ=["innerRef"];function vZ(t){var e=t.innerRef,n=Ua(t,gZ),i=$G(n,"onExited","in","enter","exit","appear");return Ze("input",st({ref:e},i,{css:s1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _Z=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function yZ(t){var e=t.isEnabled,n=t.onBottomArrive,i=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,l=B.useRef(!1),c=B.useRef(!1),d=B.useRef(0),p=B.useRef(null),m=B.useCallback(function(k,R){if(p.current!==null){var F=p.current,D=F.scrollTop,Z=F.scrollHeight,H=F.clientHeight,Q=p.current,U=R>0,N=Z-H-D,V=!1;N>R&&l.current&&(i&&i(k),l.current=!1),U&&c.current&&(s&&s(k),c.current=!1),U&&R>N?(n&&!l.current&&n(k),Q.scrollTop=Z,V=!0,l.current=!0):!U&&-R>D&&(r&&!c.current&&r(k),Q.scrollTop=0,V=!0,c.current=!0),V&&_Z(k)}},[n,i,r,s]),v=B.useCallback(function(k){m(k,k.deltaY)},[m]),x=B.useCallback(function(k){d.current=k.changedTouches[0].clientY},[]),T=B.useCallback(function(k){var R=d.current-k.changedTouches[0].clientY;m(k,R)},[m]),I=B.useCallback(function(k){if(k){var R=BG?{passive:!1}:!1;k.addEventListener("wheel",v,R),k.addEventListener("touchstart",x,R),k.addEventListener("touchmove",T,R)}},[T,x,v]),C=B.useCallback(function(k){k&&(k.removeEventListener("wheel",v,!1),k.removeEventListener("touchstart",x,!1),k.removeEventListener("touchmove",T,!1))},[T,x,v]);return B.useEffect(function(){if(e){var k=p.current;return I(k),function(){C(k)}}},[e,I,C]),function(k){p.current=k}}var VE=["boxSizing","height","overflow","paddingRight","position"],jE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function FE(t){t.cancelable&&t.preventDefault()}function BE(t){t.stopPropagation()}function zE(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function UE(){return"ontouchstart"in window||navigator.maxTouchPoints}var $E=!!(typeof window<"u"&&window.document&&window.document.createElement),jh=0,ed={capture:!1,passive:!1};function wZ(t){var e=t.isEnabled,n=t.accountForScrollbars,i=n===void 0?!0:n,r=B.useRef({}),s=B.useRef(null),l=B.useCallback(function(d){if($E){var p=document.body,m=p&&p.style;if(i&&VE.forEach(function(I){var C=m&&m[I];r.current[I]=C}),i&&jh<1){var v=parseInt(r.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,T=window.innerWidth-x+v||0;Object.keys(jE).forEach(function(I){var C=jE[I];m&&(m[I]=C)}),m&&(m.paddingRight="".concat(T,"px"))}p&&UE()&&(p.addEventListener("touchmove",FE,ed),d&&(d.addEventListener("touchstart",zE,ed),d.addEventListener("touchmove",BE,ed))),jh+=1}},[i]),c=B.useCallback(function(d){if($E){var p=document.body,m=p&&p.style;jh=Math.max(jh-1,0),i&&jh<1&&VE.forEach(function(v){var x=r.current[v];m&&(m[v]=x)}),p&&UE()&&(p.removeEventListener("touchmove",FE,ed),d&&(d.removeEventListener("touchstart",zE,ed),d.removeEventListener("touchmove",BE,ed)))}},[i]);return B.useEffect(function(){if(e){var d=s.current;return l(d),function(){c(d)}}},[e,l,c]),function(d){s.current=d}}var xZ=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},bZ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function SZ(t){var e=t.children,n=t.lockEnabled,i=t.captureEnabled,r=i===void 0?!0:i,s=t.onBottomArrive,l=t.onBottomLeave,c=t.onTopArrive,d=t.onTopLeave,p=yZ({isEnabled:r,onBottomArrive:s,onBottomLeave:l,onTopArrive:c,onTopLeave:d}),m=wZ({isEnabled:n}),v=function(T){p(T),m(T)};return Ze(B.Fragment,null,n&&Ze("div",{onClick:xZ,css:bZ}),e(v))}var TZ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},EZ=function(e){var n=e.name,i=e.onFocus;return Ze("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:TZ,value:"",onChange:function(){}})},PZ=EZ;function c1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function CZ(){return c1(/^iPhone/i)}function rL(){return c1(/^Mac/i)}function IZ(){return c1(/^iPad/i)||rL()&&navigator.maxTouchPoints>1}function AZ(){return CZ()||IZ()}function kZ(){return rL()||AZ()}var RZ=function(e){return e.label},LZ=function(e){return e.label},OZ=function(e){return e.value},NZ=function(e){return!!e.isDisabled},MZ={clearIndicator:vK,container:oK,control:TK,dropdownIndicator:mK,group:IK,groupHeading:kK,indicatorsContainer:cK,indicatorSeparator:yK,input:NK,loadingIndicator:bK,loadingMessage:tK,menu:KG,menuList:XG,menuPortal:rK,multiValue:FK,multiValueLabel:BK,multiValueRemove:zK,noOptionsMessage:eK,option:GK,placeholder:QK,singleValue:JK,valueContainer:lK},DZ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},VZ=4,sL=4,jZ=38,FZ=sL*2,BZ={baseUnit:sL,controlHeight:jZ,menuGutter:FZ},V_={borderRadius:VZ,colors:DZ,spacing:BZ},zZ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:LE(),captureMenuScroll:!LE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:mZ(),formatGroupLabel:RZ,getOptionLabel:LZ,getOptionValue:OZ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:NZ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!jG(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function HE(t,e,n,i){var r=lL(t,e,n),s=uL(t,e,n),l=aL(t,e),c=Bg(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:l,value:c,index:i}}function Ym(t,e){return t.options.map(function(n,i){if("options"in n){var r=n.options.map(function(l,c){return HE(t,l,e,c)}).filter(function(l){return qE(t,l)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var s=HE(t,n,e,i);return qE(t,s)?s:void 0}).filter(zG)}function oL(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,e1(n.options.map(function(i){return i.data}))):e.push(n.data),e},[])}function WE(t,e){return t.reduce(function(n,i){return i.type==="group"?n.push.apply(n,e1(i.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(i.index,"-").concat(r.index)}}))):n.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),n},[])}function UZ(t,e){return oL(Ym(t,e))}function qE(t,e){var n=t.inputValue,i=n===void 0?"":n,r=e.data,s=e.isSelected,l=e.label,c=e.value;return(!dL(t)||!s)&&cL(t,{label:l,value:c,data:r},i)}function $Z(t,e){var n=t.focusedValue,i=t.selectValue,r=i.indexOf(n);if(r>-1){var s=e.indexOf(n);if(s>-1)return n;if(r<e.length)return e[r]}return null}function HZ(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var j_=function(e,n){var i,r=(i=e.find(function(s){return s.data===n}))===null||i===void 0?void 0:i.id;return r||null},aL=function(e,n){return e.getOptionLabel(n)},Bg=function(e,n){return e.getOptionValue(n)};function lL(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function uL(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var i=Bg(t,e);return n.some(function(r){return Bg(t,r)===i})}function cL(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var dL=function(e){var n=e.hideSelectedOptions,i=e.isMulti;return n===void 0?i:n},WZ=1,hL=function(t){fq(n,t);var e=gq(n);function n(i){var r;if(dq(this,n),r=e.call(this,i),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=kZ(),r.controlRef=null,r.getControlRef=function(d){r.controlRef=d},r.focusedOptionRef=null,r.getFocusedOptionRef=function(d){r.focusedOptionRef=d},r.menuListRef=null,r.getMenuListRef=function(d){r.menuListRef=d},r.inputRef=null,r.getInputRef=function(d){r.inputRef=d},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(d,p){var m=r.props,v=m.onChange,x=m.name;p.name=x,r.ariaOnChange(d,p),v(d,p)},r.setValue=function(d,p,m){var v=r.props,x=v.closeMenuOnSelect,T=v.isMulti,I=v.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:I}),x&&(r.setState({inputIsHiddenAfterUpdate:!T}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(d,{action:p,option:m})},r.selectOption=function(d){var p=r.props,m=p.blurInputOnSelect,v=p.isMulti,x=p.name,T=r.state.selectValue,I=v&&r.isOptionSelected(d,T),C=r.isOptionDisabled(d,T);if(I){var k=r.getOptionValue(d);r.setValue(T.filter(function(R){return r.getOptionValue(R)!==k}),"deselect-option",d)}else if(!C)v?r.setValue([].concat(e1(T),[d]),"select-option",d):r.setValue(d,"select-option");else{r.ariaOnChange(d,{action:"select-option",option:d,name:x});return}m&&r.blurInput()},r.removeValue=function(d){var p=r.props.isMulti,m=r.state.selectValue,v=r.getOptionValue(d),x=m.filter(function(I){return r.getOptionValue(I)!==v}),T=Im(p,x,x[0]||null);r.onChange(T,{action:"remove-value",removedValue:d}),r.focusInput()},r.clearValue=function(){var d=r.state.selectValue;r.onChange(Im(r.props.isMulti,[],null),{action:"clear",removedValues:d})},r.popValue=function(){var d=r.props.isMulti,p=r.state.selectValue,m=p[p.length-1],v=p.slice(0,p.length-1),x=Im(d,v,v[0]||null);m&&r.onChange(x,{action:"pop-value",removedValue:m})},r.getFocusedOptionId=function(d){return j_(r.state.focusableOptionsWithIds,d)},r.getFocusableOptionsWithIds=function(){return WE(Ym(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return OG.apply(void 0,[r.props.classNamePrefix].concat(p))},r.getOptionLabel=function(d){return aL(r.props,d)},r.getOptionValue=function(d){return Bg(r.props,d)},r.getStyles=function(d,p){var m=r.props.unstyled,v=MZ[d](p,m);v.boxSizing="border-box";var x=r.props.styles[d];return x?x(v,p):v},r.getClassNames=function(d,p){var m,v;return(m=(v=r.props.classNames)[d])===null||m===void 0?void 0:m.call(v,p)},r.getElementId=function(d){return"".concat(r.state.instancePrefix,"-").concat(d)},r.getComponents=function(){return iZ(r.props)},r.buildCategorizedOptions=function(){return Ym(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return oL(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(d,p){r.setState({ariaSelection:it({value:d},p)})},r.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(d){r.blockOptionHover=!1},r.onControlMouseDown=function(d){if(!d.defaultPrevented){var p=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&r.onMenuClose():p&&r.openMenu("first"):(p&&(r.openAfterFocus=!0),r.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},r.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!r.props.isDisabled){var p=r.props,m=p.isMulti,v=p.menuIsOpen;r.focusInput(),v?(r.setState({inputIsHiddenAfterUpdate:!m}),r.onMenuClose()):r.openMenu("first"),d.preventDefault()}},r.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(r.clearValue(),d.preventDefault(),r.openAfterFocus=!1,d.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(d){typeof r.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Av(d.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(d)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(d){var p=d.touches,m=p&&p.item(0);m&&(r.initialTouchX=m.clientX,r.initialTouchY=m.clientY,r.userIsDragging=!1)},r.onTouchMove=function(d){var p=d.touches,m=p&&p.item(0);if(m){var v=Math.abs(m.clientX-r.initialTouchX),x=Math.abs(m.clientY-r.initialTouchY),T=5;r.userIsDragging=v>T||x>T}},r.onTouchEnd=function(d){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(d.target)&&r.menuListRef&&!r.menuListRef.contains(d.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(d){r.userIsDragging||r.onControlMouseDown(d)},r.onClearIndicatorTouchEnd=function(d){r.userIsDragging||r.onClearIndicatorMouseDown(d)},r.onDropdownIndicatorTouchEnd=function(d){r.userIsDragging||r.onDropdownIndicatorMouseDown(d)},r.handleInputChange=function(d){var p=r.props.inputValue,m=d.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(m,{action:"input-change",prevInputValue:p}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(d){r.props.onFocus&&r.props.onFocus(d),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(d){var p=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(d),r.onInputChange("",{action:"input-blur",prevInputValue:p}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(d){if(!(r.blockOptionHover||r.state.focusedOption===d)){var p=r.getFocusableOptions(),m=p.indexOf(d);r.setState({focusedOption:d,focusedOptionId:m>-1?r.getFocusedOptionId(d):null})}},r.shouldHideSelectedOptions=function(){return dL(r.props)},r.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),r.focus()},r.onKeyDown=function(d){var p=r.props,m=p.isMulti,v=p.backspaceRemovesValue,x=p.escapeClearsValue,T=p.inputValue,I=p.isClearable,C=p.isDisabled,k=p.menuIsOpen,R=p.onKeyDown,F=p.tabSelectsValue,D=p.openMenuOnFocus,Z=r.state,H=Z.focusedOption,Q=Z.focusedValue,U=Z.selectValue;if(!C&&!(typeof R=="function"&&(R(d),d.defaultPrevented))){switch(r.blockOptionHover=!0,d.key){case"ArrowLeft":if(!m||T)return;r.focusValue("previous");break;case"ArrowRight":if(!m||T)return;r.focusValue("next");break;case"Delete":case"Backspace":if(T)return;if(Q)r.removeValue(Q);else{if(!v)return;m?r.popValue():I&&r.clearValue()}break;case"Tab":if(r.isComposing||d.shiftKey||!k||!F||!H||D&&r.isOptionSelected(H,U))return;r.selectOption(H);break;case"Enter":if(d.keyCode===229)break;if(k){if(!H||r.isComposing)return;r.selectOption(H);break}return;case"Escape":k?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:T}),r.onMenuClose()):I&&x&&r.clearValue();break;case" ":if(T)return;if(!k){r.openMenu("first");break}if(!H)return;r.selectOption(H);break;case"ArrowUp":k?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":k?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!k)return;r.focusOption("pageup");break;case"PageDown":if(!k)return;r.focusOption("pagedown");break;case"Home":if(!k)return;r.focusOption("first");break;case"End":if(!k)return;r.focusOption("last");break;default:return}d.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++WZ),r.state.selectValue=kE(i.value),i.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),l=r.buildFocusableOptions(),c=l.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=l[c],r.state.focusedOptionId=j_(s,l[c])}return r}return hq(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&RE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,l=s.isDisabled,c=s.menuIsOpen,d=this.state.isFocused;(d&&!l&&r.isDisabled||d&&c&&!r.menuIsOpen)&&this.focusInput(),d&&l&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!l&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(RE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,l=this.state,c=l.selectValue,d=l.isFocused,p=this.buildFocusableOptions(),m=r==="first"?0:p.length-1;if(!this.props.isMulti){var v=p.indexOf(c[0]);v>-1&&(m=v)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[m],focusedOptionId:this.getFocusedOptionId(p[m])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,l=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(c);c||(d=-1);var p=l.length-1,m=-1;if(l.length){switch(r){case"previous":d===0?m=0:d===-1?m=p:m=d-1;break;case"next":d>-1&&d<p&&(m=d+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:l[m]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var d=0,p=c.indexOf(l);l||(p=-1),r==="up"?d=p>0?p-1:c.length-1:r==="down"?d=(p+1)%c.length:r==="pageup"?(d=p-s,d<0&&(d=0)):r==="pagedown"?(d=p+s,d>c.length-1&&(d=c.length-1)):r==="last"&&(d=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(V_):it(it({},V_),this.props.theme):V_}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,l=this.getStyles,c=this.getClassNames,d=this.getValue,p=this.selectOption,m=this.setValue,v=this.props,x=v.isMulti,T=v.isRtl,I=v.options,C=this.hasValue();return{clearValue:r,cx:s,getStyles:l,getClassNames:c,getValue:d,hasValue:C,isMulti:x,isRtl:T,options:I,selectOption:p,selectProps:v,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,l=r.isMulti;return s===void 0?l:s}},{key:"isOptionDisabled",value:function(r,s){return lL(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return uL(this.props,r,s)}},{key:"filterOption",value:function(r,s){return cL(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:l,selectValue:c})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,l=r.isSearchable,c=r.inputId,d=r.inputValue,p=r.tabIndex,m=r.form,v=r.menuIsOpen,x=r.required,T=this.getComponents(),I=T.Input,C=this.state,k=C.inputIsHidden,R=C.ariaSelection,F=this.commonProps,D=c||this.getElementId("input"),Z=it(it(it({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(R==null?void 0:R.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?B.createElement(I,st({},F,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:D,innerRef:this.getInputRef,isDisabled:s,isHidden:k,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:m,type:"text",value:d},Z)):B.createElement(vZ,st({id:D,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:jg,onFocus:this.onInputFocus,disabled:s,tabIndex:p,inputMode:"none",form:m,value:""},Z))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),l=s.MultiValue,c=s.MultiValueContainer,d=s.MultiValueLabel,p=s.MultiValueRemove,m=s.SingleValue,v=s.Placeholder,x=this.commonProps,T=this.props,I=T.controlShouldRenderValue,C=T.isDisabled,k=T.isMulti,R=T.inputValue,F=T.placeholder,D=this.state,Z=D.selectValue,H=D.focusedValue,Q=D.isFocused;if(!this.hasValue()||!I)return R?null:B.createElement(v,st({},x,{key:"placeholder",isDisabled:C,isFocused:Q,innerProps:{id:this.getElementId("placeholder")}}),F);if(k)return Z.map(function(N,V){var z=N===H,G="".concat(r.getOptionLabel(N),"-").concat(r.getOptionValue(N));return B.createElement(l,st({},x,{components:{Container:c,Label:d,Remove:p},isFocused:z,isDisabled:C,key:G,index:V,removeProps:{onClick:function(){return r.removeValue(N)},onTouchEnd:function(){return r.removeValue(N)},onMouseDown:function($){$.preventDefault()}},data:N}),r.formatOptionLabel(N,"value"))});if(R)return null;var U=Z[0];return B.createElement(m,st({},x,{data:U,isDisabled:C}),this.formatOptionLabel(U,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,p=c.isLoading,m=this.state.isFocused;if(!this.isClearable()||!s||d||!this.hasValue()||p)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(s,st({},l,{innerProps:v,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,p=c.isLoading,m=this.state.isFocused;if(!s||!p)return null;var v={"aria-hidden":"true"};return B.createElement(s,st({},l,{innerProps:v,isDisabled:d,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,l=r.IndicatorSeparator;if(!s||!l)return null;var c=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return B.createElement(l,st({},c,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(s,st({},l,{innerProps:p,isDisabled:c,isFocused:d}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),l=s.Group,c=s.GroupHeading,d=s.Menu,p=s.MenuList,m=s.MenuPortal,v=s.LoadingMessage,x=s.NoOptionsMessage,T=s.Option,I=this.commonProps,C=this.state.focusedOption,k=this.props,R=k.captureMenuScroll,F=k.inputValue,D=k.isLoading,Z=k.loadingMessage,H=k.minMenuHeight,Q=k.maxMenuHeight,U=k.menuIsOpen,N=k.menuPlacement,V=k.menuPosition,z=k.menuPortalTarget,G=k.menuShouldBlockScroll,q=k.menuShouldScrollIntoView,$=k.noOptionsMessage,xe=k.onMenuScrollToTop,Oe=k.onMenuScrollToBottom;if(!U)return null;var Re=function(Ee,De){var Le=Ee.type,Ce=Ee.data,Xe=Ee.isDisabled,Qe=Ee.isSelected,Tt=Ee.label,Xt=Ee.value,jn=C===Ce,ni=Xe?void 0:function(){return r.onOptionHover(Ce)},ii=Xe?void 0:function(){return r.selectOption(Ce)},Di="".concat(r.getElementId("option"),"-").concat(De),Ur={id:Di,onClick:ii,onMouseMove:ni,onMouseOver:ni,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:Qe};return B.createElement(T,st({},I,{innerProps:Ur,data:Ce,isDisabled:Xe,isSelected:Qe,key:Di,label:Tt,type:Le,value:Xt,isFocused:jn,innerRef:jn?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(Ee.data,"menu"))},Pe;if(this.hasOptions())Pe=this.getCategorizedOptions().map(function(ce){if(ce.type==="group"){var Ee=ce.data,De=ce.options,Le=ce.index,Ce="".concat(r.getElementId("group"),"-").concat(Le),Xe="".concat(Ce,"-heading");return B.createElement(l,st({},I,{key:Ce,data:Ee,options:De,Heading:c,headingProps:{id:Xe,data:ce.data},label:r.formatGroupLabel(ce.data)}),ce.options.map(function(Qe){return Re(Qe,"".concat(Le,"-").concat(Qe.index))}))}else if(ce.type==="option")return Re(ce,"".concat(ce.index))});else if(D){var ie=Z({inputValue:F});if(ie===null)return null;Pe=B.createElement(v,I,ie)}else{var _e=$({inputValue:F});if(_e===null)return null;Pe=B.createElement(x,I,_e)}var ae={minMenuHeight:H,maxMenuHeight:Q,menuPlacement:N,menuPosition:V,menuShouldScrollIntoView:q},ee=B.createElement(ZG,st({},I,ae),function(ce){var Ee=ce.ref,De=ce.placerProps,Le=De.placement,Ce=De.maxHeight;return B.createElement(d,st({},I,ae,{innerRef:Ee,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:D,placement:Le}),B.createElement(SZ,{captureEnabled:R,onTopArrive:xe,onBottomArrive:Oe,lockEnabled:G},function(Xe){return B.createElement(p,st({},I,{innerRef:function(Tt){r.getMenuListRef(Tt),Xe(Tt)},innerProps:{role:"listbox","aria-multiselectable":I.isMulti,id:r.getElementId("listbox")},isLoading:D,maxHeight:Ce,focusedOption:C}),Pe)}))});return z||V==="fixed"?B.createElement(m,st({},I,{appendTo:z,controlElement:this.controlRef,menuPlacement:N,menuPosition:V}),ee):ee}},{key:"renderFormField",value:function(){var r=this,s=this.props,l=s.delimiter,c=s.isDisabled,d=s.isMulti,p=s.name,m=s.required,v=this.state.selectValue;if(m&&!this.hasValue()&&!c)return B.createElement(PZ,{name:p,onFocus:this.onValueInputFocus});if(!(!p||c))if(d)if(l){var x=v.map(function(C){return r.getOptionValue(C)}).join(l);return B.createElement("input",{name:p,type:"hidden",value:x})}else{var T=v.length>0?v.map(function(C,k){return B.createElement("input",{key:"i-".concat(k),name:p,type:"hidden",value:r.getOptionValue(C)})}):B.createElement("input",{name:p,type:"hidden",value:""});return B.createElement("div",null,T)}else{var I=v[0]?this.getOptionValue(v[0]):"";return B.createElement("input",{name:p,type:"hidden",value:I})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,l=s.ariaSelection,c=s.focusedOption,d=s.focusedValue,p=s.isFocused,m=s.selectValue,v=this.getFocusableOptions();return B.createElement(dZ,st({},r,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:d,isFocused:p,selectValue:m,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,l=r.IndicatorsContainer,c=r.SelectContainer,d=r.ValueContainer,p=this.props,m=p.className,v=p.id,x=p.isDisabled,T=p.menuIsOpen,I=this.state.isFocused,C=this.commonProps=this.getCommonProps();return B.createElement(c,st({},C,{className:m,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:I}),this.renderLiveRegion(),B.createElement(s,st({},C,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:I,menuIsOpen:T}),B.createElement(d,st({},C,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),B.createElement(l,st({},C,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var l=s.prevProps,c=s.clearFocusValueOnUpdate,d=s.inputIsHiddenAfterUpdate,p=s.ariaSelection,m=s.isFocused,v=s.prevWasFocused,x=s.instancePrefix,T=r.options,I=r.value,C=r.menuIsOpen,k=r.inputValue,R=r.isMulti,F=kE(I),D={};if(l&&(I!==l.value||T!==l.options||C!==l.menuIsOpen||k!==l.inputValue)){var Z=C?UZ(r,F):[],H=C?WE(Ym(r,F),"".concat(x,"-option")):[],Q=c?$Z(s,F):null,U=HZ(s,Z),N=j_(H,U);D={selectValue:F,focusedOption:U,focusedOptionId:N,focusableOptionsWithIds:H,focusedValue:Q,clearFocusValueOnUpdate:!1}}var V=d!=null&&r!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},z=p,G=m&&v;return m&&!G&&(z={value:Im(R,F,F[0]||null),options:F,action:"initial-input-focus"},G=!v),(p==null?void 0:p.action)==="initial-input-focus"&&(z=null),it(it(it({},D),V),{},{prevProps:r,ariaSelection:z,prevWasFocused:G})}}]),n}(B.Component);hL.defaultProps=zZ;var qZ=B.forwardRef(function(t,e){var n=cq(t);return B.createElement(hL,st({ref:e},n))}),GE=qZ;const KE={control:(t,e)=>({...t,paddingTop:"20px",paddingBottom:"20px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"7px",fontWeight:"500",color:e.selectProps.menuIsOpen?"#7a0000":"#fff",borderColor:"#7a0000",boxShadow:e.selectProps.menuIsOpen?"0 0 5px rgba(122, 0, 0, 0.5)":"none",backgroundColor:e.selectProps.menuIsOpen?"transparent":"#7a0000","&:hover":{boxShadow:"0 0 5px rgba(122, 0, 0, 1)"}}),singleValue:(t,e)=>({...t,color:e.selectProps.menuIsOpen?"#7a0000":"#fff",whiteSpace:"nowrap",overflow:"visible",textOverflow:"clip"}),placeholder:(t,e)=>({...t,color:e.selectProps.menuIsOpen?"#7a0000":"#fff"}),dropdownIndicator:(t,e)=>({...t,color:e.selectProps.menuIsOpen?"#7a0000":"#fff","&:hover":{color:e.selectProps.menuIsOpen?"#7a0000":"#fff"}}),option:(t,e)=>({...t,zIndex:6,color:e.isSelected?"#fff":"#000",backgroundColor:e.isSelected?"rgba(122, 0, 0, 0.8)":"transparent","&:hover":{backgroundColor:e.isSelected?"rgba(122, 0, 0, 0.8)":"rgba(122, 0, 0, 0.5)",color:"#fff"}}),menu:t=>({...t,zIndex:6,"@media (max-width: 420px)":{position:"relative"}})};function GZ(){const{product:t}=kv(),{filtersByType:e,setFilters:n}=Bx(),i=e[t]||{discount:"All prices",country:"All countries"};return w.jsxs(Ge.div,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"flex justify-between items-center gap-x-20 gap-y-4 pb-2 max-md:flex-col max-md:text-center",children:[w.jsxs(Ge.h3,{variants:In,className:Gi.basicTitle,children:["Add filters to find your best ",t,": "]}),w.jsxs("div",{className:"flex gap-2 max-[420px]:flex-col",children:[w.jsx(GE,{options:pE,value:pE.find(r=>r.value===i.discount),onChange:r=>n(t,{...i,discount:(r==null?void 0:r.value)||"All prices"}),classNames:{indicatorSeparator:()=>"hidden",container:()=>"relative z-5 w-full"},styles:KE}),w.jsx(GE,{options:mE,value:mE.find(r=>r.value===i.country),onChange:r=>n(t,{...i,country:(r==null?void 0:r.value)||"All countries"}),classNames:{indicatorSeparator:()=>"hidden",container:()=>"relative z-5 w-full"},styles:KE})]})]})}function KZ(){const{open:t}=Er(),{product:e}=kv(),{filteredProductsByType:n,loadProductsByType:i,isLoading:r}=Bx(),[s,l]=B.useState(void 0),{findSameProductInCartById:c}=Yi();B.useEffect(()=>{i([e])},[e,i]);const d=n[e]||[];B.useEffect(()=>{Promise.all(d.map(async m=>(m instanceof Vx&&await m.getAsyncPrice(),m))).then(l)},[d]);function p(m){if(m.id&&m.quantity>0){const v=c(m.id);if(v&&v.cartQuantity&&v.cartQuantity<v.quantity)return!0;if(!v)return!0}return!1}return w.jsx("section",{className:"products mt-14 mb-10 max-lg:mt-7 max-lg:mb-7",children:w.jsxs("div",{className:Gi.container,children:[w.jsx(GZ,{})," ",w.jsxs("div",{className:"flex gap-[20px] flex-wrap",children:[r&&w.jsx("p",{className:Gi.basicTitle,children:"Loading..."}),!r&&d.length===0&&w.jsx("p",{className:Gi.basicTitle,children:"Nothing found for the selected filters."}),!r&&d.length>0&&d.map((m,v)=>w.jsxs("div",{className:"!flex !flex-col !items-stretch !p-[18px] !h-auto flex-[0_1_calc(25%-15px)] max-xl:flex-[0_1_calc(33%-13.33px)] max-lg:flex-[0_1_calc(50%-10px)] max-sm:flex-[1_1_auto]",children:[w.jsx("div",{className:`h-full mb-[10px] border-2 border-solid border-gray-300 p-[18px] hover:shadow-[0px_10px_20px_rgba(0,0,0,0.5)] transitioned hover:scale-98 ${p(m)?"":"bg-gray-200"}`,children:w.jsxs(Gt,{to:`/${zr(m.kindOfProduct)}/${m.id}`,children:[w.jsx(Jx,{product:m}),w.jsxs("div",{className:"!mt-auto grid grid-rows-3 grid-cols-1 gap-[7px]",children:[w.jsx("h3",{className:Gi.label,children:m.name}),w.jsxs("div",{className:"flex flex-col gap-[7px] flex-1",children:[w.jsxs("p",{className:"flex gap-2 items-center",children:[w.jsxs("span",{className:"w-[17px] h-[17px] flex-[0_0_17px]",children:[SR.includes(m.kindOfProduct)&&w.jsx("img",{className:"w-full h-full",src:yR,alt:"descriptionGlassSVG"}),TR.includes(m.kindOfProduct)&&w.jsx("img",{className:"w-full h-full",src:xR,alt:"descriptionFoodSVG"})]}),w.jsx("span",{className:Gi.description,children:Array.isArray(m.description)?m.description[0]:m.description})]},v+"i"),Array.isArray(m.description)&&w.jsxs("p",{className:"flex gap-2 items-center",children:[w.jsx("span",{className:"w-[17px] h-[17px] flex-[0_0_17px]",children:w.jsx("img",{className:"w-full h-full",src:wR,alt:"descriptionOthersSVG"})}),w.jsx("span",{className:Gi.description,children:m.description[1]})]},v+"j")]}),w.jsx("div",{className:"flex gap-6 items-center",children:s&&w.jsxs(w.Fragment,{children:[w.jsxs("h4",{className:Gi.price,children:[m.getDiscountedPrice(),"$"]}),m.discount!==void 0&&m.discount>0&&w.jsxs("h4",{className:Gi.prev_price,children:[m.price,"$"]})]})})]})]})}),p(m)&&w.jsx("button",{className:Gi.buttonBuy,onClick:()=>{m.addToCart(),t("Notification",w.jsxs("p",{className:"pb-5",children:[m.name," is added to Cart"]}))},children:"Add to cart"}),!p(m)&&w.jsx("button",{className:Gi.buttonBuy+` ${p(m)?"":"!bg-gray-200 !border-black !text-black"}`,disabled:!0,children:"Lack of quantity"})]},v))]})]})})}const fL=B.createContext(void 0),kv=()=>{const t=B.useContext(fL);if(!t)throw new Error("useProduct must be used within a ProductProvider");return t};function Ns({product:t}){const e=B.useMemo(()=>QA(t),[t]);return w.jsx("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:w.jsxs(fL.Provider,{value:{product:t},children:[w.jsx(KW,{}),w.jsx(iq,{}),w.jsx(KZ,{}),w.jsx(Ws,{productFilter:e}),w.jsx(Gn,{imgSrc:"/wineset/HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})})}const ZZ="_container_1r4aa_2",QZ="_title_1r4aa_9",YZ="_label_1r4aa_29",XZ="_formBlock_1r4aa_47",uo={container:ZZ,title:QZ,label:YZ,formBlock:XZ},ZE=async t=>{const e=lc(Hs,"bonus",t),n=await GA(e);if(!n.exists())return 0;const i=n.data();return(i==null?void 0:i.bonusesAlreadyHas)||0},JZ=async(t,e)=>{if(!e||!e.uid)throw new Error("User not authenticated");if(t<0)throw new Error("Bonus amount must be greater than or equal to 0");const n=lc(Hs,"bonus",e.uid);return await ZA(n,{bonusesAlreadyHas:t},{merge:!0}),{message:"Bonus set successfully",userId:e.uid,bonusAmount:t}},cp=mu((t,e)=>({bonusesAlreadyHas:0,bonusesYouWillReceive:0,bonusesYouCanUse:0,useBonuses:!0,initializeBonus:async()=>{const{user:n}=Ni.getState(),{totalCartPriceWithoutDiscount:i}=Yi.getState(),{useBonuses:r}=e();let s=0;if(n!=null&&n.uid&&(s=await ZE(n.uid),t({bonusesAlreadyHas:s})),!r){t({bonusesYouWillReceive:0,bonusesYouCanUse:0});return}const l=SF()?.1:.05,c=i>1e3?.05:0,d=l+c,p=Math.max(0,i),m=Math.round(p*d),v=Math.min(s,Math.floor(p));t({bonusesYouWillReceive:m,bonusesYouCanUse:v})},setBonusesAlreadyHas:n=>{const{totalCartPriceWithoutDiscount:i}=Yi.getState(),r=Math.min(n,Math.floor(i));t({bonusesAlreadyHas:n,bonusesYouCanUse:r})},clearAllBonuses:()=>{t({bonusesAlreadyHas:0,bonusesYouWillReceive:0,bonusesYouCanUse:0})},toggleUseBonuses:async()=>{const n=!e().useBonuses;t({useBonuses:n}),n?await e().initializeBonus():t({bonusesYouCanUse:0})},updateBonusesInDBAfterPurchase:async()=>{const{user:n}=Ni.getState(),{bonusesYouCanUse:i,bonusesYouWillReceive:r,useBonuses:s}=e();if(!n)return;const l=await ZE(n.uid),c=s?i:0,d=r,p=Math.max(0,l-c+d);await JZ(p,n),t({bonusesAlreadyHas:p,bonusesYouCanUse:s?Math.min(p,Math.floor(Yi.getState().totalCartPriceWithoutDiscount)):0,bonusesYouWillReceive:0})}}));function eQ({formRef:t,isSubmitting:e}){const{totalCartPriceWithDiscount:n,cartProducts:i}=Yi(),{open:r}=Er(),{bonusesYouCanUse:s}=cp();function l(){i.length>0?t.current&&t.current.dispatchEvent(new Event("submit",{bubbles:!0})):r("Notification",w.jsx("p",{className:"pb-5",children:"Firstly add items to Cart"}))}return w.jsxs("div",{className:"flex-[0_1_50%] bg-[#F4F4F4] px-[50px] py-[40px]",children:[w.jsxs("div",{className:"flex gap-10 justify-between items-center mb-[50px] text-center",children:[w.jsx("h3",{className:"!font-[Inter] !font-semibold !text-[26px] capitalize text-[#121212]",children:"Your Order"}),w.jsx(Gt,{className:"!font-[Inter] font-medium !text-[18px] decoration-[#7a0000] decoration-[1px] decoration-skip-ink-0 text-[#7a0000] hover:underline",to:"/Cart",children:"Edit"})]}),w.jsx(Xx,{changable:!1}),w.jsxs("div",{className:"border-b-1 py-5 flex gap-10 justify-between items-center",children:[w.jsx("h3",{className:"!font-semibold !text-[22px] uppercase text-black",children:"Total with discount and bonuses"}),w.jsxs("h3",{className:"!font-semibold !text-[22px] uppercase text-black",children:[Math.max(n-s,0).toFixed(2),"$"]})]}),w.jsx("div",{className:"text-center mt-5",children:w.jsx("button",{onClick:()=>l(),className:"rounded px-[100px] py-[24px] bg-gradient-to-r from-[#7A0000] to-[#990000] text-white font-[Inter] font-semibold leading-normal tracking-[2px] uppercase text-[24px] sm:text-[22px] hover:from-[#F4F4F4] hover:to-[#F4F4F4] hover:text-[#7A0000] transitioned border-2 border-[#7A0000]",type:"submit",form:"order",disabled:e,children:e?"Pending...":"Place your order"})})]})}function tQ(){var Z;const{updateBonusesInDBAfterPurchase:t,bonusesYouCanUse:e,useBonuses:n}=cp(),{clearCart:i,cartProducts:r,totalCartPriceWithoutDiscount:s,totalCartPriceWithDiscount:l}=Yi(),{control:c,register:d,handleSubmit:p,reset:m,formState:{errors:v,isSubmitting:x}}=ap();B.useEffect(()=>{Eg.init("hqt9CD7I-ql_oArvG")},[]);const T=B.useRef(null),{user:I}=Ni(),[C="",k=""]=((Z=I==null?void 0:I.displayName)==null?void 0:Z.split(" "))||[],R=I!=null&&I.email?I.email:"",{open:F}=Er(),D=async H=>{const Q="service_6bxbs4a",U="template_kjr3yzf",N="matula.bohdan@gmail.com",V=wF(r),z=`${N}, ${H.email}`;let G=n?l-e:l;G=Number(Math.max(Number(G),0).toFixed(2));try{await Eg.send(Q,U,{...H,to_email:z,cart:V,totalCartPriceWithoutDiscount:s,totalCartPriceWithDiscount:l,totalCartPriceWithDiscountAndBonusUsed:G}),F("Notification",w.jsxs("div",{className:"pb-5",children:[w.jsx("p",{className:"pb-2",children:"Your order has been successfully submitted. We will contact you shortly."}),w.jsx("p",{children:I?"":"However, you did not receive your bonuses because you are not logged in."})]})),await t(),await CB(r),i(),m()}catch(q){F("Notification",w.jsx("p",{className:"pb-5",children:"Your order has been rejected, check error in console."})),console.log(q)}};return w.jsx("section",{className:"py-8",children:w.jsxs("div",{className:uo.container,children:[w.jsx("h2",{className:uo.title,children:"Personally Identifiable Information"}),w.jsxs("div",{className:"flex justify-between items-center gap-30 mt-5 max-[900px]:flex-col",children:[w.jsxs("form",{ref:T,id:"oeder",className:"flex-[0_1_50%] flex flex-col gap-10 max-[900px]:w-full",onSubmit:p(D),children:[w.jsxs("div",{className:uo.formBlock,children:[w.jsx("label",{htmlFor:"name",className:uo.label,children:"Recipient"}),w.jsx("input",{placeholder:"First name...",type:"text",id:"name",defaultValue:C??"",...d("name",{required:"Name is required"}),autoComplete:"given-name"}),v.name&&w.jsx("p",{className:"text-red-400 text-sm",children:v.name.message}),w.jsx("input",{placeholder:"Surname...",type:"text",id:"surname",defaultValue:k??"",...d("surname",{required:"Surname is required"}),autoComplete:"family-name"}),v.surname&&w.jsx("p",{className:"text-red-400 text-sm",children:v.surname.message}),w.jsx("input",{placeholder:"Phone number...",type:"text",id:"tel",...d("tel",{required:"Phone number is required",pattern:{value:/^\+?3?8?(0\d{9})$/,message:"Invalid phone number"}}),autoComplete:"tel"}),v.tel&&w.jsx("p",{className:"text-red-400 text-sm",children:v.tel.message}),w.jsx("input",{placeholder:"Email...",type:"email",id:"email",defaultValue:R??"",...d("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),autoComplete:"email"}),v.email&&w.jsx("p",{className:"text-red-400 text-sm",children:v.email.message})]}),w.jsxs("div",{className:uo.formBlock,children:[w.jsx("label",{htmlFor:"address",className:uo.label,children:"Delivery"}),w.jsxs("label",{htmlFor:"courier",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"courier",value:"courier",...d("delivery",{required:"Delivery is required"}),autoComplete:"off"}),"Courier"]}),w.jsxs("label",{htmlFor:"nova-poshta",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"nova-poshta",value:"nova-poshta",...d("delivery",{required:"Delivery is required"}),autoComplete:"off"}),"Nova Poshta"]}),w.jsxs("label",{htmlFor:"ukrposhta",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"ukrposhta",value:"ukrposhta",...d("delivery",{required:"Delivery is required"}),autoComplete:"off"}),"Ukrposhta"]}),w.jsxs("label",{htmlFor:"self-pickup",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"self-pickup",value:"self-pickup",...d("delivery",{required:"Delivery is required"}),autoComplete:"off"}),"Self-pickup"]}),v.delivery&&w.jsx("p",{className:"text-red-400 text-sm",children:v.delivery.message}),w.jsx("input",{placeholder:"Address..",type:"text",id:"address",...d("address",{required:"Address is required"}),autoComplete:"address-line1"}),v.address&&w.jsx("p",{className:"text-red-400 text-sm",children:v.address.message})]}),w.jsxs("div",{className:uo.formBlock,children:[w.jsx("label",{htmlFor:"payment",className:uo.label,children:"Payment"}),w.jsxs("label",{htmlFor:"Privat24",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"Privat24",value:"Privat24",...d("payment",{required:"Payment is required"}),autoComplete:"off"}),"Privat 24"]}),w.jsxs("label",{htmlFor:"Monobank",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"Monobank",value:"Monobank",...d("payment",{required:"Payment is required"}),autoComplete:"off"}),"Monobank"]}),w.jsxs("label",{htmlFor:"Abank",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"Abank",value:"Abank",...d("payment",{required:"Payment is required"}),autoComplete:"off"}),"Abank"]}),w.jsxs("label",{htmlFor:"Sense Bank",className:"flex gap-2",children:[w.jsx("input",{type:"radio",id:"Sense Bank",value:"Sense Bank",...d("payment",{required:"Payment is required"}),autoComplete:"off"}),"Sense Bank"]}),v.payment&&w.jsx("p",{className:"text-red-400 text-sm",children:v.payment.message}),w.jsx(Qk,{name:"cardNumber",control:c,rules:{required:"Card number is required",pattern:{value:/^[0-9\s]{19}$/,message:"Invalid card number"}},render:({field:H})=>w.jsx("input",{...H,placeholder:"Card number...",type:"text",id:"payment",maxLength:19,inputMode:"numeric",pattern:"[0-9\\s]*",onChange:Q=>H.onChange(fF(Q.target.value)),autoComplete:"cc-number"})}),v.cardNumber&&w.jsx("p",{className:"text-red-400 text-sm",children:v.cardNumber.message})]}),w.jsxs("div",{className:uo.formBlock,children:[w.jsx("label",{htmlFor:"comment",className:uo.label,children:"Your comment"}),w.jsx("textarea",{placeholder:"Comment...",id:"comment",...d("comment"),autoComplete:"off"})]})]}),w.jsx(eQ,{isSubmitting:x,formRef:T})]})]})})}function nQ(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(tQ,{}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}const iQ="_container_1ltnm_2",rQ="_title_1ltnm_9",sQ="_text_1ltnm_26",oQ="_suplabel_1ltnm_43",aQ="_label_1ltnm_60",lQ="_sublabel_1ltnm_78",uQ="_viewall_1ltnm_89",Sa={container:iQ,title:rQ,text:sQ,suplabel:oQ,label:aQ,sublabel:lQ,viewall:uQ};class nh{constructor({suplabel:e,label:n,link:i,img:r,sublabel:s="read the article"}){kt(this,"_suplabel");kt(this,"_label");kt(this,"_sublabel");kt(this,"_link");kt(this,"_img");this._suplabel=e,this._label=n,this._sublabel=s,this._link=i,this._img=r}get suplabel(){return this._suplabel}get label(){return this._label}get sublabel(){return this._sublabel}get link(){return this._link}get img(){return this._img}}const cQ=new nh({suplabel:"Wine",label:"THE WINE OF GRENACHE: STYLE COMPARISON",link:"https://www.winecellar.co.za/grenache/?srsltid=AfmBOop22ge3BuyPtDxjThREZQVpEI1abbxv8zFAdF44TEIcZBEkgstx",img:"./ArticlesPage/1.png",sublabel:"read the article"}),dQ=new nh({suplabel:"Spirits",label:"LITTLE GROUNDERS INSIDE CHAMPAGNE",link:"https://www.champagne.fr/en/discovering-champagne",img:"./ArticlesPage/2.png",sublabel:"read the article"}),hQ=new nh({suplabel:"Whiskey",label:"INVESTMENT IN ARMAGNAC: IS IT WORTH?",link:"https://splintinvest.com/en/blog/invest-in-armagnac/",img:"./ArticlesPage/3.png",sublabel:"read the article"}),fQ=new nh({suplabel:"Wine",label:"THE WINE OF GRENACHE: STYLE COMPARISON",link:"https://www.guildsomm.com/public_content/features/articles/b/guildsomm-blog/posts/grenache-profile",img:"./ArticlesPage/4.png",sublabel:"read the article"}),pQ=new nh({suplabel:"Geography",label:"WINE REGIONS OF THE WORLD",link:"https://worldwineregions.com/wwrmap/#view=4.32/48.73/17.8",img:"./ArticlesPage/5.png",sublabel:"read the article"}),mQ=new nh({suplabel:"Gin",label:"THE HISTORY AND STYLES OF GIN",link:"https://www.thewhiskyexchange.com/inspiration/article/17553/gin",img:"./ArticlesPage/6.png",sublabel:"read the article"}),gQ=[cQ,dQ,hQ,fQ,pQ,mQ];function vQ({article:t}){return w.jsxs("a",{target:"_blank",href:t.link,className:"relative w-full max-w-full h-[360px] overflow-hidden group",children:[w.jsxs("div",{className:"absolute z-3 inset-0 bg-[#00000080] group-hover:bg-[#000000ad] flex flex-col justify-center items-center p-4 gap-[10%] transitioned",children:[w.jsx("h3",{className:Sa.suplabel,children:t.suplabel}),w.jsx("h2",{className:Sa.label,children:t.label}),w.jsx("h3",{className:`${Sa.sublabel} relative top-[20%] opacity-0 group-hover:underline group-hover:opacity-100 group-hover:top-[0%] transitioned`,children:t.sublabel})]}),w.jsx("img",{src:t.img,alt:t.label,className:"w-full h-full object-cover"})]})}function _Q(){const{opacity:t,blockRef:e}=Ro();return w.jsxs("section",{ref:e,className:`${Sa.container} relative flex flex-wrap gap-[10px] !pt-[70px] !pb-[70px] !max-md:pt-[40px]`,children:[gQ.map((n,i)=>w.jsx("div",{className:"flex-[0_1_calc(50%-10px)] max-lg:flex-[1_1_100%] relative z-2",children:w.jsx(vQ,{article:n})},i)),w.jsx(Gt,{className:`pt-[20px] hover:underline ${Sa.viewall}`,to:"/Soon",children:"View all"}),w.jsx("div",{style:{opacity:t},className:"absolute w-[902px] h-[509px] top-[-5%] left-[-10%] rotate-180 max-xl:top-0",children:w.jsx("img",{src:"./WineSpots/wine-spot-1.png",alt:"wine-spot-1"})})]})}function yQ(){return w.jsx(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:Sa.container,children:w.jsxs("div",{className:"flex items-center justify-between max-lg:flex-col gap-[40px] pt-[40px]",children:[w.jsx(Ge.h2,{variants:In,className:`${Sa.title} max-w-[555px] max-lg:text-center`,children:"Articles about wine and strong drinks"}),w.jsxs("div",{className:"flex gap-x-26 gap-y-4 max-w-[740px] max-sm:flex-col",children:[w.jsx("p",{className:Sa.text,children:"Simple and clear about wine styles, regions, varieties,  how to choose a wine, what to drink it with and from which glass, the types and characteristics of whiskey, the difference between sparkling wine and champagne."}),w.jsx("p",{className:Sa.text,children:"It also explains the aging process, the influence of climate and soil on taste, how to properly store bottles, the nuances of wine tasting, the key differences between bourbon and scotch, and the secrets behind the finest sparkling wines."})]})]})})}function wQ(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(yQ,{}),w.jsx(_Q,{}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}const xQ=mu()(wv(Mx(t=>({isFullAgedActive:!0,setIsFullAgedActive:e=>t({isFullAgedActive:e})}),{name:"isFullAged"}))),bQ="data:image/svg+xml,%3csvg%20width='37'%20height='37'%20viewBox='0%200%2037%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.8849%202.16103C18.9955%202.20719%2019.0995%202.27408%2019.191%202.36171C19.1968%202.36733%2019.2026%202.37302%2019.2084%202.37879L25.3731%208.54354C25.7636%208.93407%2025.7636%209.56723%2025.3731%209.95776C24.9826%2010.3483%2024.3494%2010.3483%2023.9589%209.95776L19.4993%205.4982V23.1257C19.4993%2023.6779%2019.0516%2024.1257%2018.4993%2024.1257C17.9471%2024.1257%2017.4993%2023.6779%2017.4993%2023.1257V5.49819L13.0398%209.95776C12.6493%2010.3483%2012.0161%2010.3483%2011.6256%209.95776C11.235%209.56723%2011.235%208.93407%2011.6256%208.54354L17.7922%202.37688C17.9867%202.18238%2018.2414%202.08475%2018.4963%202.08399C18.4973%202.08399%2018.4983%202.08398%2018.4993%202.08398C18.636%202.08398%2018.7663%202.1114%2018.8849%202.16103ZM6.16602%2017.5C6.7183%2017.5%207.16602%2017.9477%207.16602%2018.5V30.8333C7.16602%2031.3859%207.38551%2031.9158%207.77621%2032.3065C8.16691%2032.6972%208.69681%2032.9167%209.24935%2032.9167H27.7493C28.3019%2032.9167%2028.8318%2032.6972%2029.2225%2032.3065C29.6132%2031.9158%2029.8327%2031.3859%2029.8327%2030.8333V18.5C29.8327%2017.9477%2030.2804%2017.5%2030.8327%2017.5C31.385%2017.5%2031.8327%2017.9477%2031.8327%2018.5V30.8333C31.8327%2031.9163%2031.4025%2032.9549%2030.6367%2033.7207C29.8709%2034.4865%2028.8323%2034.9167%2027.7493%2034.9167H9.24935C8.16638%2034.9167%207.12777%2034.4865%206.362%2033.7207C5.59622%2032.9549%205.16602%2031.9163%205.16602%2030.8333V18.5C5.16602%2017.9477%205.61373%2017.5%206.16602%2017.5Z'%20fill='url(%23paint0_linear_2072_814)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_2072_814'%20x1='5.16602'%20y1='2.08398'%20x2='33.1608'%20y2='3.25843'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%237A0000'/%3e%3cstop%20offset='1'%20stop-color='%23990000'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function SQ({country:t}){const e=t?gF(t):null;return w.jsxs("div",{className:"max-w-[122px] flex flex-col gap-[25px] items-center justify-center w-full [&>img]:w-[122px] [&>img]:h-[122px] [&>img]:object-cover max-md:flex-row max-md:!mx-auto max-md:text-center max-[450px]:[&>img]:w-[82px] max-[450px]:[&>img]:h-[82px]",children:[t&&e==="europe"&&w.jsxs(w.Fragment,{children:[w.jsx("img",{src:"/wineset/PageProduct/e1.jpg",alt:"europe 1"}),w.jsx("img",{src:"/wineset/PageProduct/e2.jpg",alt:"europe 2"}),w.jsx("img",{src:"/wineset/PageProduct/e3.jpg",alt:"europe 3"})]}),t&&e==="asia"&&w.jsxs(w.Fragment,{children:[w.jsx("img",{src:"/wineset/PageProduct/a1.jpg",alt:"asia 1"}),w.jsx("img",{src:"/wineset/PageProduct/a2.jpg",alt:"asia 2"}),w.jsx("img",{src:"/wineset/PageProduct/a3.webp",alt:"asia 3"})]}),t&&e==="other"&&w.jsxs(w.Fragment,{children:[w.jsx("img",{src:"/wineset/PageProduct/u1.jpg",alt:"other 1"}),w.jsx("img",{src:"/wineset/PageProduct/u2.jfif",alt:"other 2"}),w.jsx("img",{src:"/wineset/PageProduct/u3.jfif",alt:"other 3"})]}),!t&&w.jsxs(w.Fragment,{children:[w.jsx("img",{src:"/wineset/PageProduct/u1.jpg",alt:"other 1"}),w.jsx("img",{src:"/wineset/PageProduct/u2.jfif",alt:"other 2"}),w.jsx("img",{src:"/wineset/PageProduct/u3.jfif",alt:"other 3"})]})]})}const TQ="/wineset/assets/1-B68VKa1k.svg",EQ="/wineset/assets/2-CyH0DlVX.svg",PQ="/wineset/assets/3-CDJQGn96.svg",QE="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.02224%200.547776C8.16733%200.0777375%208.83267%200.0777367%208.97776%200.547775L10.5241%205.5573C10.5888%205.76688%2010.7825%205.90983%2011.0018%205.90983H16.0582C16.5363%205.90983%2016.7417%206.51654%2016.3619%206.80699L12.2279%209.96866C12.0615%2010.0959%2011.9921%2010.3132%2012.0539%2010.5133L13.6224%2015.5949C13.766%2016.0601%2013.2276%2016.4353%2012.8409%2016.1395L8.80374%2013.052C8.62446%2012.9148%208.37554%2012.9148%208.19626%2013.052L4.1591%2016.1395C3.77237%2016.4353%203.234%2016.0601%203.3776%2015.5949L4.94615%2010.5133C5.00791%2010.3132%204.93846%2010.0959%204.77214%209.96866L0.638062%206.80699C0.258268%206.51654%200.463674%205.90983%200.941806%205.90983H5.99818C6.21751%205.90983%206.41124%205.76688%206.47593%205.5573L8.02224%200.547776Z'%20fill='%237A0000'/%3e%3c/svg%3e",YE="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.02224%200.547776C8.16733%200.0777375%208.83267%200.0777367%208.97776%200.547775L10.5241%205.5573C10.5888%205.76688%2010.7825%205.90983%2011.0018%205.90983H16.0582C16.5363%205.90983%2016.7417%206.51654%2016.3619%206.80699L12.2279%209.96866C12.0615%2010.0959%2011.9921%2010.3132%2012.0539%2010.5133L13.6224%2015.5949C13.766%2016.0601%2013.2276%2016.4353%2012.8409%2016.1395L8.80374%2013.052C8.62446%2012.9148%208.37554%2012.9148%208.19626%2013.052L4.1591%2016.1395C3.77237%2016.4353%203.234%2016.0601%203.3776%2015.5949L4.94615%2010.5133C5.00791%2010.3132%204.93846%2010.0959%204.77214%209.96866L0.638062%206.80699C0.258268%206.51654%200.463674%205.90983%200.941806%205.90983H5.99818C6.21751%205.90983%206.41124%205.76688%206.47593%205.5573L8.02224%200.547776Z'%20fill='%2312121250'/%3e%3c/svg%3e";function d1({rating:t}){return w.jsxs("div",{className:"w-[155px] flex gap-3 justify-between items-center",style:{userSelect:"none"},children:[w.jsx("span",{style:{userSelect:"none"},children:t.toFixed(1)}),w.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((e,n)=>{const i=t-Math.floor(t);return n<Math.floor(t)?w.jsx("img",{style:{userSelect:"none",pointerEvents:"none"},className:"w-5",src:QE,alt:"star"},n):n<Math.floor(t)+i?w.jsxs("div",{className:"relative w-5",children:[w.jsx("img",{style:{userSelect:"none",pointerEvents:"none"},className:"absolute inset-0 w-full",src:YE,alt:"half star"}),w.jsx("img",{className:"absolute inset-0 w-full",src:QE,alt:"empty star",style:{clipPath:`inset(0 ${100-i*100}% 0 0)`,userSelect:"none",pointerEvents:"none"}})]},n):w.jsx("img",{style:{userSelect:"none",pointerEvents:"none"},className:"w-5",src:YE,alt:"empty star"},n)})})]})}var ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fc=typeof window>"u"||"Deno"in globalThis;function as(){}function CQ(t,e){return typeof t=="function"?t(e):t}function $y(t){return typeof t=="number"&&t>=0&&t!==1/0}function pL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vd(t,e){return typeof t=="function"?t(e):t}function js(t,e){return typeof t=="function"?t(e):t}function XE(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:l,stale:c}=t;if(l){if(i){if(e.queryHash!==h1(l,e.options))return!1}else if(!kf(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||s&&!s(e))}function JE(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(pc(e.options.mutationKey)!==pc(s))return!1}else if(!kf(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function h1(t,e){return((e==null?void 0:e.queryKeyHashFn)||pc)(t)}function pc(t){return JSON.stringify(t,(e,n)=>Hy(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function kf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>kf(t[n],e[n])):!1}function mL(t,e){if(t===e)return t;const n=eP(t)&&eP(e);if(n||Hy(t)&&Hy(e)){const i=n?t:Object.keys(t),r=i.length,s=n?e:Object.keys(e),l=s.length,c=n?[]:{};let d=0;for(let p=0;p<l;p++){const m=n?p:s[p];(!n&&i.includes(m)||n)&&t[m]===void 0&&e[m]===void 0?(c[m]=void 0,d++):(c[m]=mL(t[m],e[m]),c[m]===t[m]&&t[m]!==void 0&&d++)}return r===l&&d===r?t:c}return e}function zg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function eP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hy(t){if(!tP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tP(t){return Object.prototype.toString.call(t)==="[object Object]"}function IQ(t){return new Promise(e=>{setTimeout(e,t)})}function Wy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mL(t,e):e}function AQ(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function kQ(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var f1=Symbol();function gL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===f1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Qu,zl,_d,aP,RQ=(aP=class extends ih{constructor(){super();et(this,Qu);et(this,zl);et(this,_d);je(this,_d,e=>{if(!fc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,zl)||this.setEventListener(J(this,_d))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,zl))==null||e.call(this),je(this,zl,void 0))}setEventListener(e){var n;je(this,_d,e),(n=J(this,zl))==null||n.call(this),je(this,zl,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){J(this,Qu)!==e&&(je(this,Qu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,Qu)=="boolean"?J(this,Qu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qu=new WeakMap,zl=new WeakMap,_d=new WeakMap,aP),p1=new RQ,yd,Ul,wd,lP,LQ=(lP=class extends ih{constructor(){super();et(this,yd,!0);et(this,Ul);et(this,wd);je(this,wd,e=>{if(!fc&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){J(this,Ul)||this.setEventListener(J(this,wd))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Ul))==null||e.call(this),je(this,Ul,void 0))}setEventListener(e){var n;je(this,wd,e),(n=J(this,Ul))==null||n.call(this),je(this,Ul,e(this.setOnline.bind(this)))}setOnline(e){J(this,yd)!==e&&(je(this,yd,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return J(this,yd)}},yd=new WeakMap,Ul=new WeakMap,wd=new WeakMap,lP),Ug=new LQ;function qy(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}function OQ(t){return Math.min(1e3*2**t,3e4)}function vL(t){return(t??"online")==="online"?Ug.isOnline():!0}var _L=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function F_(t){return t instanceof _L}function yL(t){let e=!1,n=0,i=!1,r;const s=qy(),l=C=>{var k;i||(x(new _L(C)),(k=t.abort)==null||k.call(t))},c=()=>{e=!0},d=()=>{e=!1},p=()=>p1.isFocused()&&(t.networkMode==="always"||Ug.isOnline())&&t.canRun(),m=()=>vL(t.networkMode)&&t.canRun(),v=C=>{var k;i||(i=!0,(k=t.onSuccess)==null||k.call(t,C),r==null||r(),s.resolve(C))},x=C=>{var k;i||(i=!0,(k=t.onError)==null||k.call(t,C),r==null||r(),s.reject(C))},T=()=>new Promise(C=>{var k;r=R=>{(i||p())&&C(R)},(k=t.onPause)==null||k.call(t)}).then(()=>{var C;r=void 0,i||(C=t.onContinue)==null||C.call(t)}),I=()=>{if(i)return;let C;const k=n===0?t.initialPromise:void 0;try{C=k??t.fn()}catch(R){C=Promise.reject(R)}Promise.resolve(C).then(v).catch(R=>{var Q;if(i)return;const F=t.retry??(fc?0:3),D=t.retryDelay??OQ,Z=typeof D=="function"?D(n,R):D,H=F===!0||typeof F=="number"&&n<F||typeof F=="function"&&F(n,R);if(e||!H){x(R);return}n++,(Q=t.onFail)==null||Q.call(t,n,R),IQ(Z).then(()=>p()?void 0:T()).then(()=>{e?x(R):I()})})};return{promise:s,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?I():T().then(I),s)}}var NQ=t=>setTimeout(t,0);function MQ(){let t=[],e=0,n=c=>{c()},i=c=>{c()},r=NQ;const s=c=>{e?t.push(c):r(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&r(()=>{i(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{s(()=>{c(...d)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{r=c}}}var Hn=MQ(),Yu,uP,wL=(uP=class{constructor(){et(this,Yu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$y(this.gcTime)&&je(this,Yu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fc?1/0:5*60*1e3))}clearGcTimeout(){J(this,Yu)&&(clearTimeout(J(this,Yu)),je(this,Yu,void 0))}},Yu=new WeakMap,uP),xd,bd,os,Xu,Ai,Rf,Ju,Ds,ga,cP,DQ=(cP=class extends wL{constructor(e){super();et(this,Ds);et(this,xd);et(this,bd);et(this,os);et(this,Xu);et(this,Ai);et(this,Rf);et(this,Ju);je(this,Ju,!1),je(this,Rf,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,Xu,e.client),je(this,os,J(this,Xu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,xd,VQ(this.options)),this.state=e.state??J(this,xd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,Ai))==null?void 0:e.promise}setOptions(e){this.options={...J(this,Rf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,os).remove(this)}setData(e,n){const i=Wy(this.state.data,e,this.options);return bt(this,Ds,ga).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){bt(this,Ds,ga).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,r;const n=(i=J(this,Ai))==null?void 0:i.promise;return(r=J(this,Ai))==null||r.cancel(e),n?n.then(as).catch(as):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,xd))}isActive(){return this.observers.some(e=>js(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===f1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!pL(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,Ai))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,Ai))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,os).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(J(this,Ai)&&(J(this,Ju)?J(this,Ai).cancel({revert:!0}):J(this,Ai).cancelRetry()),this.scheduleGc()),J(this,os).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,Ds,ga).call(this,{type:"invalidate"})}fetch(e,n){var d,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,Ai))return J(this,Ai).continueRetry(),J(this,Ai).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(x=>x.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,r=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(je(this,Ju,!0),i.signal)})},s=()=>{const v=gL(this.options,n),x={client:J(this,Xu),queryKey:this.queryKey,meta:this.meta};return r(x),je(this,Ju,!1),this.options.persister?this.options.persister(v,x,this):v(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,Xu),state:this.state,fetchFn:s};r(l),(d=this.options.behavior)==null||d.onFetch(l,this),je(this,bd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&bt(this,Ds,ga).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=v=>{var x,T,I,C;F_(v)&&v.silent||bt(this,Ds,ga).call(this,{type:"error",error:v}),F_(v)||((T=(x=J(this,os).config).onError)==null||T.call(x,v,this),(C=(I=J(this,os).config).onSettled)==null||C.call(I,this.state.data,v,this)),this.scheduleGc()};return je(this,Ai,yL({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var x,T,I,C;if(v===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(k){c(k);return}(T=(x=J(this,os).config).onSuccess)==null||T.call(x,v,this),(C=(I=J(this,os).config).onSettled)==null||C.call(I,v,this.state.error,this),this.scheduleGc()},onError:c,onFail:(v,x)=>{bt(this,Ds,ga).call(this,{type:"failed",failureCount:v,error:x})},onPause:()=>{bt(this,Ds,ga).call(this,{type:"pause"})},onContinue:()=>{bt(this,Ds,ga).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),J(this,Ai).start()}},xd=new WeakMap,bd=new WeakMap,os=new WeakMap,Xu=new WeakMap,Ai=new WeakMap,Rf=new WeakMap,Ju=new WeakMap,Ds=new WeakSet,ga=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...xL(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return F_(r)&&r.revert&&J(this,bd)?{...J(this,bd),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Hn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),J(this,os).notify({query:this,type:"updated",action:e})})},cP);function xL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function VQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ho,dP,jQ=(dP=class extends ih{constructor(e={}){super();et(this,ho);this.config=e,je(this,ho,new Map)}build(e,n,i){const r=n.queryKey,s=n.queryHash??h1(r,n);let l=this.get(s);return l||(l=new DQ({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){J(this,ho).has(e.queryHash)||(J(this,ho).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,ho).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,ho).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,ho).get(e)}getAll(){return[...J(this,ho).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>XE(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>XE(e,i)):n}notify(e){Hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ho=new WeakMap,dP),fo,Wi,ec,po,Dl,hP,FQ=(hP=class extends wL{constructor(e){super();et(this,po);et(this,fo);et(this,Wi);et(this,ec);this.mutationId=e.mutationId,je(this,Wi,e.mutationCache),je(this,fo,[]),this.state=e.state||bL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,fo).includes(e)||(J(this,fo).push(e),this.clearGcTimeout(),J(this,Wi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,fo,J(this,fo).filter(n=>n!==e)),this.scheduleGc(),J(this,Wi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,fo).length||(this.state.status==="pending"?this.scheduleGc():J(this,Wi).remove(this))}continue(){var e;return((e=J(this,ec))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,l,c,d,p,m,v,x,T,I,C,k,R,F,D,Z,H,Q,U,N;const n=()=>{bt(this,po,Dl).call(this,{type:"continue"})};je(this,ec,yL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(V,z)=>{bt(this,po,Dl).call(this,{type:"failed",failureCount:V,error:z})},onPause:()=>{bt(this,po,Dl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Wi).canRun(this)}));const i=this.state.status==="pending",r=!J(this,ec).canStart();try{if(i)n();else{bt(this,po,Dl).call(this,{type:"pending",variables:e,isPaused:r}),await((l=(s=J(this,Wi).config).onMutate)==null?void 0:l.call(s,e,this));const z=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e));z!==this.state.context&&bt(this,po,Dl).call(this,{type:"pending",context:z,variables:e,isPaused:r})}const V=await J(this,ec).start();return await((m=(p=J(this,Wi).config).onSuccess)==null?void 0:m.call(p,V,e,this.state.context,this)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,V,e,this.state.context)),await((I=(T=J(this,Wi).config).onSettled)==null?void 0:I.call(T,V,null,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,V,null,e,this.state.context)),bt(this,po,Dl).call(this,{type:"success",data:V}),V}catch(V){try{throw await((F=(R=J(this,Wi).config).onError)==null?void 0:F.call(R,V,e,this.state.context,this)),await((Z=(D=this.options).onError)==null?void 0:Z.call(D,V,e,this.state.context)),await((Q=(H=J(this,Wi).config).onSettled)==null?void 0:Q.call(H,void 0,V,this.state.variables,this.state.context,this)),await((N=(U=this.options).onSettled)==null?void 0:N.call(U,void 0,V,e,this.state.context)),V}finally{bt(this,po,Dl).call(this,{type:"error",error:V})}}finally{J(this,Wi).runNext(this)}}},fo=new WeakMap,Wi=new WeakMap,ec=new WeakMap,po=new WeakSet,Dl=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Hn.batch(()=>{J(this,fo).forEach(i=>{i.onMutationUpdate(e)}),J(this,Wi).notify({mutation:this,type:"updated",action:e})})},hP);function bL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var va,Vs,Lf,fP,BQ=(fP=class extends ih{constructor(e={}){super();et(this,va);et(this,Vs);et(this,Lf);this.config=e,je(this,va,new Set),je(this,Vs,new Map),je(this,Lf,0)}build(e,n,i){const r=new FQ({mutationCache:this,mutationId:++am(this,Lf)._,options:e.defaultMutationOptions(n),state:i});return this.add(r),r}add(e){J(this,va).add(e);const n=Am(e);if(typeof n=="string"){const i=J(this,Vs).get(n);i?i.push(e):J(this,Vs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,va).delete(e)){const n=Am(e);if(typeof n=="string"){const i=J(this,Vs).get(n);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&J(this,Vs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Am(e);if(typeof n=="string"){const i=J(this,Vs).get(n),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const n=Am(e);if(typeof n=="string"){const r=(i=J(this,Vs).get(n))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Hn.batch(()=>{J(this,va).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,va).clear(),J(this,Vs).clear()})}getAll(){return Array.from(J(this,va))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>JE(n,i))}findAll(e={}){return this.getAll().filter(n=>JE(e,n))}notify(e){Hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Hn.batch(()=>Promise.all(e.map(n=>n.continue().catch(as))))}},va=new WeakMap,Vs=new WeakMap,Lf=new WeakMap,fP);function Am(t){var e;return(e=t.options.scope)==null?void 0:e.id}function nP(t){return{onFetch:(e,n)=>{var m,v,x,T,I;const i=e.options,r=(x=(v=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:v.fetchMore)==null?void 0:x.direction,s=((T=e.state.data)==null?void 0:T.pages)||[],l=((I=e.state.data)==null?void 0:I.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const p=async()=>{let C=!1;const k=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(e.signal.aborted?C=!0:e.signal.addEventListener("abort",()=>{C=!0}),e.signal)})},R=gL(e.options,e.fetchOptions),F=async(D,Z,H)=>{if(C)return Promise.reject();if(Z==null&&D.pages.length)return Promise.resolve(D);const Q={client:e.client,queryKey:e.queryKey,pageParam:Z,direction:H?"backward":"forward",meta:e.options.meta};k(Q);const U=await R(Q),{maxPages:N}=e.options,V=H?kQ:AQ;return{pages:V(D.pages,U,N),pageParams:V(D.pageParams,Z,N)}};if(r&&s.length){const D=r==="backward",Z=D?zQ:iP,H={pages:s,pageParams:l},Q=Z(i,H);c=await F(H,Q,D)}else{const D=t??s.length;do{const Z=d===0?l[0]??i.initialPageParam:iP(i,c);if(d>0&&Z==null)break;c=await F(c,Z),d++}while(d<D)}return c};e.options.persister?e.fetchFn=()=>{var C,k;return(k=(C=e.options).persister)==null?void 0:k.call(C,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=p}}}function iP(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function zQ(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var _n,$l,Hl,Sd,Td,Wl,Ed,Pd,pP,UQ=(pP=class{constructor(t={}){et(this,_n);et(this,$l);et(this,Hl);et(this,Sd);et(this,Td);et(this,Wl);et(this,Ed);et(this,Pd);je(this,_n,t.queryCache||new jQ),je(this,$l,t.mutationCache||new BQ),je(this,Hl,t.defaultOptions||{}),je(this,Sd,new Map),je(this,Td,new Map),je(this,Wl,0)}mount(){am(this,Wl)._++,J(this,Wl)===1&&(je(this,Ed,p1.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,_n).onFocus())})),je(this,Pd,Ug.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,_n).onOnline())})))}unmount(){var t,e;am(this,Wl)._--,J(this,Wl)===0&&((t=J(this,Ed))==null||t.call(this),je(this,Ed,void 0),(e=J(this,Pd))==null||e.call(this),je(this,Pd,void 0))}isFetching(t){return J(this,_n).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,$l).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,_n).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=J(this,_n).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return J(this,_n).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),r=J(this,_n).get(i.queryHash),s=r==null?void 0:r.state.data,l=CQ(e,s);if(l!==void 0)return J(this,_n).build(this,i).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Hn.batch(()=>J(this,_n).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,_n).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,_n);Hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,_n);return Hn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Hn.batch(()=>J(this,_n).findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(as).catch(as)}invalidateQueries(t,e={}){return Hn.batch(()=>(J(this,_n).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Hn.batch(()=>J(this,_n).findAll(t).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(as)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(as)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,_n).build(this,e);return n.isStaleByTime(vd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(as).catch(as)}fetchInfiniteQuery(t){return t.behavior=nP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(as).catch(as)}ensureInfiniteQueryData(t){return t.behavior=nP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ug.isOnline()?J(this,$l).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,_n)}getMutationCache(){return J(this,$l)}getDefaultOptions(){return J(this,Hl)}setDefaultOptions(t){je(this,Hl,t)}setQueryDefaults(t,e){J(this,Sd).set(pc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,Sd).values()],n={};return e.forEach(i=>{kf(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){J(this,Td).set(pc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,Td).values()],n={};return e.forEach(i=>{kf(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Hl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=h1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===f1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Hl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,_n).clear(),J(this,$l).clear()}},_n=new WeakMap,$l=new WeakMap,Hl=new WeakMap,Sd=new WeakMap,Td=new WeakMap,Wl=new WeakMap,Ed=new WeakMap,Pd=new WeakMap,pP),yr,It,Of,qi,tc,Cd,ql,Gl,Nf,Id,Ad,nc,ic,Kl,kd,zt,Zh,Gy,Ky,Zy,Qy,Yy,Xy,Jy,SL,mP,$Q=(mP=class extends ih{constructor(e,n){super();et(this,zt);et(this,yr);et(this,It);et(this,Of);et(this,qi);et(this,tc);et(this,Cd);et(this,ql);et(this,Gl);et(this,Nf);et(this,Id);et(this,Ad);et(this,nc);et(this,ic);et(this,Kl);et(this,kd,new Set);this.options=n,je(this,yr,e),je(this,Gl,null),je(this,ql,qy()),this.options.experimental_prefetchInRender||J(this,ql).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,It).addObserver(this),rP(J(this,It),this.options)?bt(this,zt,Zh).call(this):this.updateResult(),bt(this,zt,Qy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ew(J(this,It),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ew(J(this,It),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,bt(this,zt,Yy).call(this),bt(this,zt,Xy).call(this),J(this,It).removeObserver(this)}setOptions(e){const n=this.options,i=J(this,It);if(this.options=J(this,yr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof js(this.options.enabled,J(this,It))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");bt(this,zt,Jy).call(this),J(this,It).setOptions(this.options),n._defaulted&&!zg(this.options,n)&&J(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,It),observer:this});const r=this.hasListeners();r&&sP(J(this,It),i,this.options,n)&&bt(this,zt,Zh).call(this),this.updateResult(),r&&(J(this,It)!==i||js(this.options.enabled,J(this,It))!==js(n.enabled,J(this,It))||vd(this.options.staleTime,J(this,It))!==vd(n.staleTime,J(this,It)))&&bt(this,zt,Gy).call(this);const s=bt(this,zt,Ky).call(this);r&&(J(this,It)!==i||js(this.options.enabled,J(this,It))!==js(n.enabled,J(this,It))||s!==J(this,Kl))&&bt(this,zt,Zy).call(this,s)}getOptimisticResult(e){const n=J(this,yr).getQueryCache().build(J(this,yr),e),i=this.createResult(n,e);return WQ(this,i)&&(je(this,qi,i),je(this,Cd,this.options),je(this,tc,J(this,It).state)),i}getCurrentResult(){return J(this,qi)}trackResult(e,n){const i={};return Object.keys(e).forEach(r=>{Object.defineProperty(i,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n==null||n(r),e[r])})}),i}trackProp(e){J(this,kd).add(e)}getCurrentQuery(){return J(this,It)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=J(this,yr).defaultQueryOptions(e),i=J(this,yr).getQueryCache().build(J(this,yr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return bt(this,zt,Zh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,qi)))}createResult(e,n){var V;const i=J(this,It),r=this.options,s=J(this,qi),l=J(this,tc),c=J(this,Cd),p=e!==i?e.state:J(this,Of),{state:m}=e;let v={...m},x=!1,T;if(n._optimisticResults){const z=this.hasListeners(),G=!z&&rP(e,n),q=z&&sP(e,i,n,r);(G||q)&&(v={...v,...xL(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:I,errorUpdatedAt:C,status:k}=v;T=v.data;let R=!1;if(n.placeholderData!==void 0&&T===void 0&&k==="pending"){let z;s!=null&&s.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(z=s.data,R=!0):z=typeof n.placeholderData=="function"?n.placeholderData((V=J(this,Ad))==null?void 0:V.state.data,J(this,Ad)):n.placeholderData,z!==void 0&&(k="success",T=Wy(s==null?void 0:s.data,z,n),x=!0)}if(n.select&&T!==void 0&&!R)if(s&&T===(l==null?void 0:l.data)&&n.select===J(this,Nf))T=J(this,Id);else try{je(this,Nf,n.select),T=n.select(T),T=Wy(s==null?void 0:s.data,T,n),je(this,Id,T),je(this,Gl,null)}catch(z){je(this,Gl,z)}J(this,Gl)&&(I=J(this,Gl),T=J(this,Id),C=Date.now(),k="error");const F=v.fetchStatus==="fetching",D=k==="pending",Z=k==="error",H=D&&F,Q=T!==void 0,N={status:k,fetchStatus:v.fetchStatus,isPending:D,isSuccess:k==="success",isError:Z,isInitialLoading:H,isLoading:H,data:T,dataUpdatedAt:v.dataUpdatedAt,error:I,errorUpdatedAt:C,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:F,isRefetching:F&&!D,isLoadingError:Z&&!Q,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:Z&&Q,isStale:m1(e,n),refetch:this.refetch,promise:J(this,ql)};if(this.options.experimental_prefetchInRender){const z=$=>{N.status==="error"?$.reject(N.error):N.data!==void 0&&$.resolve(N.data)},G=()=>{const $=je(this,ql,N.promise=qy());z($)},q=J(this,ql);switch(q.status){case"pending":e.queryHash===i.queryHash&&z(q);break;case"fulfilled":(N.status==="error"||N.data!==q.value)&&G();break;case"rejected":(N.status!=="error"||N.error!==q.reason)&&G();break}}return N}updateResult(){const e=J(this,qi),n=this.createResult(J(this,It),this.options);if(je(this,tc,J(this,It).state),je(this,Cd,this.options),J(this,tc).data!==void 0&&je(this,Ad,J(this,It)),zg(n,e))return;je(this,qi,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!J(this,kd).size)return!0;const l=new Set(s??J(this,kd));return this.options.throwOnError&&l.add("error"),Object.keys(J(this,qi)).some(c=>{const d=c;return J(this,qi)[d]!==e[d]&&l.has(d)})};bt(this,zt,SL).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&bt(this,zt,Qy).call(this)}},yr=new WeakMap,It=new WeakMap,Of=new WeakMap,qi=new WeakMap,tc=new WeakMap,Cd=new WeakMap,ql=new WeakMap,Gl=new WeakMap,Nf=new WeakMap,Id=new WeakMap,Ad=new WeakMap,nc=new WeakMap,ic=new WeakMap,Kl=new WeakMap,kd=new WeakMap,zt=new WeakSet,Zh=function(e){bt(this,zt,Jy).call(this);let n=J(this,It).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(as)),n},Gy=function(){bt(this,zt,Yy).call(this);const e=vd(this.options.staleTime,J(this,It));if(fc||J(this,qi).isStale||!$y(e))return;const i=pL(J(this,qi).dataUpdatedAt,e)+1;je(this,nc,setTimeout(()=>{J(this,qi).isStale||this.updateResult()},i))},Ky=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,It)):this.options.refetchInterval)??!1},Zy=function(e){bt(this,zt,Xy).call(this),je(this,Kl,e),!(fc||js(this.options.enabled,J(this,It))===!1||!$y(J(this,Kl))||J(this,Kl)===0)&&je(this,ic,setInterval(()=>{(this.options.refetchIntervalInBackground||p1.isFocused())&&bt(this,zt,Zh).call(this)},J(this,Kl)))},Qy=function(){bt(this,zt,Gy).call(this),bt(this,zt,Zy).call(this,bt(this,zt,Ky).call(this))},Yy=function(){J(this,nc)&&(clearTimeout(J(this,nc)),je(this,nc,void 0))},Xy=function(){J(this,ic)&&(clearInterval(J(this,ic)),je(this,ic,void 0))},Jy=function(){const e=J(this,yr).getQueryCache().build(J(this,yr),this.options);if(e===J(this,It))return;const n=J(this,It);je(this,It,e),je(this,Of,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},SL=function(e){Hn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(J(this,qi))}),J(this,yr).getQueryCache().notify({query:J(this,It),type:"observerResultsUpdated"})})},mP);function HQ(t,e){return js(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function rP(t,e){return HQ(t,e)||t.state.data!==void 0&&ew(t,e,e.refetchOnMount)}function ew(t,e,n){if(js(e.enabled,t)!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&m1(t,e)}return!1}function sP(t,e,n,i){return(t!==e||js(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&m1(t,n)}function m1(t,e){return js(e.enabled,t)!==!1&&t.isStaleByTime(vd(e.staleTime,t))}function WQ(t,e){return!zg(t.getCurrentResult(),e)}var Zl,Ql,wr,_a,ka,Xm,tw,gP,qQ=(gP=class extends ih{constructor(n,i){super();et(this,ka);et(this,Zl);et(this,Ql);et(this,wr);et(this,_a);je(this,Zl,n),this.setOptions(i),this.bindMethods(),bt(this,ka,Xm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const i=this.options;this.options=J(this,Zl).defaultMutationOptions(n),zg(this.options,i)||J(this,Zl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,wr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&pc(i.mutationKey)!==pc(this.options.mutationKey)?this.reset():((r=J(this,wr))==null?void 0:r.state.status)==="pending"&&J(this,wr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=J(this,wr))==null||n.removeObserver(this)}onMutationUpdate(n){bt(this,ka,Xm).call(this),bt(this,ka,tw).call(this,n)}getCurrentResult(){return J(this,Ql)}reset(){var n;(n=J(this,wr))==null||n.removeObserver(this),je(this,wr,void 0),bt(this,ka,Xm).call(this),bt(this,ka,tw).call(this)}mutate(n,i){var r;return je(this,_a,i),(r=J(this,wr))==null||r.removeObserver(this),je(this,wr,J(this,Zl).getMutationCache().build(J(this,Zl),this.options)),J(this,wr).addObserver(this),J(this,wr).execute(n)}},Zl=new WeakMap,Ql=new WeakMap,wr=new WeakMap,_a=new WeakMap,ka=new WeakSet,Xm=function(){var i;const n=((i=J(this,wr))==null?void 0:i.state)??bL();je(this,Ql,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tw=function(n){Hn.batch(()=>{var i,r,s,l,c,d,p,m;if(J(this,_a)&&this.hasListeners()){const v=J(this,Ql).variables,x=J(this,Ql).context;(n==null?void 0:n.type)==="success"?((r=(i=J(this,_a)).onSuccess)==null||r.call(i,n.data,v,x),(l=(s=J(this,_a)).onSettled)==null||l.call(s,n.data,null,v,x)):(n==null?void 0:n.type)==="error"&&((d=(c=J(this,_a)).onError)==null||d.call(c,n.error,v,x),(m=(p=J(this,_a)).onSettled)==null||m.call(p,void 0,n.error,v,x))}this.listeners.forEach(v=>{v(J(this,Ql))})})},gP),TL=B.createContext(void 0),Rv=t=>{const e=B.useContext(TL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},GQ=({client:t,children:e})=>(B.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(TL.Provider,{value:t,children:e})),EL=B.createContext(!1),KQ=()=>B.useContext(EL);EL.Provider;function ZQ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QQ=B.createContext(ZQ()),YQ=()=>B.useContext(QQ);function PL(t,e){return typeof t=="function"?t(...e):!!t}function nw(){}var XQ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JQ=t=>{B.useEffect(()=>{t.clearReset()},[t])},eY=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||PL(n,[t.error,i])),tY=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},nY=(t,e)=>t.isLoading&&t.isFetching&&!e,iY=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,oP=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function rY(t,e,n){var v,x,T,I,C;const i=Rv(),r=KQ(),s=YQ(),l=i.defaultQueryOptions(t);(x=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||x.call(v,l),l._optimisticResults=r?"isRestoring":"optimistic",tY(l),XQ(l,s),JQ(s);const c=!i.getQueryCache().get(l.queryHash),[d]=B.useState(()=>new e(i,l)),p=d.getOptimisticResult(l),m=!r&&t.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(k=>{const R=m?d.subscribe(Hn.batchCalls(k)):nw;return d.updateResult(),R},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),B.useEffect(()=>{d.setOptions(l)},[l,d]),iY(l,p))throw oP(l,d,s);if(eY({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if((I=(T=i.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||I.call(T,l,p),l.experimental_prefetchInRender&&!fc&&nY(p,r)){const k=c?oP(l,d,s):(C=i.getQueryCache().get(l.queryHash))==null?void 0:C.promise;k==null||k.catch(nw).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?p:d.trackResult(p)}function sY(t,e){return rY(t,$Q)}function CL(t,e){const n=Rv(),[i]=B.useState(()=>new qQ(n,t));B.useEffect(()=>{i.setOptions(t)},[i,t]);const r=B.useSyncExternalStore(B.useCallback(l=>i.subscribe(Hn.batchCalls(l)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=B.useCallback((l,c)=>{i.mutate(l,c).catch(nw)},[i]);if(r.error&&PL(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}const oY=async(t,e)=>{const n=Qf(Hs,"Products",...t,"fullReviews");await cF(n,{...e,createdAt:hF()})},aY=async(t,e)=>{const n=lc(Hs,"Products",...t,"fullReviews",e);await uF(n)},lY=async t=>{const e=Qf(Hs,"Products",...t,"fullReviews"),n=$A(e,rF("createdAt","desc"));return(await mv(n)).docs.map(r=>({id:r.id,...r.data()}))},IL=t=>sY({queryKey:["reviews",t],queryFn:()=>lY(t)}),uY=t=>{const e=Rv();return CL({mutationFn:n=>oY(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["reviews",t]})}})},cY=t=>{const e=Rv();return CL({mutationFn:n=>aY(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["reviews",t]})}})};function dY({product:t}){var s,l,c,d,p,m,v;const e=zr(t.kindOfProduct),n=t.id?t.id:"anonymous",{data:i=[]}=IL([e,"items",n]),r=vF(i);return w.jsxs("div",{className:"flex flex-col gap-[12px] font-medium !text-[18px] text-black !font-[Inter] min-w-[150px] max-w-[420px] max-md:text-center max-md:mx-auto max-md:items-center max-[500px]:mt-[-70px]",children:[w.jsxs("div",{className:"",children:["Rating (",i.length," votes):"]}),i.length>0?w.jsx(d1,{rating:r}):w.jsx("div",{className:"text-black",children:"No reviews yet"}),w.jsxs("div",{className:"flex gap-3 mb-5",children:[w.jsx("img",{src:TQ,alt:"sertificate 1"}),w.jsx("img",{src:EQ,alt:"sertificate 2"}),w.jsx("img",{src:PQ,alt:"sertificate 3"})]}),t.country&&w.jsxs("div",{className:"",children:["Country",(s=t.fullDescription)!=null&&s.region?", region":"",": ",t.country,(l=t.fullDescription)!=null&&l.region?`, ${(c=t.fullDescription)==null?void 0:c.region}`:""]}),w.jsxs("div",{className:"",children:["Product: ",zr(t.kindOfProduct)]}),((d=t==null?void 0:t.fullDescription)==null?void 0:d.shugarType)&&w.jsx("div",{children:`Shugar: ${t.fullDescription.shugarType}`}),((p=t==null?void 0:t.fullDescription)==null?void 0:p.grape)&&w.jsx("div",{children:`Grapes: ${t.fullDescription.grape}`}),((m=t==null?void 0:t.fullDescription)==null?void 0:m.maker)&&w.jsx("div",{children:`Maker: ${t.fullDescription.maker}`}),((v=t==null?void 0:t.fullDescription)==null?void 0:v.fortress)&&w.jsx("div",{children:`Fortress: ${t.fullDescription.fortress}`}),(t==null?void 0:t.volume)&&w.jsx("div",{children:`Volume: ${t.volume} l`}),(t==null?void 0:t.weight)&&w.jsx("div",{children:`Weight: ${t.weight} kg`})]})}function hY({product:t}){const[e,n]=B.useState(1),{findSameProductInCartById:i}=Yi(),{opacity:r,blockRef:s}=Ro(),{open:l}=Er(),[c,d]=B.useState("To Cart");function p(Q,U,N){if(!Q.id)return;const V=i(Q.id),G=((V==null?void 0:V.cartQuantity)??0)+e;if(U==="decrease"){e>1?(N(),d("To Cart")):d("Lack of quantity");return}G<Q.quantity?(N(),d("To Cart")):(d("Max of quantity"),l("Notification 1",w.jsx("p",{className:"mb-5",children:"Lack of stock"}),!1))}function m(Q){if(Q.id&&Q.quantity>=0){const U=i(Q.id);if(U&&U.cartQuantity&&U.cartQuantity+e<=U.quantity){Q.addToCart(e),n(1),l("Cart Updated",w.jsxs("p",{className:"mb-5",children:[e," ",Q.name," added to Cart!"]}),!1);return}if(!U&&e<Q.quantity){Q.addToCart(e),n(1),l("Cart Updated",w.jsxs("p",{className:"mb-5",children:[e," ",Q.name," added to Cart!"]}),!1);return}d("Lack of quantity"),l("Notification 2",w.jsx("p",{className:"mb-5",children:"Lack of stock"}),!1)}}const[v,x]=B.useState(void 0);B.useEffect(()=>{t instanceof Vx?t.getAsyncPrice().then(()=>x(t)):x(t)},[t]);const{addToWishlist:T,removeFromWishlist:I,wishlistIds:C}=Ao(),[k,R]=B.useState(!1),[F,D]=B.useState(Gm);B.useEffect(()=>{const Q=C.some(([U])=>U===t.id);R(Q),D(Q?Ny:Gm)},[C,t.id]);const{user:Z}=Ni(),H=()=>{Z?(k?(I(t),D(Gm)):(T(t),D(Ny)),R(!k)):l("Notification wishlist",w.jsx("p",{className:"mb-5",children:"Before adding product to wishlist, please Sign In to your account"}),!1)};return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},ref:s,className:"pt-[50px] relative",children:[w.jsxs("div",{className:"myContainer relative z-2",children:[w.jsxs("div",{className:"flex justify-between gap-7 items-center mb-[60px] max-sm:flex-col max-sm:mb-[30px]",children:[w.jsxs("div",{className:"flex flex-col gap-[30px] items-start",children:[w.jsx("div",{className:"font-medium !text-[14px] tracking-wider uppercase text-[#7a0000] font-[Inter] px-[30px] py-[16px] rounded-[100px] border-2 border-[#7a0000] max-sm:mx-auto",children:"CHOICE OF BUYERS"}),w.jsx(Ge.h1,{variants:In,className:"font-semibold !text-[56px] uppercase text-black font-[Cormorant] max-md:!text-[40px] max-[550px]:!text-[32px] max-sm:text-center",children:t.name})]}),w.jsxs("div",{className:"flex gap-[25px] items-center",children:[w.jsx("button",{onClick:()=>{l("Notification",w.jsx("p",{className:"mb-5",children:"Link has been succesfully copied to clipboard."}),!1),mF()},className:"transitioned hover:scale-110",children:w.jsx("img",{src:bQ,alt:"share"})}),w.jsx("button",{onClick:H,className:"transitioned hover:scale-110",children:w.jsx("img",{src:F,alt:"wishlist togle"})})]})]}),w.jsxs("div",{className:"flex justify-between gap-7 items-start max-xl:flex-col max-xl:justify-center",children:[w.jsxs("div",{className:"flex gap-[40px] w-full items-center max-md:flex-col max-md:justify-center max-md:text-center",children:[w.jsx(SQ,{country:t.country}),w.jsx(Jx,{product:t,imageSize:600}),w.jsx(dY,{product:t})]}),w.jsxs(Ge.div,{custom:1,variants:sc,className:"bg-[rgba(164,164,164,0.25)] py-[40px] px-[60px] min-w-[450px] max-xl:mx-auto max-[500px]:flex max-[500px]:flex-col max-[500px]:items-center max-[500px]:gap-[20px] max-[500px]:min-w-full",children:[v&&v.price!==v.getDiscountedPrice()&&w.jsxs("h3",{className:"font-[Inter] font-semibold !text-[18px] line-through text-[rgba(20,20,20,0.35)]",children:[(v.price*e).toFixed(2)," $"]}),v&&w.jsxs("div",{className:"flex gap-[30px] items-center mb-[50px] max-[500px]:mb-0 max-[500px]:flex-col ",children:[w.jsxs("h2",{className:"font-[Inter] font-semibold !text-[32px] text-[#7a0000] max-md:!text-[26px]",children:[(v.getDiscountedPrice()*e).toFixed(2)," $"]}),v&&v.price!==v.getDiscountedPrice()&&w.jsxs("h3",{className:"font-[Inter] font-medium !text-[14px] tracking-[0.05em] uppercase text-white px-[20px] py-[14px] bg-[#000] rounded",children:["-",t.discount,"%"]})]}),w.jsxs("div",{className:"flex gap-[26px] items-center max-[500px]:flex-col",children:[w.jsxs("div",{className:"font-[Inter] bg-[#F9F9FC] h-[50px] flex items-center justify-between",children:[w.jsx("button",{className:"p-[10px] text-2xl hover:bg-[#9f9f9f] transitioned",onClick:()=>p(t,"decrease",()=>n(Q=>Math.max(Q-1,1))),children:"-"}),w.jsx("div",{className:"px-[20px]",children:e}),w.jsx("button",{className:"p-[10px] text-2xl hover:bg-[#9f9f9f] transitioned",onClick:()=>p(t,"increase",()=>n(Q=>Math.min(Q+1,t.quantity))),children:"+"})]}),w.jsx("button",{className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",onClick:()=>{m(t)},children:c})]})]})]})]}),w.jsx("div",{style:{opacity:r},className:"absolute w-[702px] h-[509px] bottom-[10%] right-[-10%] rotate-180 max-lg:bottom-[-10%] max-md:right-[-50%] max-md:bottom-[0]",children:w.jsx("img",{src:"/wineset/WineSpots/wine-spot-1.png",alt:"wine-spot-1"})})]})}function fY({product:t}){const e=zr(t.kindOfProduct),n=t.id?t.id:"anonymous",{mutateAsync:i}=uY([e,"items",n]),[r,s]=B.useState({text:"",rating:4.5}),{user:l}=Ni(),{control:c,handleSubmit:d,reset:p}=ap({defaultValues:{rating:r.rating,text:r.text}}),{open:m}=Er(),v=async()=>{if(!l){m("Notification",w.jsx("p",{className:"mb-5",children:"Only an authorized user can write a review"}),!1);return}if(!r.text.trim()){m("Notification",w.jsx("p",{className:"mb-5",children:"Feedback cannot be empty!"}),!1);return}const x=r.text.replace(/\n/g,`
`);await i({text:x,userId:l.uid,userName:l.displayName||"Anonymous",userPhotoURL:l.photoURL||"",rating:r.rating}),s({text:"",rating:4.5}),p({text:"",rating:4.5})};return w.jsx("form",{onSubmit:d(v),className:"mb-5 bg-[rgba(164,164,164,0.15)] p-4",children:w.jsxs("div",{className:"flex justify-between items-center gap-6 max-[400px]:flex-col max-[400px]:gap-2",children:[w.jsxs("div",{className:"w-full",children:[w.jsxs("div",{className:"flex gap-6 items-center mb-4 max-md:flex-col max-md:items-start max-md:gap-2",children:[w.jsxs("h6",{className:"font-[Inter] font-medium !text-[18px] text-[#000000d3] max-md:!text-[16px]",children:["Rate this ",t.kindOfProduct," to make customers choose the best:"]}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"range",min:0,max:5,value:r.rating,step:.1,className:"range-slider rounded text-center bg-[rgba(164,164,164,0.15)] text-[#000] placeholder:text-[#000000a2] !text-[18px] opacity-0 cursor-pointer !h-12 absolute z-2 bottom-[-65%] left-9 w-[125px]",onChange:x=>s(T=>({...T,rating:Number(x.target.value)}))}),w.jsx(d1,{rating:r.rating})]})]}),w.jsx("div",{className:"flex items-center gap-4 max-sm:gap-2 mb-2",children:w.jsx(Qk,{name:"text",control:c,render:({field:x})=>w.jsx("textarea",{...x,placeholder:"Write your review...",className:"resize-none rounded w-full max-sm:h-[100px] max-h-[70px] scrollable text-[#000] placeholder:text-[#000000a2] !text-[18px] p-2 border-2 border-[#00000084]",onChange:T=>{s(I=>({...I,text:T.target.value})),x.onChange(T)}})})})]}),w.jsx("button",{type:"submit",className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] max-h-[50px]",children:"Send"})]})})}function pY({onConfirm:t,onCancel:e,text:n="Are you sure?"}){return w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("p",{className:"text-lg text-center",children:n}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{onClick:t,className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] max-h-[50px]",children:"Yes"}),w.jsx("button",{onClick:e,className:"px-[50px] py-[15px] text-center bg-[#7A0000] border-2 border-[#7A0000] font-semibold rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] max-h-[50px]",children:"No"})]})]})}function mY({product:t}){const e=zr(t.kindOfProduct),n=t.id?t.id:"anonymous",{user:i}=Ni(),{data:r=[],refetch:s}=IL([e,"items",n]),{mutateAsync:l}=cY([e,"items",n]),c=B.useRef(null),{open:d,close:p}=Er(),m=v=>{d("Confirm deletion",w.jsx(pY,{text:"Are you sure you want to delete the review?",onConfirm:async()=>{await l(v),s(),p()},onCancel:p}))};return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"myContainer",children:[w.jsxs(Ge.h2,{variants:In,className:"font-[Cormorant] font-medium !text-[48px] text-[#121212] max-md:!text-[32px] mb-5",children:["All reviews (",r.length,")"]}),w.jsx(fY,{product:t}),r.length>0&&w.jsxs("div",{className:"flex gap-6 w-full items-center max-sm:flex-col-reverse",children:[w.jsx(eh,{ref:c,spaceBetween:20,breakpoints:{768:{slidesPerView:1},769:{slidesPerView:2}},className:"w-full mx-1 mb-15 max-md:mb-8",children:r.map(v=>w.jsx(us,{children:w.jsxs("div",{className:"p-4 border-2 rounded-xl border-[#121212] overflow-hidden",children:[w.jsxs("div",{className:"flex items-start justify-between gap-1 mb-1",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[w.jsx("img",{src:yF(v.userPhotoURL),alt:v.userName,className:"w-10 h-10 rounded-full object-cover"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-[Inter] font-medium text-[18px] text-[#7a0000]",children:v.userName}),w.jsx("p",{className:"text-sm text-gray-500",children:_F(v.createdAt)})]})]},v.id),(i==null?void 0:i.uid)===v.userId&&w.jsx("button",{className:"text-[#000] transitioned text-5xl cursor-pointer hover:scale-110 ",onClick:()=>m(v.id),children:""})]},v.id),w.jsx(d1,{rating:v.rating}),w.jsx("p",{className:"text-[#121212] transitioned scrollable mt-3",style:{whiteSpace:"pre-wrap"},children:v.text})]},v.id)},v.id))}),w.jsxs("div",{className:"flex justify-evenly gap-3 border-0 w-[150px]",children:[w.jsx("button",{className:"w-[50px] cursor-pointer swiper-button-prev hover:scale-105 transitioned",onClick:()=>c.current.swiper.slidePrev(),children:w.jsx("img",{src:Sv,alt:"prev"})}),w.jsx("button",{className:"w-[50px] border-0 cursor-pointer swiper-button-next hover:scale-105 transitioned",onClick:()=>c.current.swiper.slideNext(),children:w.jsx("img",{src:bv,alt:"next"})})]})]})]})}function gY({product:t}){var i,r,s,l,c,d,p,m,v,x,T;const{opacity:e,blockRef:n}=Ro();return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.3},ref:n,className:"bg-[rgba(164,164,164,0.15)] py-[80px] max-md:py-[40px] my-10 relative",children:[w.jsxs("div",{className:"myContainer relative z-2",children:[t.kindOfProduct!=="box"&&w.jsx(Ge.h2,{variants:In,className:"font-[Cormorant] font-medium !text-[48px] text-[#121212] mb-[45px] max-md:!text-[32px] max-md:text-center",children:"Characteristics"}),t.kindOfProduct!=="box"&&w.jsx("div",{className:"flex justify-between items-center gap-30 font-[Inter] font-medium !text-[14px] tracking-wider uppercase text-[#121212] max-md:flex-col max-md:gap-20",children:(t==null?void 0:t.fullDescription)&&w.jsxs(w.Fragment,{children:[(t.fullDescription.prosentShugar!=null||t.fullDescription.prosentAcid!=null||t.fullDescription.prosentAroma!=null||t.fullDescription.prosentTaste!=null)&&w.jsxs("div",{className:"flex flex-col gap-[30px]",children:[!isNaN(((i=t.fullDescription)==null?void 0:i.prosentShugar)??NaN)&&w.jsxs("div",{className:"flex items-center justify-between gap-6 max-[420px]:flex-col",children:[w.jsx("h5",{children:"Sweetness"}),w.jsx("span",{className:"rounded-[10px] w-[244px] h-[7px] bg-[rgba(164,164,164,0.55)] relative overflow-hidden",children:w.jsx(Ge.div,{custom:244*(((r=t.fullDescription)==null?void 0:r.prosentShugar)??0)/100,variants:_m,className:"absolute top-0 left-0 h-full rounded-[10px] bg-[linear-gradient(135deg,_#7a0000_0%,_#900_100%)]"})})]}),!isNaN(((s=t.fullDescription)==null?void 0:s.prosentAcid)??NaN)&&w.jsxs("div",{className:"flex items-center justify-between gap-6 max-[420px]:flex-col",children:[w.jsx("h5",{children:"Acidity"}),w.jsx("span",{className:"rounded-[10px] w-[244px] h-[7px] bg-[rgba(164,164,164,0.55)] relative overflow-hidden",children:w.jsx(Ge.div,{custom:244*(((l=t.fullDescription)==null?void 0:l.prosentAcid)??0)/100,variants:_m,className:"absolute top-0 left-0 h-full rounded-[10px] bg-[linear-gradient(135deg,_#7a0000_0%,_#900_100%)]"})})]}),!isNaN(((c=t.fullDescription)==null?void 0:c.prosentAroma)??NaN)&&w.jsxs("div",{className:"flex items-center justify-between gap-6 max-[420px]:flex-col",children:[w.jsx("h5",{children:"Aromaticity"}),w.jsx("span",{className:"rounded-[10px] w-[244px] h-[7px] bg-[rgba(164,164,164,0.55)] relative overflow-hidden",children:w.jsx(Ge.div,{custom:244*(((d=t.fullDescription)==null?void 0:d.prosentAroma)??0)/100,variants:_m,className:"absolute top-0 left-0 h-full rounded-[10px] bg-[linear-gradient(135deg,_#7a0000_0%,_#900_100%)]"})})]}),!isNaN(((p=t.fullDescription)==null?void 0:p.prosentTaste)??NaN)&&w.jsxs("div",{className:"flex items-center justify-between gap-6 max-[420px]:flex-col",children:[w.jsx("h5",{children:"Taste"}),w.jsx("span",{className:"rounded-[10px] w-[244px] h-[7px] bg-[rgba(164,164,164,0.55)] relative overflow-hidden",children:w.jsx(Ge.div,{custom:244*(((m=t.fullDescription)==null?void 0:m.prosentTaste)??0)/100,variants:_m,className:"absolute top-0 left-0 h-full rounded-[10px] bg-[linear-gradient(135deg,_#7a0000_0%,_#900_100%)]"})})]})]}),w.jsxs("div",{className:"flex gap-[40px] flex-wrap max-md:text-center max-md:justify-center",children:[((v=t==null?void 0:t.fullDescription)==null?void 0:v.productStyle)&&w.jsxs(Ge.div,{variants:sc,className:"font-[Inter] font-medium",children:[w.jsxs("h3",{className:"!text-[18px] text-[#7a0000] mb-[10px]",children:[zr(t.kindOfProduct)," style:"]}),w.jsx("p",{className:"!text-[16px] text-[#121212] lowercase",children:t.fullDescription.productStyle})]}),((x=t==null?void 0:t.fullDescription)==null?void 0:x.tastingCharacteristics)&&w.jsxs(Ge.div,{custom:1,variants:sc,className:"font-[Inter] font-medium",children:[w.jsx("h3",{className:"!text-[18px] text-[#7a0000] mb-[10px]",children:"Tasting Characteristics:"}),w.jsx("p",{className:"!text-[16px] text-[#121212] lowercase",children:t.fullDescription.tastingCharacteristics})]}),((T=t==null?void 0:t.fullDescription)==null?void 0:T.gastronomicCombinations)&&w.jsxs(Ge.div,{custom:2,variants:sc,className:"font-[Inter] font-medium",children:[w.jsx("h3",{className:"!text-[18px] text-[#7a0000] mb-[10px]",children:"Gastronomic Combinations:"}),w.jsx("p",{className:"!text-[16px] text-[#121212] lowercase",children:t.fullDescription.gastronomicCombinations})]})]})]})}),t.kindOfProduct==="box"&&w.jsx(Ws,{productFilter:"boxStructure",structureConfig:t.structure})]}),w.jsx("div",{style:{opacity:e},className:"absolute w-[402px] h-[309px] bottom-[10%] right-[-10%] rotate-180 max-lg:bottom-[-10%] max-md:right-[-50%] max-md:bottom-[0]",children:w.jsx("img",{src:"/wineset/WineSpots/wine-spot-2.png",alt:"wine-spot-2"})})]})}function vY(){const{category:t,id:e}=JO(),[n,i]=B.useState(null),[r,s]=B.useState(!0);B.useLayoutEffect(()=>{(async()=>{if(t&&e){const d=await rp(t,e);d?(s(!1),i(d)):(s(!1),i(null),console.error(`Product with category "${t}" and ID "${e}" not found`))}})()},[t,e]);const l=B.useMemo(()=>n?QA(n.kindOfProduct):null,[n]);return r?w.jsx(_g,{message:"Loading..."}):w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[n&&w.jsxs("section",{children:[w.jsx(hY,{product:n}),w.jsx(gY,{product:n}),w.jsx(mY,{product:n}),w.jsx(Gn,{imgSrc:"/wineset/HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),n&&l&&w.jsx(Ws,{productFilter:l}),w.jsx(hs,{})]}),!n&&w.jsx(_g,{message:"404 Not Found"})]})}function _Y(){const{toggleUseBonuses:t,useBonuses:e,bonusesYouCanUse:n,bonusesAlreadyHas:i}=cp();return w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"mb-3 font-[Inter] text-left",children:"The bonus system on the site charges bonuses depending on the order value and current promotions. The basic percentage of bonuses is 5%, but it increases to 10% on holidays defined in the system. In addition, for orders exceeding the amount of 1000$ (without other discounts), an additional bonus percentage of 5% is added. The total amount of bonuses is calculated based on the order value, and the maximum number of bonuses that can be used is limited to the available user bonuses and the order amount."}),w.jsxs("p",{className:"mb-3 font-bold font-[Inter] text-left text-[20px]",children:["Bonuses in your account: ",i]}),w.jsxs("p",{className:"mb-3 font-bold font-[Inter] text-left text-[20px]",children:["Bonuses that you use in your Cart: ",n]}),w.jsx("button",{className:"text-center text-xl bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[400px] px-[84px] py-[20px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",onClick:()=>{t()},children:e?"Bonuses are used":"Bonuses aren't used"})]})}function yY(){const{cartProducts:t,totalCartDiscount:e,totalCartPriceWithoutDiscount:n,totalCartPriceWithDiscount:i}=Yi(),{bonusesYouCanUse:r,bonusesYouWillReceive:s}=cp(),{opacity:l,blockRef:c}=Ro(),d=Vf(),{open:p}=Er();function m(v){t.length>0?d(v):p("Notification",w.jsx("p",{className:"pb-5",children:"Firstly add items to Cart"}))}return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},ref:c,className:"relative",children:[w.jsx("div",{className:ei.container,children:w.jsxs("div",{className:"flex justify-between items-center gap-10 relative z-2 max-[1070px]:flex-col pt-10 pb-25",children:[w.jsxs("div",{children:[w.jsxs(Ge.h2,{variants:In,className:`${ei.cartFont} pb-[50px] border-b-1 border-[#000]`,children:["Cart (",t.length,")"]}),w.jsx(Xx,{})]}),w.jsxs(Ge.div,{custom:1,variants:sc,className:"bg-[rgba(164,164,164,0.45)] px-[60px] py-[40px] flex flex-col lg:min-w-[600px]",children:[w.jsxs("div",{className:"border-b-2 border-[rgb(95,95,95)] py-[25px]",children:[w.jsx("h3",{className:ei.orderTitleFont,children:"Your Order: "}),w.jsxs("div",{className:"flex flex-col gap-[20px] mt-[30px]",children:[w.jsxs("div",{className:"flex justify-between gap-3",children:[w.jsx("h6",{className:ei.title,children:"Products"}),w.jsxs("h6",{className:ei.priceOrder,children:[n,"$"]})]}),w.jsxs("div",{className:"flex justify-between gap-3",children:[w.jsx("h6",{className:ei.title,children:"Discount"}),w.jsxs("h6",{className:ei.orderRedPrice,children:["-",e,"$"]})]}),w.jsxs("div",{className:"flex justify-between gap-3",children:[w.jsx("button",{onClick:()=>{p("About Bonus System",w.jsx(_Y,{}))},className:`${ei.title} transitioned !text-[#7a0000] hover:underline cursor-pointer text-left`,children:"Bonuses discount available"}),w.jsxs("h6",{className:ei.orderRedPrice,children:["-",r,"$"]})]}),w.jsxs("div",{className:"flex justify-between gap-3",children:[w.jsx("h6",{className:ei.title,children:"Bonuses recieved"}),w.jsxs("h6",{className:ei.orderRedPrice,children:["+",s,"$"]})]})]})]}),w.jsxs("div",{className:"border-b-2 border-[rgb(95,95,95)] py-[25px] flex justify-between gap-3",children:[w.jsx("h2",{className:ei.orderFont,children:"Total"}),w.jsxs("h2",{className:ei.orderFont,children:[Math.max(i-r,0).toFixed(2),"$"]})]}),w.jsx("div",{className:"mt-[80px] flex justify-center",children:w.jsx("button",{onClick:()=>m("/Order"),children:w.jsx("div",{className:"text-center text-2xl bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[400px] px-[84px] py-[20px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000]",children:"Place an order"})})})]})]})}),w.jsx("div",{style:{opacity:l},className:"absolute w-[902px] h-[509px] top-[60%] right-[-20%] rotate-180 max-[1070px]:top-[90%]",children:w.jsx("img",{src:Xf("./WineSpots/wine-spot-1.png"),alt:"wine-spot-1"})})]})}function wY(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(yY,{}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}function xY(){return w.jsx(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"myContainer pb-18 max-sm:pb-12",children:w.jsxs("div",{className:"flex gap-10 justify-between items-center max-[920px]:flex-col",children:[w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsx(Ge.h2,{variants:In,className:"text-[#121212] not-italic font-[Cormorant] font-bold uppercase !text-[48px] max-[400px]:!text-[36px] max-sm:text-center pl-4",children:"The Art of Wine Presentation"}),w.jsx("p",{className:"indent-4 font-normal !text-[20px] leading-[1.4] text-[#121212] text-justify max-[400px]:!text-[16px]",children:"The presentation of wine is an art that elevates the entire tasting experience. From selecting the proper glassware to ensuring the wine is served at the ideal temperature, every detail matters. A graceful pour, the gentle swirl, and the aroma that rises from the glassall come together to create a moment of elegance and anticipation, setting the stage for the wine to reveal its full character."})]}),w.jsx("div",{className:"relative w-full min-w-[50%] aspect-video",children:w.jsx("iframe",{src:"https://www.youtube.com/embed/iv56O-NGBGg?si=kbbz6CzQpBz5WMqT",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,className:"absolute w-full h-full object-cover"})})]})})}function bY(){const{opacity:t,blockRef:e}=Ro();return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},ref:e,className:"py-5 relative",children:[w.jsx("div",{className:"myContainer relative z-2",children:w.jsxs("div",{className:"flex justify-between gap-7 items-center max-lg:flex-col",children:[w.jsx(Ge.h2,{variants:In,className:"text-[#121212] not-italic font-[Cormorant] font-bold uppercase !text-[48px] !max-sm:text-[36px] max-sm:text-center",children:"About our Sommeliers"}),w.jsxs("div",{className:"flex gap-5 max-sm:flex-col",children:[w.jsxs("div",{className:"flex-1 flex flex-col gap-5 max-w-[550px]",children:[w.jsx("div",{className:"relative max-w-[550px] h-[400px]",children:w.jsx("img",{className:"w-full h-full object-cover",src:"./SommelierPage/man1.png",alt:"man"})}),w.jsx("p",{className:"indent-4 font-normal text-[16px] leading-[1.4] text-[#121212]",children:"With a commanding knowledge of terroirs and traditions, our male sommeliers guide guests through the world of wine with confidence and charm. Their expertise transforms each tasting into a journeyone rooted in history, craftsmanship, and an unrelenting dedication to excellence."})]}),w.jsxs("div",{className:"flex-1 flex flex-col gap-5 max-w-[550px]",children:[w.jsx("div",{className:"relative max-w-[550px] h-[400px]",children:w.jsx("img",{className:"w-full h-full object-cover",src:"./SommelierPage/woman1.png",alt:"woman"})}),w.jsx("p",{className:"indent-4 font-normal text-[16px] leading-[1.4] text-[#121212]",children:"Graceful, intuitive, and endlessly passionate, our female sommeliers bring a refined elegance to every glass they pour. With an exceptional palate and a deep connection to the artistry of winemaking, they curate experiences that go beyond tastecreating moments that linger like a perfectly aged vintage."})]})]})]})}),w.jsx("div",{style:{opacity:t},className:"absolute w-[902px] h-[509px] top-[5%] left-[-5%]",children:w.jsx("img",{src:"./WineSpots/wine-spot-2.png",alt:"wine-spot-2"})})]})}function SY(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(bY,{}),w.jsx(Ws,{productFilter:"wine"}),w.jsx(xY,{}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}function TY(){const{active:t,title:e,children:n,withoutPadAndCross:i,close:r}=Er();return B.useEffect(()=>(t?document.body.classList.add("no-scroll-popup"):document.body.classList.remove("no-scroll-popup"),()=>{document.body.classList.remove("no-scroll-popup")}),[t]),t?ZN.createPortal(w.jsx(Ge.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-[#0000008e] bg-opacity-50 !z-[99999] flex justify-center items-center",children:w.jsxs(Ge.div,{initial:{opacity:0,y:"-50px"},animate:{opacity:1,y:"0px"},exit:{opacity:0,y:"-50px"},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-lg w-[90%] max-w-[700px] shadow-lg relative !z-[99999] max-md:mt-[5vh] overflow-hidden",children:[w.jsxs("div",{className:"bg-[#121212] flex justify-between items-center p-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-white",children:e}),!i&&w.jsx("button",{onClick:r,className:"text-2xl font-bold",children:w.jsx("img",{src:Tv,alt:"Close"})})]}),w.jsx("div",{className:i?"":"mt-4 p-4",children:n})]})}),document.body):null}function EY(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(Gn,{imgSrc:"./GiftBoxesPage/CandleLights/background.webp",supTitle:"Special offer",title:"glasses & andles",subTitle:"ORDER BEST CANDLES",subTitleLink:"/Glasses-and-candles/Candles",contentWidth:381}),w.jsx(vR,{}),w.jsx(_R,{}),w.jsx(Ws,{productFilter:"glass",filterByDiscount:!0}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}function AL({title:t,text:e,link:n,imgSrc:i}){return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"myContainer pt-10 pb-2 max-[950px]:text-center",children:[w.jsx(Ge.h2,{variants:In,className:"text-[#121212] font-[Cormorant] !font-bold uppercase leading-normal !text-[48px] max-md:!text-[40px] max-sm:!text-[30px] mb-3",children:t}),w.jsxs("div",{className:"flex items-center justify-between gap-8 max-[950px]:flex-col max-[950px]:gap-16",children:[w.jsxs("div",{className:"flex-2/3 text-[#121212] !text-[18px] font-[Inter] font-normal leading-[26px] tracking-[0] not-italic max-sm:!text-[16px]",children:[e,w.jsx(lp,{to:n,children:"MOREOVER"})]}),w.jsx("div",{className:"max-w-[550px] max-h-[350px]",children:w.jsx("img",{src:i,alt:i})})]})]})}function PY(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(Gn,{imgSrc:"/wineset/PageWineAlcoAndDelicacies/alco-drinks.webp",supTitle:"Special offer",title:"best wines & alcohols",subTitle:"ORDER BEST WINES",subTitleLink:"/Wine-and-alcohol/Wine",contentWidth:381}),w.jsx(AL,{title:"Our collections",text:w.jsxs(w.Fragment,{children:[w.jsx("p",{className:"md:first:indent-5 mb-4",children:"Explore our curated collection of fine wines and premium spirits from around the world. Whether you're searching for a bold red, a crisp white, or a celebratory sparkling wine, we offer a wide variety to satisfy every palate. Each bottle is carefully selected to reflect the character of its region and the craftsmanship of its producer."}),w.jsx("p",{className:"md:first:indent-5 mb-16",children:"In addition to wines, our selection includes top-shelf whiskeys, smooth vodkas, aromatic gins, and more. Whether you're planning a special event or simply enjoying a quiet evening, youll find the perfect drink to match the moment. Discover new favorites and timeless classics at your fingertips."})]}),link:"/Articles",imgSrc:"/wineset/PageWineAlcoAndDelicacies/wine.jpg"}),w.jsx(Ws,{productFilter:"wine",filterByDiscount:!1}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(Ws,{productFilter:"whiskey",filterByDiscount:!1}),w.jsx(hs,{})]})}function CY(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(Gn,{imgSrc:"/wineset/PageWineAlcoAndDelicacies/bg-delicacy.webp",supTitle:"Special offer",title:"gourmet delicacies",subTitle:"EXPLORE OUR DELICACIES",subTitleLink:"/Delicacies/Delicacies",contentWidth:381}),w.jsx(AL,{title:"Delicacies for Connoisseurs",text:w.jsxs(w.Fragment,{children:[w.jsx("p",{className:"md:first:indent-5 mb-4",children:"Pair your wine with exquisite delicacies that elevate every tasting experience. Our collection features gourmet cheeses, artisanal cookies, savory sauces, and other refined treats sourced from trusted producers across Europe."}),w.jsx("p",{className:"md:first:indent-5 mb-16",children:"Whether youre assembling a gift box, planning a wine and food pairing, or indulging in a moment of personal luxury  our delicacies are the perfect complement. Taste tradition, innovation, and craftsmanship in every bite."})]}),link:"/Delicacies/Delicacies",imgSrc:"/wineset/PageWineAlcoAndDelicacies/delicacy.jpeg"}),w.jsx(Ws,{productFilter:"delicacy",filterByDiscount:!1}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(Ws,{productFilter:"cheese",filterByDiscount:!1}),w.jsx(hs,{})]})}function IY(){return w.jsxs(Ge.section,{initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},className:"myContainer pt-10 pb-5",children:[w.jsxs("div",{className:"flex h-full gap-10 max-lg:flex-col items-center justify-between max-lg:text-center max-lg:gap-15 mb-15",children:[w.jsxs("div",{className:"",children:[w.jsx(Ge.h2,{variants:In,className:"text-[#121212] font-[Cormorant] !font-bold uppercase leading-normal !text-[48px] max-md:!text-[40px] max-sm:!text-[30px] mb-3",children:"About Delivery"}),w.jsx("p",{className:"text-[#121212] !text-[18px] font-[Inter] font-normal leading-[26px] tracking-[0] not-italic max-sm:!text-[16px] mb-13",children:"At our store, we take pride in offering fast and reliable delivery across Ukraine. Whether youre indulging in our gourmet delicacies for yourself or sending a thoughtful gift to someone special, we ensure that every order arrives fresh, well-packed, and with the utmost care. Our delivery service is designed to meet your needs, offering convenient shipping options and timely arrivals. With a focus on quality and customer satisfaction, we guarantee that your culinary experience begins the moment your package arrives at your doorstep."}),w.jsx(lp,{to:"/Cart",children:"GO TO CART"})]}),w.jsx("div",{className:"max-w-[550px] max-h-[350px]",children:w.jsx("img",{src:"/wineset/PageDelivery/delivery.webp",alt:"delivery"})})]}),w.jsxs("div",{className:"flex gap-20 justify-center items-center flex-wrap",children:[w.jsx("a",{href:"https://novaposhta.ua/",target:"_blank",children:w.jsx("img",{className:"max-w-[300px]",src:"/wineset/PageDelivery/Nova_Poshta.svg",alt:"Nova_Poshta"})}),w.jsx("a",{href:"https://www.ukrposhta.ua/ua",target:"_blank",children:w.jsx("img",{className:"max-w-[300px]",src:"/wineset/PageDelivery/Ukrposhta-ua.svg",alt:"Ukrposhta-ua"})}),w.jsx("a",{href:"https://ua.meest.com/",target:"_blank",children:w.jsx("img",{className:"max-w-[300px]",src:"/wineset/PageDelivery/Meest.svg",alt:"Meest-ua"})})]})]})}function AY(){return w.jsxs("div",{className:"relative pt-[143px] max-md:pt-[84px]",children:[w.jsx(Gn,{imgSrc:"/wineset/PageDelivery/delivery-bg.webp",supTitle:"Delivery Across Ukraine",title:"Delicacies to Your Doorstep",subTitle:"VIEW ALL ITEMS",subTitleLink:"/Cart",contentWidth:381}),w.jsx(IY,{}),w.jsx(Ws,{productFilter:"champagne",filterByDiscount:!1}),w.jsx(Gn,{imgSrc:"./HomePage/sommelier.jpg",supTitle:"Sommelier Choice",title:"NOT SURE WHICH TO CHOOSE? WE ARE READY TO HELP!",subTitle:"ARTICLES ABOUT WINE",subTitleLink:"/Articles",contentWidth:893}),w.jsx(hs,{})]})}function kY(){const{isFullAgedActive:t,setIsFullAgedActive:e}=xQ(),{initializeBonus:n,toggleUseBonuses:i}=cp(),{user:r}=Ni(),{initializeCart:s,totalCartPriceWithoutDiscount:l,cartProducts:c}=Yi(),{initializeWishlist:d}=Ao();B.useEffect(()=>{s(),d()},[]),B.useEffect(()=>{n()},[c,l,n,r,i]);const{open:p}=Er();return B.useEffect(()=>{p("Are you 18 or older?",w.jsxs("div",{className:"bg-[url(/18+.png)] bg-right bg-contain bg-no-repeat",children:[w.jsx("p",{className:"text-lg ml-6 pt-8 mb-8 pr-36 max-[375px]:pr-0",children:"The site contains information not recommended for individuals under the age of majority. Information are posted on the site exclusively The information license is intended only for personal use."}),w.jsx("button",{onClick:()=>e(!1),className:"bg-[#7A0000] border-2 border-[#7A0000] font-semibold max-w-[250px] px-[34px] py-[10px] rounded-[3px] text-white transition-all duration-300 ease-[cubic-bezier(0.075,0.82,0.165,1)] hover:bg-transparent hover:text-[#7A0000] ml-6 mb-8",children:"I am 18+"})]}),!0,t)},[p,t,e]),w.jsxs(FN,{basename:"/wineset/",children:[w.jsx(TF,{}),w.jsx(mN,{children:w.jsxs(nn,{path:"/",element:w.jsx(MW,{}),children:[w.jsx(nn,{index:!0,element:w.jsx(fH,{})}),w.jsx(nn,{path:"Glasses-and-candles",element:w.jsx(EY,{})}),w.jsx(nn,{path:"Gift-sets",element:w.jsx(GW,{})}),w.jsx(nn,{path:"Wine-and-alcohol",element:w.jsx(PY,{})}),w.jsx(nn,{path:"Delicacies",element:w.jsx(CY,{})}),"//!",w.jsx(nn,{path:"Glasses-and-candles/Glasses",element:w.jsx(Ns,{product:"glass"})}),w.jsx(nn,{path:"Glasses-and-candles/Candles",element:w.jsx(Ns,{product:"candle"})}),w.jsx(nn,{path:"Wine-and-alcohol/Wine",element:w.jsx(Ns,{product:"wine"})}),w.jsx(nn,{path:"Wine-and-alcohol/Champagne",element:w.jsx(Ns,{product:"champagne"})}),w.jsx(nn,{path:"Wine-and-alcohol/Whiskey",element:w.jsx(Ns,{product:"whiskey"})}),w.jsx(nn,{path:"Wine-and-alcohol/Vodka",element:w.jsx(Ns,{product:"vodka"})}),w.jsx(nn,{path:"Delicacies/Delicacies",element:w.jsx(Ns,{product:"delicacy"})}),w.jsx(nn,{path:"Delicacies/Cheese",element:w.jsx(Ns,{product:"cheese"})}),w.jsx(nn,{path:"Delicacies/Cookies",element:w.jsx(Ns,{product:"cookie"})}),w.jsx(nn,{path:"Delicacies/Sauce",element:w.jsx(Ns,{product:"sauce"})}),w.jsx(nn,{path:"Gift-sets/Boxes",element:w.jsx(Ns,{product:"box"})}),"//!",w.jsx(nn,{path:"/:category/:id",element:w.jsx(vY,{})}),"//!",w.jsx(nn,{path:"Cart",element:w.jsx(wY,{})}),w.jsx(nn,{path:"Order",element:w.jsx(nQ,{})}),w.jsx(nn,{path:"Articles",element:w.jsx(wQ,{})}),w.jsx(nn,{path:"Sommelier",element:w.jsx(SY,{})}),w.jsx(nn,{path:"Delivery",element:w.jsx(AY,{})}),"//!",w.jsx(nn,{path:"Soon",element:w.jsx(_g,{message:"This page will be added later"})}),w.jsx(nn,{path:"*",element:w.jsx(_g,{message:"404 Not Found"})})]})}),w.jsx(TY,{})]})}var RY=function(){return null};const LY=new UQ;xO.createRoot(document.getElementById("root")).render(w.jsx(B.StrictMode,{children:w.jsxs(GQ,{client:LY,children:[w.jsx(kY,{}),w.jsx(RY,{initialIsOpen:!1})]})}));
